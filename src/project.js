window.__require=function t(e,n,i){function o(s,c){if(!n[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var u="function"==typeof __require&&__require;if(!c&&u)return u(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+s+"'")}}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){return o(e[s][1][t]||t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({0:[function(t,e,n){"use strict";cc._RF.push(e,"fbd81P8QXVFoI8cK/dGSO7T","0");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};window.__extends=function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},window.__assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},window.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n},window.__decorate=function(t,e,n,o){var a,s=arguments.length,c=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(s<3?a(c):s>3?a(e,n,c):a(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c},window.__param=function(t,e){return function(n,i){e(n,i,t)}},window.__metadata=function(t,e){if("object"==("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},window.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function s(t){try{r(i.next(t))}catch(t){a(t)}}function c(t){try{r(i.throw(t))}catch(t){a(t)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}r((i=i.apply(t,e||[])).next())})},window.__generator=function(t,e){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return r([t,e])}}function r(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},window.__exportStar=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||__createBinding(e,t,n)},window.__createBinding=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},window.__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},window.__read=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,a=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return s},window.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},window.__spreadArrays=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],s=0,c=a.length;s<c;s++,o++)i[o]=a[s];return i},window.__await=function(t){return this instanceof __await?(this.v=t,this):new __await(t)},window.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){o[t]&&(i[t]=function(e){return new Promise(function(n,i){a.push([t,e,n,i])>1||c(t,e)})})}function c(t,e){try{(n=o[t](e)).value instanceof __await?Promise.resolve(n.value.v).then(r,u):h(a[0][2],n)}catch(t){h(a[0][3],t)}var n}function r(t){c("next",t)}function u(t){c("throw",t)}function h(t,e){t(e),a.shift(),a.length&&c(a[0][0],a[0][1])}},window.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,o){e[i]=t[i]?function(e){return(n=!n)?{value:__await(t[i](e)),done:"return"===i}:o?o(e):e}:o}},window.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,a){o(i,a,(e=t[n](e)).done,e.value)})}}function o(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}},window.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var a=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};window.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&__createBinding(e,t,n);return a(e,t),e},window.__importDefault=function(t){return t&&t.__esModule?t:{default:t}},window.__classPrivateFieldGet=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},window.__classPrivateFieldSet=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},cc._RF.pop()},{}],AStar:[function(t,e,n){"use strict";cc._RF.push(e,"e8961hYRMxF1r1E01dif8lq","AStar");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("BaseUI"),r=(i=(o=cc._decorator).ccclass,o.property,u.prototype.clear=function(){this.f=0,this.g=0,this.h=0,this.parent=null},u);function u(){this.x=0,this.y=0,this.f=0,this.g=0,this.h=0,this.parent=null,this.type=0}a.Grid=r,(o=s=s||{})[o.NONE=0]="NONE",o[o.OBSTACLE=-1]="OBSTACLE",o[o.START=1]="START",o[o.END=2]="END";var h;h=c.default,__extends(l,h),l.prototype.onLoad=function(){h.prototype.onLoad.call(this);var t=this.node.getComponent(cc.TiledMap);this._cashpath={},this._gridW=t.getTileSize().width,this._gridH=t.getTileSize().height,this.mapH=t.getMapSize().height,this.mapW=t.getMapSize().width,this.is8dir=!1,this.initMap()},l.prototype.setMapData=function(t,e,n){this.gridsList[t][e].type=n?s.OBSTACLE:s.NONE},l.prototype.initMap=function(){this.openList=[],this.closeList=[],this.path=[],this.gridsList=new Array(this.mapW+1);for(var t=0;t<this.gridsList.length;t++)this.gridsList[t]=new Array(this.mapH+1);for(t=0;t<=this.mapW;t++)for(var e=0;e<=this.mapH;e++)this.addGrid(t,e,s.NONE)},l.prototype.addGrid=function(t,e,n){var i=new r;i.x=t,i.y=e,i.type=n,this.gridsList[t][e]=i},l.prototype._sortFunc=function(t,e){return t.f-e.f},l.prototype.generatePath=function(t){for(this.path.push(cc.v2(t.x,t.y));t.parent;)t=t.parent,this.path.push(cc.v2(t.x,t.y))},l.prototype.findPath=function(t,e){this.openList=[],this.closeList=[],this.path=[];var n=cc.v2(Math.floor(t.x/60),Math.floor(t.y/60)),i=cc.v2(Math.floor(e.x/60),Math.floor(e.y/60)),o="sx"+n.x+"sy"+n.y+"ex"+i.x+"ey"+i.y;if(this._cashpath[o])return this.path=this._cashpath[o],void console.log("\u5bfb\u8def\u590d\u7528");for(var a=0;a<=this.mapW;a++)for(var c=0;c<=this.mapH;c++)this.gridsList[a][c].clear(),this.gridsList[a][c].type!=s.START&&this.gridsList[a][c].type!=s.END||(this.gridsList[a][c].type=s.NONE);if(this.gridsList[n.x][n.y].type=s.START,e=this.gridsList[n.x][n.y],this.gridsList[i.x][i.y].type=s.END,e.type!=s.END){this.openList.push(e);for(var r=this.openList[0];0<this.openList.length&&r.type!=s.END;){if((r=this.openList[0]).type==s.END)return this.generatePath(r),o="sx"+n.x+"sy"+n.y+"ex"+i.x+"ey"+i.y,void(this._cashpath[o]=JSON.parse(JSON.stringify(this.path)));for(var u=-1;u<=1;u++)for(var h=-1;h<=1;h++)if((0!=u||0!=h)&&(a=r.x+u,c=r.y+h,0<=a&&0<=c&&a<=this.mapW&&c<=this.mapH&&-1!=this.gridsList[a][c].type&&this.closeList.indexOf(this.gridsList[a][c])<0)){if(this.is8dir){if(-1==this.gridsList[a-u][c].type||-1==this.gridsList[a][c-h].type)continue}else if(Math.abs(u)==Math.abs(h))continue;var l=r.g+Math.sqrt(Math.pow(10*u,2)+Math.pow(10*h,2));(0==this.gridsList[a][c].g||this.gridsList[a][c].g>l)&&(this.gridsList[a][c].g=l,this.gridsList[a][c].parent=r),this.gridsList[a][c].h=Math.abs(i.x-a)+Math.abs(i.y-c),this.gridsList[a][c].f=this.gridsList[a][c].g+this.gridsList[a][c].h,this.openList.indexOf(this.gridsList[a][c])<0&&this.openList.push(this.gridsList[a][c])}this.closeList.push(r),this.openList.splice(this.openList.indexOf(r),1),this.openList.length<=0&&cc.log("find path failed."),this.openList.sort(this._sortFunc)}}else this.path=[cc.v2(e.x,e.y)]},i=__decorate([i],l);function l(){var t=null!==h&&h.apply(this,arguments)||this;return t.is8dir=!1,t.drawPaths=[],t.path=[],t}a.default=i,cc._RF.pop()},{}],AdCenter:[function(t,e,n){"use strict";cc._RF.push(e,"04f46M4nKZHVpGCqJxlR4+3","AdCenter");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});o=i("Singleton");var s=i("MsgHints"),c=i("DataManager"),r=i("GameEvent"),u=i("EventType"),h=i("Utils"),l=window.wx||window.tt;(i=p=p||{})[i.EAD_CUXIAO_DAZHE=0]="EAD_CUXIAO_DAZHE",i[i.EAD_CUXIAO_JINHUO=1]="EAD_CUXIAO_JINHUO",i[i.EAD_CUXIAO_JIEZHANG=2]="EAD_CUXIAO_JIEZHANG",i[i.EAD_STAFF_JIASU=3]="EAD_STAFF_JIASU",a.EAD=p;var d,p=cc._decorator;p.ccclass,p.property,d=o.default,__extends(f,d),f.prototype.getReward=function(t){return 0},f.prototype.check=function(t){return this.bvideoLoaded},f.prototype.play=function(t,e){var n=this;h.default.getServerTime()-this._lasttryplaytime<1e3?console.log("\u70b9\u51fb\u8fc7\u4e8e\u9891\u7e41"):(console.log("\u5c1d\u8bd5\u64ad\u653e\u5e7f\u544a"),this._lasttryplaytime=h.default.getServerTime(),this.callBack=e,cc.sys.platform==cc.sys.WECHAT_GAME&&this.VideoAd?(this.VideoAd.show().catch(function(){n.VideoAd.load().then(function(){return n.VideoAd.show()}).catch(function(t){cc.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),n.bvideoLoaded=!1,n.callBack(!1)})}),this.bvideoLoaded=!1):(c.default.Instance().watch_ad_count++,c.default.Instance().watch_ad_count_total++,this.callBack(!0)))},f.prototype.hideBanner=function(){},f.prototype.showBanner=function(){},f.prototype.showinterstitialAd=function(){},f.bIphoneX=!1,o=f;function f(){var t=d.call(this)||this;return t.VideoAd=null,t.bannerAd=null,t.interstitialAd=null,t.bvideoLoaded=!1,t.bbannerLoaded=!1,t._lasttryplaytime=0,cc.sys.platform!=cc.sys.WECHAT_GAME&&(t.bvideoLoaded=!0),cc.sys.platform==cc.sys.WECHAT_GAME&&l.createRewardedVideoAd&&(t.VideoAd=l.createRewardedVideoAd({adUnitId:"ar0nbp61ca911f791j"}),t.VideoAd.onError(function(t){console.log("onError",t),s.default.show("\u5e7f\u544a\u52a0\u8f7d\u9519\u8bef")}),t.VideoAd.onLoad(function(){t.bvideoLoaded=!0}),t.VideoAd.onClose(function(e){e&&e.isEnded||void 0===e?(cc.log("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),c.default.Instance().watch_ad_count++,c.default.Instance().watch_ad_count_total++,r.default.Instance().dispatch(u.default.AD_COMPLETE),t.callBack(!0)):(cc.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),t.callBack(!1))})),t}a.default=o,cc._RF.pop()},{}],Advertisement_API:[function(t,e,n){"use strict";cc._RF.push(e,"9ad72Bh+tJLAr/KtprQU52q","Advertisement_API"),window.shipinID="be639ed1bb114848993afdac08217f18";var i={initVal:function(){i.recorder=null,i.resNode=null,i.currtimer=0,i.cstop=!1,i.videoPath="",i.erroRecNode=null,i.erroNode=null,i.nrewardNode=null,i.bannerAd=null,i.bannerAdon=!1,i.nativeAd=null,i.nativeAdn=null,i.nativeAdtouch=!1,i.bannersize=!1,i.insertAd=null,i.videoAd=null,i.reward=!0,i.rewarda="",i.rewardNode=null,i.native=!0,i.insert=!0,i.banner=!0,i.video=!0,i.boolBannerVivo=!0,i.boolReward=!0,i.bgmusic=0,i.adId="",i.nativeAdl=null,i.mobileVersions=null,i.boolIp=!1,i.bg8=null,i.curThis=null,i.rewardAdNode=cc.find("erroNode"),cc.game.addPersistRootNode(i.rewardAdNode),i.videop=null,i.data=null,qg.getSystemInfo({success:function(t){console.log("handling success\uff0c screenHeight = "+t.screenHeight),i.data=t}})},insertAdverV:function(){qg.createCustomAd&&i.data&&(i.customAd=qg.createCustomAd({posId:"3925ef755ac44b71816c115e9d80c4d6",style:{left:i.data.screenWidth/4,top:i.data.screenHeight/8}}),i.customAd.onError(function(t){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),i.customAd.show().then(function(){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))}))},DestroyV:function(){i.customAd.destroy()},bannerAdverV:function(){if(i.boolBannerVivo){var t=function(){var t=qg.createBannerAd({posId:"2c51e3861e0f4d029b28d6f6751496e1",style:{}}).show();t&&t.catch(function(t){console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25-\u91cd\u8bd5"),console.log(JSON.stringify(t))})};null!=i.bannerAd&&(i.bannerAd.destroy(),i.bannerAd=null),i.boolBannerVivo=!1,i.bannerAd=qg.createBannerAd({posId:"8947530191da4cbc8abb73ad1a5aba65",style:{}});var e=i.bannerAd.show();e&&e.then(function(){console.log("banner\u5e7f\u544a\u5c55\u793a\u6210\u529f"),i.resNode.scheduleOnce(function(){i.boolBannerVivo=!0},10)}).catch(function(e){switch(e.code){case 30003:console.log("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149Banner\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528"),setTimeout(function(){i.boolBannerVivo=!0},1e4);break;case 30002:console.log("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a"),setTimeout(function(){t()},1e4);break;default:console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(e))}}),i.bannerAd.onClose(function(){i.resNode.scheduleOnce(function(){i.bannerAdverV()},60)})}},bannerDestroy:function(){null!=i.bannerAd&&(i.bannerAd.destroy(),i.bannerAd=null,i.bannersize=!1)},videoAdverV:function(){null==i.videoAd&&(i.videoAd=qg.createRewardedVideoAd({posId:"a5fb22631a8f4f078895535b74e0f9a0"}),i.videoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5df2\u52a0\u8f7d"),cc.audioEngine.pauseAll();var t=i.videoAd.show();i.reward=!0,t&&t.then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u5931\u8d25",t)})}),i.videoAd.onError(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38",t)}),i.videoAd.onClose(function(t){t&&t.isEnded?i.reward&&(i.reward=!1,cc.audioEngine.resumeAll(),"reward1"==i.rewarda?i.videop.reward1():"reward2"==i.rewarda?i.videop.reward2():"reward3"==i.rewarda&&i.videop.reward3(),console.log("\u5956\u52b1\u5df2\u53d1\u653e")):(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),cc.audioEngine.resumeAll())}));var t=i.videoAd.load();t&&t.then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)})}};e.exports=i,cc._RF.pop()},{}],AudioMgr:[function(t,e,n){"use strict";cc._RF.push(e,"c4310qOOsJLaZuNAeTaQNgO","AudioMgr");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});o=i("Singleton");var s,c=i("DataManager");s=o.default,__extends(r,s),r.prototype.loadSounds=function(){var t=cc.sys.localStorage.getItem("bgmVolume"),e=cc.sys.localStorage.getItem("sfxVolume");this.bgmVolume=0==t?Number(t):1,this.sfxVolume=0==e?Number(e):1,console.log("loadSounds",this.bgmVolume,this.sfxVolume),cc.log(this.bgmVolume,this.sfxVolume),cc.loader.loadResDir("sounds")},r.prototype.getUrl=function(t){return cc.loader.getRes("sounds/"+t)},r.prototype.playBGM=function(t){t=this.getUrl(t),0<=this.bgmAudioID&&cc.audioEngine.stop(this.bgmAudioID),0<this.bgmVolume&&(this.bgmAudioID=cc.audioEngine.play(t,!0,this.bgmVolume))},r.prototype.stopSFX=function(t){return cc.audioEngine.stop(t)},r.prototype.playSFX=function(t){if(t=this.getUrl(t),0<this.sfxVolume)return this.audioId=cc.audioEngine.play(t,!1,this.sfxVolume),this.audioId},r.prototype.pauseBGM=function(){0<=this.bgmAudioID&&cc.audioEngine.pause(this.bgmAudioID)},r.prototype.resumBGM=function(){0<=this.bgmAudioID&&cc.audioEngine.resume(this.bgmAudioID)},r.prototype.setBGMVolume=function(t,e){void 0===e&&(e=!1),this.bgmVolume==t&&!e||(cc.sys.localStorage.setItem("bgmVolume",t),this.bgmVolume=t,cc.audioEngine.setVolume(this.bgmAudioID,t)),0<=this.bgmAudioID?0<t?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID):this.playBGM(c.GAME_CONFIG.music_bgm)},r.prototype.setSFXVolume=function(t,e){void 0===e&&(e=!1),this.sfxVolume==t&&!e||(cc.sys.localStorage.setItem("sfxVolume",t),this.sfxVolume=t)},o=r;function r(){var t=null!==s&&s.apply(this,arguments)||this;return t.bgmVolume=1,t.sfxVolume=1,t.bgmAudioID=-1,t.audioId=-1,t}a.default=o,cc._RF.pop()},{}],AuthorizeLayer:[function(t,e,n){"use strict";cc._RF.push(e,"e97bfJA0XlLYKgefGc+2qq0","AuthorizeLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("AudioMgr"),u=o("WXTTUtils"),h=o("DataManager"),l=o("GameEvent"),d=window.tt||window.wx;o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(p,s),p.prototype.onBtnClicked=function(t,e){switch(t=t.target.name,r.default.Instance().playSFX("click"),t){case"btn_close":this.closeUI();break;case"btn_authorize":if(!d)return void this.closeUI();"createUserInfoButton"in d||d.openSetting(),this.closeUI()}},p.prototype.onDestroy=function(){s.prototype.onDestroy.call(this),cc.game.off(cc.game.EVENT_SHOW,this.onGameShow),this.authorbtn&&this.authorbtn.destroy()},p.prototype.start=function(){var t=this;d&&"createUserInfoButton"in d&&(this.authorbtn=u.default.createAuthorizeBtn(this.GetGameObject("btn_authorize"),function(){u.default.Instance().LoginWxOrTT(),t.closeUI()})),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this)},p.prototype.onGameShow=function(){d.login({success:function(t){h.default.Instance().js_code=t.code,d.getUserInfo({success:function(t){t=t.userInfo,h.default.Instance().nickname=t.nickName,h.default.Instance().headimg=t.avatarUrl,l.default.Instance().dispatch("SDK_LOGIN_SUCC")},fail:function(t){}})},fail:function(t){}})},o=__decorate([o],p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.authorbtn=null,t}a.default=o,cc._RF.pop()},{}],BaseTianshi:[function(t,e,n){"use strict";cc._RF.push(e,"68c669gHDxG8IG3ba9GGEdD","BaseTianshi");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("Utils"),h=o("AudioMgr"),l=o("GameManager"),d=o("UIManager"),p=o("UIJiJingLayer");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(f,s),f.prototype.onLoad=function(){var t=this;s.prototype.onLoad.call(this),this.spineNode=this.GetGameObject("spine").getComponent(sp.Skeleton),this.spineNode.setAnimation(0,"daiji",!0),this.rigester("GAME_BUSY_CLOSE",function(e){t.leave()}),this.rigester("GAME_TIANSHI_OVER",function(e){e&&e.ShopID==t.shopID&&t.leave()})},f.prototype.start=function(){this.isOver=!1,this.node.opacity=0},f.prototype.onBtnClicked=function(t,e){var n=this,i=t.target.name;"btn_waring"===(h.default.Instance().playSFX(r.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),i)&&u.default.createUI("prefab/UI/UIJiJingLayer").then(function(t){t.getComponent(p.default).initBox(n.shopID)})},f.prototype.setConfig=function(t){this.shopID=t,this.node.x=-200,this.node.y=0,this.node.opacity=255,this.roadPath=l.default.Instance().getGameMGRByShopID(this.shopID).Instance().getTianshiComeRoadPath(),this.doMove(!0),this.node.zIndex=667-this.node.y},f.prototype.update=function(t){var e,n=this;this.roadPath&&(this.orderTick+=t,1<=this.orderTick&&this.shopID==d.default.Instance().shopID&&(this.orderTick=0,this.node.zIndex=667-this.node.y),!this.bmoveto)&&(e=this.roadPath[this.roadIndex+1],this.vSpeed=e.sub(this.node.position).normalizeSelf().mul(this.speed/(1/t)),this.node.position=this.node.position.add(this.vSpeed.mul(1)),e.sub(this.node.position).mag()<50&&(this.bmoveto=!0,this.vSpeed=cc.Vec2.ZERO,this.node.runAction(cc.sequence(cc.moveTo(50/this.speed,e),cc.callFunc(function(){n.bmoveto=!1,n.doMove()})))),e.x>=this.node.x?this.GetGameObject("spine").scaleX=this.spineScale:this.GetGameObject("spine").scaleX=-this.spineScale)},f.prototype.doMove=function(t){(t=void 0!==t&&t)&&(this.roadIndex=-1),this.vSpeed=cc.Vec2.ZERO,-1==this.roadIndex&&this.node.setPosition(this.roadPath[0]),this.roadIndex++,this.roadIndex>=this.roadPath.length-1?this.arrive():l.default.Instance().getGameMGRByShopID(this.shopID).Instance().checkForPosJindian(this.roadPath[this.roadIndex+1])||l.default.Instance().getGameMGRByShopID(this.shopID).Instance().checkForPosJindian(this.roadPath[this.roadIndex])?(this.spineNode.setAnimation(0,"walk",!0),this.speed=125):(this.spineNode.setAnimation(0,"paoche",!0),this.speed=400)},f.prototype.arrive=function(){this.roadPath=null,this.isOver?this.node.removeFromParent():(this.node.zIndex=667-this.node.y,this.showBtnWaring(!0),this.spineNode.setAnimation(0,"daiji",!0))},f.prototype.leave=function(){this.isOver=!0,this.showBtnWaring(!1),this.roadPath=l.default.Instance().getGameMGRByShopID(this.shopID).Instance().getTianshiLeaveRoadPath(),this.doMove(!0)},f.prototype.showBtnWaring=function(t){this.GetGameObject("bg_dzcw").active=t,this.GetGameObject("btn_waring").active=t},o=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.spineNode=null,t.speed=125,t.shopID=-1,t.roadPath=null,t.roadIndex=-1,t.vSpeed=cc.Vec2.ZERO,t.bmoveto=!1,t.spineScale=.7,t.orderTick=0,t.isOver=!1,t}a.default=o,cc._RF.pop()},{}],BaseUI:[function(t,e,n){"use strict";cc._RF.push(e,"da6ddR8mzFCtI19mMwKxBRP","BaseUI");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("GameEvent"),r=i("Utils");i=(o=cc._decorator).ccclass,o=o.property,s=cc.Component,__extends(u,s),u.prototype.onLoad=function(){this.events=[],this._root=this.node,this.addClickEvent&&this._addClickEvent(this._root),this._create_time=r.default.getServerTime()},u.prototype._findInChildren=function(t,e){var n=t.getChildByName(e);if(n)return n;if(0==t.childrenCount)return null;for(var i=0;i<t.childrenCount;++i){var o=this._findInChildren(t.children[i],e);if(o)return o}return null},u.prototype.GetGameObject=function(t,e){if(!(e=void 0!==e&&e)){if(this.m_objects.has(t))return this.m_objects[t];if(t==this.node.name)return this.node}var n;return-1!=t.indexOf("/")?(n=cc.find(t,this._root))&&(this.m_objects[t]=n):(n=this._findInChildren(this._root,t))&&(this.m_objects[t]=n),n},u.prototype.GetSkeleton=function(t){return this.m_objects.has(t)?this.m_objects[t].getComponent(sp.Skeleton):(t=this.GetGameObject(t))?t.getComponent(sp.Skeleton):null},u.prototype.GetSprite=function(t){return this.m_objects.has(t)?this.m_objects[t].getComponent(cc.Sprite):(t=this.GetGameObject(t))?t.getComponent(cc.Sprite):null},u.prototype.SetSprite=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(o){switch(o.label){case 0:return(n=this.GetSprite(t))?(i=n,[4,r.default.loadRes(e,cc.SpriteFrame)]):[3,2];case 1:i.spriteFrame=o.sent(),o.label=2;case 2:return[2]}})})},u.prototype.GetText=function(t){return this.m_objects.has(t)?this.m_objects[t].getComponent(cc.Label):(t=this.GetGameObject(t))?t.getComponent(cc.Label):null},u.prototype.GetProgressBar=function(t){return this.m_objects.has(t)?this.m_objects[t].getComponent(cc.ProgressBar):(t=this.GetGameObject(t))?t.getComponent(cc.ProgressBar):null},u.prototype.GetButton=function(t){return this.m_objects.has(t)?this.m_objects[t].getComponent(cc.Button):(t=this.GetGameObject(t))?t.getComponent(cc.Button):null},u.prototype.GetInputField=function(t){return this.m_objects.has(t)?this.m_objects[t].getComponent(cc.EditBox):(t=this.GetGameObject(t))?t.getComponent(cc.EditBox):null},u.prototype.GetSlider=function(t){return this.m_objects.has(t)?this.m_objects[t].getComponent(cc.Slider):(t=this.GetGameObject(t))?t.getComponent(cc.Slider):null},u.prototype.SetText=function(t,e){this.GetText(t)&&(this.GetText(t).string=e)},u.prototype.SetInputText=function(t,e){this.GetInputField(t)&&(this.GetInputField(t).string=e)},u.prototype.SetProgressBar=function(t,e){this.GetProgressBar(t)&&(this.GetProgressBar(t).progress=e)},u.prototype._isSkipNode=function(t){for(var e=0;e<this.skipNode.length;++e)if(t==this.skipNode[e])return!0;return!1},u.prototype._addClickEvent=function(t){if(!this._isSkipNode(t))for(var e=0;e<t.childrenCount;++e){var n=t.children[e];this._isSkipNode(n)||(n.getComponent(cc.Button)&&r.default.addClickEvent(n,this.node,cc.js.getClassName(this),"onBtnClicked",n.getComponent(cc.Button).target),this._addClickEvent(n))}},u.prototype.onBtnClicked=function(t,e){"btn_close"===t.target.name&&this.closeUI()},u.prototype.getChildByName=function(t,e){return cc.find(t,e||this.node)},u.prototype.startAnim=function(){var t,e,n;this.node&&(this.node.opacity=0,this.node.active=!0,this.node.setScale(.8,.8),t=cc.delayTime(.1),e=cc.fadeIn(.1),n=cc.scaleTo(.1,1),this.node.runAction(cc.spawn(t.clone(),e,t.clone(),n)))},u.prototype.shutAnim=function(){var t=this;this.node.setScale(1,1);var e=cc.fadeOut(.1),n=cc.scaleTo(.05,1);this.node.runAction(cc.sequence(cc.spawn(n,e),cc.callFunc(function(){t.node.active=!1,t.node.destroy()})))},u.prototype.closeUI=function(){r.default.getServerTime()-this._create_time<500?console.log("0.5\u79d2\u5185\u4e0d\u5141\u8bb8\u5173\u95ed"):this.shutAnim()},u.prototype.onDestroy=function(){for(var t=0;t<this.events.length;++t)c.default.Instance().unregister(this,this.events[t]);cc.loader.release(this._url)},u.prototype.rigester=function(t,e){this.events.push(t),c.default.Instance().register(this,t,e)},u.prototype.dispatch=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(e=c.default.Instance()).dispatch.apply(e,[t].concat(n))},u.prototype.playSkAni=function(t,e,n,i,o){return void 0===o&&(o=-1),__awaiter(this,void 0,void 0,function(){var a,s,c;return __generator(this,function(u){switch(u.label){case 0:return(a=new cc.Node).parent=n,a.position=i,s=a.addComponent(sp.Skeleton),[4,r.default.loadRes(t,sp.SkeletonData)];case 1:return c=u.sent(),s.skeletonData=c,s.setAnimation(0,e,!1),-1!=o&&a.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(function(){a.parent=null}))),[2,a]}})})},__decorate([o({displayName:"\u81ea\u52a8\u6ce8\u518c\u70b9\u51fb"})],u.prototype,"addClickEvent",void 0),__decorate([o({type:cc.Node,displayName:"\u9700\u8981\u8df3\u8fc7\u6309\u94ae\u6ce8\u518c\u7684\u8282\u70b9"})],u.prototype,"skipNode",void 0),i=__decorate([i],u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t._url="",t.events=[],t.addClickEvent=!0,t.skipNode=[],t._create_time=0,t.m_objects=new Map,t}a.default=i,cc._RF.pop()},{}],Base_Chushi:[function(t,e,n){"use strict";cc._RF.push(e,"13622178PFGL5ALwG77iVo9","Base_Chushi");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("DataManager"),h=o("Utils"),l=o("GameManager"),d=o("MsgHints"),p=o("UIManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(f,s),f.prototype.onLoad=function(){var t=this;s.prototype.onLoad.call(this),this.spineNode=this.GetGameObject("spine").getComponent(sp.Skeleton),this.spineNode.setAnimation(0,"idle",!0),this.rigester("GAME_BUSY_START",function(e){t.workStart()}),this.rigester("GAME_BUSY_CLOSE",function(e){t.workOver()})},f.prototype.start=function(){l.default.Instance().ShopState==r.ShopState.\u51cc\u6668\u505c\u4e1a&&this.workOver(),this.showTalk(!1)},f.prototype.updateFrame=function(t){var e=this;if(0<this.node.opacity&&!this.canTalk&&this.shopID==p.default.Instance().shopID&&(this.talkTick+=t,this.talkTick>=u.GAME_CONFIG.staff_talk_time&&(this.canTalk=!0,this.talkTick=0)),!(this.shopID<0||this.isJiedan||this.isWalking))if(this.curDingdan){if(this.cooktime+=t,this.shopID==p.default.Instance().shopID&&this.updateTimeProgress(),!this.foodCFG)return d.default.show("\u8ba2\u5355\u4fe1\u606f\u9519\u8bef"),void(this.curDingdan=null);if(this.cooktime>=this.getFoodRealCookTime()){if(console.log("\u5e97\u94fa"+this.shopID+"\u8ba2\u5355"+this.curDingdan.id+"\u70f9\u996a\u5b8c\u6210"),this.shopID==r.ShopID.\u7092\u996d\u9986&&cc.find("Canvas/hotel_1/chushi_luzi_"+(this.csIndex-1)).getComponent(sp.Skeleton).setAnimation(0,"idle",!0),this.spineNode.setAnimation(0,"idle",!0),this.curDingdan.price=Math.ceil(this.foodCFG.price*u.default.Instance().getShopJiajuBuff(this.shopID)),l.default.Instance().ShopState==r.ShopState.\u4e0b\u5348\u8425\u4e1a&&(this.curDingdan.price=Math.ceil(this.curDingdan.price*(1+u.GAME_CONFIG.shop_time_xiawu))),this.curDingdan.state=-1!=this.curDingdan.group?r.FoodState.\u56e2\u4f53\u70f9\u996a\u5b8c\u6210:r.FoodState.\u70f9\u996a\u5b8c\u6210,-1!=this.curDingdan.group){for(var n=!0,i=l.default.Instance().getShopDDListByShopID(this.shopID),o=0;o<i.length;++o)if(i[o].group==this.curDingdan.group&&i[o].state!=r.FoodState.\u56e2\u4f53\u70f9\u996a\u5b8c\u6210){n=!1;break}if(n){var a=null,s=0;for(o=i.length-1;0<=o;--o)i[o].group==this.curDingdan.group&&(s+=i[o].price,i[o-1]&&i[o-1].group!=this.curDingdan.group||!i[o-1]?a=i[o]:i.splice(o,1));a.price=s,a.state=r.FoodState.\u70f9\u996a\u5b8c\u6210}}this.curDingdan=null,this.cooktime=0,this.showTimeProgress(!1),l.default.Instance().getGameMGRByShopID(this.shopID).Instance().cook_num++,this.canTalk&&(t=h.default.getRandomInt(0,u.GAME_CONFIG.staff_chushi_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_chushi_tips[t]),this.canTalk=!1)}}else this.curDingdan=l.default.Instance().getDingdanByShopID(this.shopID),this.curDingdan&&(this.isJiedan=!0,p.default.Instance().ani_cs_dingdan(this.shopID,this.curDingdan,this.csIndex,function(){p.default.Instance().del_dingdan_icon(e.shopID,e.curDingdan.id),e.isJiedan=!1,e.foodCFG=r.default.Instance().getFoodDataByID(e.curDingdan.foodID),e.chushiCFG=r.default.Instance().getShopChushiDataByShopID(e.shopID,u.default.Instance().getShopCSLVByID(e.shopID,e.csIndex),e.csIndex),e.shopID==r.ShopID.\u7092\u996d\u9986&&cc.find("Canvas/hotel_1/chushi_luzi_"+(e.csIndex-1)).getComponent(sp.Skeleton).setAnimation(0,"cook",!0),e.spineNode.setAnimation(0,"cook",!0),e.showTimeProgress(!0)}))},f.prototype.getFoodRealCookTime=function(){var t=this.foodCFG.cooktime*(1-this.chushiCFG.cooktime/100)*(0<u.default.Instance().isBonus?2:1)*(-1<this.curDingdan.group?.5:1);return t<u.GAME_CONFIG.staff_chushi_cooktime_min?u.GAME_CONFIG.staff_chushi_cooktime_min:t},f.prototype.setConfig=function(t,e){var n=this;this.shopID=t,this.csIndex=e,cc.loader.loadRes("spine/staff/chushi_"+(this.shopID>=r.ShopID.\u7c73\u5176\u6797?this.shopID+1:"0"+(this.shopID+1)),sp.SkeletonData,function(t,e){t&&cc.error("\u52a0\u8f7d\u5931\u8d25",t),cc.isValid(n.node)&&(n.spineNode.skeletonData=e,n.spineNode.setAnimation(0,"idle",!0))}),(this.shopID==r.ShopID.\u4e2d\u9910\u9986||this.shopID==r.ShopID.\u7c73\u5176\u6797&&3==this.csIndex)&&(this.GetGameObject("spine").scaleX=-Math.abs(this.GetGameObject("spine").scaleX))},f.prototype.showTimeProgress=function(t){(this.GetGameObject("progressBar_time").active=t)&&this.updateTimeProgress()},f.prototype.updateTimeProgress=function(){var t=this.cooktime/this.getFoodRealCookTime();1<(t=t<0?0:t)&&(t=1),this.GetProgressBar("progressBar_time").progress=t},f.prototype.moveRound=function(){var t=this,e=h.default.getRandomInt(-this.walkRound,this.walkRound),n=h.default.getRandomInt(-this.walkRound,this.walkRound),i=h.default.getPosDistance(this.node.position,cc.v2(e,n))/this.speed;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.spineNode.setAnimation(0,"walk",!0)}),cc.moveTo(i,e,n),cc.callFunc(function(){t.spineNode.setAnimation(0,"idle",!0)}),cc.delayTime(1),cc.callFunc(function(){t.moveRound()})))},f.prototype.workOver=function(){var t=this;this.shopID==r.ShopID.\u7092\u996d\u9986&&cc.find("Canvas/hotel_1/chushi_luzi_"+(this.csIndex-1)).getComponent(sp.Skeleton).setAnimation(0,"idle",!0);var e=l.default.Instance().getGameMGRByShopID(this.shopID).Instance().pos_left,n=(e=this.node.parent.convertToNodeSpaceAR(this.node.parent.parent.convertToWorldSpaceAR(e)),l.default.Instance().getGameMGRByShopID(this.shopID).Instance().pos_right),i=(n=this.node.parent.convertToNodeSpaceAR(this.node.parent.parent.convertToWorldSpaceAR(n)),cc.Vec2.ZERO),o=h.default.getPosDistance(this.node.position,e),a=h.default.getPosDistance(this.node.position,n),s=1;o<=a?(i=e,s=o/100,this.useScaleX=-this.GetGameObject("spine").scaleX):(i=n,s=a/100,this.useScaleX=this.GetGameObject("spine").scaleX),this.GetGameObject("spine").scaleX=this.useScaleX,this.node.stopAllActions(),this.curDingdan=null,this.showTimeProgress(!1),this.shopID==p.default.Instance().shopID?(a=h.default.getRandomInt(0,u.GAME_CONFIG.staff_close_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_close_tips[a]),this.spineNode.setAnimation(0,"walk",!0),this.node.runAction(cc.sequence(cc.moveTo(s,i),cc.callFunc(function(){t.node.opacity=0})))):(this.node.x=i.x,this.node.y=i.y,this.node.opacity=0)},f.prototype.workStart=function(){var t=this;this.node.stopAllActions(),this.node.opacity=255,this.isWalking=!0,this.GetGameObject("spine").scaleX=-this.useScaleX,this.spineNode.setAnimation(0,"walk",!0),this.node.runAction(cc.sequence(cc.moveTo(1,0,0),cc.callFunc(function(){t.GetGameObject("spine").scaleX=Math.abs(t.useScaleX),t.spineNode.setAnimation(0,"idle",!0),t.isWalking=!1,(t.shopID==r.ShopID.\u4e2d\u9910\u9986||t.shopID==r.ShopID.\u7c73\u5176\u6797&&3==t.csIndex)&&(t.GetGameObject("spine").scaleX=-Math.abs(t.GetGameObject("spine").scaleX))})))},f.prototype.showTalk=function(t,e){var n=this;void 0===e&&(e=""),this.GetGameObject("bg_talk").stopAllActions(),this.GetGameObject("bg_talk").active=t,this.GetGameObject("bg_talk").active&&(this.SetText("lbl_talk",e),this.GetGameObject("bg_talk").width=Math.max(18*e.length,160),this.GetGameObject("bg_talk").runAction(cc.sequence(cc.delayTime(u.GAME_CONFIG.staff_talk_delaytime),cc.callFunc(function(){n.showTalk(!1)}))))},o=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.spineNode=null,t.speed=20,t.walkRound=70,t.shopID=-1,t.curDingdan=null,t.cooktime=0,t.foodCFG=null,t.isJiedan=!1,t.chushiCFG=null,t.isWalking=!1,t.useScaleX=1,t.talkTick=0,t.canTalk=!0,t.csIndex=1,t}a.default=o,cc._RF.pop()},{}],Base_Dianzhang:[function(t,e,n){"use strict";cc._RF.push(e,"8ed13BlyHNKLYt5JXv8LctU","Base_Dianzhang");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("DataManager"),h=o("Utils"),l=o("AudioMgr"),d=o("GameManager"),p=o("GameScene"),f=o("UIManager"),_=o("DZInspireLayer");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(m,s),m.prototype.onLoad=function(){var t=this;s.prototype.onLoad.call(this),this.spineNode=this.GetSkeleton("spine"),this.spineNode.setAnimation(0,"idle",!0),this.rigester("GAME_BUSY_START",function(e){t.workStart()}),this.rigester("GAME_BUSY_CLOSE",function(e){t.workOver()}),this.rigester("GAME_DZINSPIRE_UPDATE",function(e){e&&e.ShopID==t.shopID&&(t.showTimeProgress(e.show),e.show&&t.showBtnInspire(!1))}),this.rigester("UI_DZINSPIRE_SHOW",function(e){e&&e.ShopID==t.shopID&&t.showBtnInspire(e.show)}),this.rigester("dianzhanglv_sj",function(e){e&&e.shopID==t.shopID&&(t.dianzhangCFG=r.default.Instance().getDianzhangDataByLV(u.default.Instance().getShopDZLVByID(t.shopID),t.shopID),t.node.stopAllActions(),t.updayeDZSpine(),t.updateDZCW())})},m.prototype.start=function(){d.default.Instance().ShopState==r.ShopState.\u51cc\u6668\u505c\u4e1a&&this.workOver(),this.showTalk(!1),this.showBtnInspire(!1);var t=u.default.Instance().getDZInspireByShopID(this.shopID);0<t&&(h.default.getServerTime()-t<u.GAME_CONFIG.dz_inspire_time?this.showTimeProgress(!0):u.default.Instance().clearDZInspireByShopID(this.shopID))},m.prototype.updateFrame=function(t){var e;0<this.node.opacity&&!this.canTalk&&this.shopID==f.default.Instance().shopID&&(this.talkTick+=t,this.talkTick>=u.GAME_CONFIG.staff_talk_time&&(this.canTalk=!0,this.talkTick=0)),this.GetGameObject("progressBar_time").active&&this.shopID==f.default.Instance().shopID&&this.updateTimeProgress(),-1<this.shopID&&this.dianzhangCFG&&d.default.Instance().ShopState!=r.ShopState.\u51cc\u6668\u505c\u4e1a&&(e=this.getDZDDTime(),0<u.default.Instance().isBonus||(this.dd_time+=t,t=p.default.Instance().GetGameObject("layout_dingdan_"+this.shopID).childrenCount,this.dd_time>=e&&t<d.default.Instance().getShopDDMaxByShopID(this.shopID)&&(f.default.Instance().ani_dingdan(this.shopID),d.default.Instance().getGameMGRByShopID(this.shopID).Instance().jd_num++,this.dd_time=0,this.canTalk)&&(t=h.default.getRandomInt(0,u.GAME_CONFIG.staff_dianzhang_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_dianzhang_tips[t]),this.canTalk=!1)))},m.prototype.onBtnClicked=function(t,e){var n=this,i=t.target.name;"btn_inspire"===(l.default.Instance().playSFX(u.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),i)&&h.default.createUI("prefab/DZInSpireLayer").then(function(t){t.getComponent(_.default).setConfig(n.shopID)})},m.prototype.getDZDDTime=function(){var t=u.default.Instance().getDZInspireByShopID(this.shopID);if(0<t){if(h.default.getServerTime()-t<u.GAME_CONFIG.dz_inspire_time)return this.dianzhangCFG.ddtime/u.GAME_CONFIG.dz_inspire_base;u.default.Instance().clearDZInspireByShopID(this.shopID)}return this.dianzhangCFG.ddtime},m.prototype.showTimeProgress=function(t){this.GetGameObject("progressBar_time").active=t,(this.GetGameObject("text_fkgzz").active=t)&&this.updateTimeProgress()},m.prototype.updateTimeProgress=function(){var t=u.default.Instance().getDZInspireByShopID(this.shopID),e=h.default.getServerTime();1<(t=(t=(e=u.GAME_CONFIG.dz_inspire_time-(e-t))/u.GAME_CONFIG.dz_inspire_time)<0?0:t)&&(t=1),this.GetProgressBar("progressBar_time").progress=t,this.SetText("lbl_time",h.default.getTimeStrByS(e/1e3))},m.prototype.showBtnInspire=function(t){this.GetGameObject("btn_inspire").active=t},m.prototype.setConfig=function(t){this.shopID=t,this.dianzhangCFG=r.default.Instance().getDianzhangDataByLV(u.default.Instance().getShopDZLVByID(this.shopID),this.shopID),this.updayeDZSpine(),this.updateDZCW()},m.prototype.updayeDZSpine=function(){var t=this;cc.loader.loadRes("spine/staff/dianzhang_0"+(this.shopID%2==0?1:2),sp.SkeletonData,function(e,n){e&&cc.error("\u52a0\u8f7d\u5931\u8d25",e),cc.isValid(t.node)&&(t.spineNode.skeletonData=n,t.spineNode.setAnimation(0,"idle",!0),t.moveRound())})},m.prototype.updateDZCW=function(){for(var t=u.default.Instance().getShopDZLVByID(this.shopID),e=0;e<this.GetGameObject("bg_dzcw").childrenCount;++e)this.GetGameObject("bg_dzcw").children[e].active=t-1==e},m.prototype.moveRound=function(){var t=this,e=this.node.parent.width,n=this.node.parent.height,i=h.default.getRandomInt(-e/2,e/2);e=h.default.getRandomInt(-n/2,n/2),n=h.default.getPosDistance(this.node.position,cc.v2(i,e))/this.speed;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.spineNode.setAnimation(0,"zoulu",!0)}),cc.moveTo(n,i,e),cc.callFunc(function(){t.spineNode.setAnimation(0,"idle",!0)}),cc.delayTime(1),cc.callFunc(function(){t.moveRound()})))},m.prototype.workOver=function(){var t=this,e=d.default.Instance().getGameMGRByShopID(this.shopID).Instance().pos_left,n=(e=this.node.parent.convertToNodeSpaceAR(this.node.parent.parent.convertToWorldSpaceAR(e)),d.default.Instance().getGameMGRByShopID(this.shopID).Instance().pos_right),i=(n=this.node.parent.convertToNodeSpaceAR(this.node.parent.parent.convertToWorldSpaceAR(n)),cc.Vec2.ZERO),o=h.default.getPosDistance(this.node.position,e),a=h.default.getPosDistance(this.node.position,n),s=o<=a?(i=e,o/100):(i=n,a/100);this.node.stopAllActions(),this.shopID==f.default.Instance().shopID?(a=h.default.getRandomInt(0,u.GAME_CONFIG.staff_close_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_close_tips[a]),this.spineNode.setAnimation(0,"zoulu",!0),this.node.runAction(cc.sequence(cc.moveTo(s,i),cc.callFunc(function(){t.node.opacity=0})))):(this.node.x=i.x,this.node.y=i.y,this.node.opacity=0)},m.prototype.workStart=function(){var t=this;this.node.stopAllActions(),this.node.opacity=255,this.node.runAction(cc.sequence(cc.moveTo(1,0,0),cc.callFunc(function(){t.spineNode.setAnimation(0,"idle",!0),t.moveRound()})))},m.prototype.showTalk=function(t,e){var n=this;void 0===e&&(e=""),this.GetGameObject("bg_talk").stopAllActions(),this.GetGameObject("bg_talk").active=t,this.GetGameObject("bg_talk").active&&(this.SetText("lbl_talk",e),this.GetGameObject("bg_talk").width=Math.max(18*e.length,160),this.GetGameObject("bg_talk").runAction(cc.sequence(cc.delayTime(u.GAME_CONFIG.staff_talk_delaytime),cc.callFunc(function(){n.showTalk(!1)}))))},o=__decorate([o],m);function m(){var t=null!==s&&s.apply(this,arguments)||this;return t.spineNode=null,t.speed=20,t.shopID=-1,t.dd_time=0,t.dianzhangCFG=null,t.talkTick=0,t.canTalk=!0,t}a.default=o,cc._RF.pop()},{}],Base_Qishou:[function(t,e,n){"use strict";cc._RF.push(e,"c6af33DBmxMP6r2bH1m4+t9","Base_Qishou");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("DataManager"),h=o("Utils"),l=o("GameManager"),d=o("UIManager"),p=o("PoolMgr");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(f,s),f.prototype.onLoad=function(){var t=this;s.prototype.onLoad.call(this),this.spineNode=this.GetGameObject("spine").getComponent(sp.Skeleton),this.rigester("GAME_BUSY_CLOSE",function(e){t.workOver()})},f.prototype.start=function(){this.node.opacity=0,this.showTalk(!1)},f.prototype.updateFrame=function(t){var e,n=this;this.isOver||(this.waitWaimai&&this.checkForWaimaiOK(),this.orderTick+=t,1<=this.orderTick&&this.shopID==d.default.Instance().shopID&&(this.orderTick=0,this.node.zIndex=667-this.node.y),0<=this.curpstime&&(this.curpstime+=t),this.isBack&&this.curpstime>=this.pstime?(this.isBack=!1,this.backShop(),this.curpstime=-1):!this.isBack&&this.curpstime>=this.pstime&&(this.isBack=!0,this.waitBackTime(),this.curpstime=0),this.isRound&&this.arrive()),this.roadPath&&!this.bmoveto&&(e=this.roadPath[this.roadIndex+1],this.vSpeed=e.sub(this.node.position).normalizeSelf().mul(this.speed/(1/t)),this.node.position=this.node.position.add(this.vSpeed.mul(1)),e.sub(this.node.position).mag()<50&&(this.bmoveto=!0,this.vSpeed=cc.Vec2.ZERO,this.node.runAction(cc.sequence(cc.moveTo(50/u.GAME_CONFIG.game_speed_base/this.speed,e),cc.callFunc(function(){n.bmoveto=!1,n.doMove()})))),e.x>=this.node.x?this.GetGameObject("spine").scaleX=this.spineScale:this.GetGameObject("spine").scaleX=-this.spineScale,this.changeNodeVisible())},f.prototype.changeNodeVisible=function(){-375<=this.node.x&&this.node.x<=375&&0==this.node.opacity?this.node.opacity=255:(this.node.x<-375||375<this.node.x)&&255==this.node.opacity&&(this.node.opacity=0)},f.prototype.setConfig=function(t,e){this.shopID=t,this.dingdan=e,this.shopManager=l.default.Instance().getGameMGRByShopID(this.shopID),this.node.x=-200,this.node.y=0,this.node.opacity=255,this.chooseGongju(),this.speed=this.gongju.move,this.roadPath=this.shopManager.Instance().getComeRoadPath(this.gongju.lv),this.doMove(!0),this.node.zIndex=667-this.node.y,1==this.dingdan.qs?this.poolName="base_qishou":this.poolName="base_qishou"+(this.dingdan.qs-1)},f.prototype.doMove=function(t){void 0===t&&(t=!1),cc.isValid(this.node)&&(0<this.seatIndex&&(this.shopManager.Instance().leavSeat(this.seatIndex),this.seatIndex=0),t&&(this.roadIndex=-1),this.vSpeed=cc.Vec2.ZERO,-1==this.roadIndex&&this.node.setPosition(this.roadPath[0]),this.isOver&&0==this.roadIndex&&(this.baozhuang&&this.baozhuang.removeFromParent(),this.showMoney(!1)),this.roadIndex++,this.roadIndex>=this.roadPath.length-1?this.arrive():this.shopManager.Instance().checkForPosJindian(this.roadPath[this.roadIndex+1])||this.shopManager.Instance().checkForPosJindian(this.roadPath[this.roadIndex])?(this.spineNode.setAnimation(0,"zoulu",!0),this.speed=this.walkSpeed):(this.spineNode.setAnimation(0,this.gongju.gjres,!0),this.speed=this.gongju.move))},f.prototype.arrive=function(){var t,e=this;if(this.roadPath=null,this.isOver&&this.isLeaving)return this.clearModel(),void(this.poolName&&p.default.Instance().put(this.poolName,this.node));if(this.dingdan.state==r.FoodState.\u5df2\u7ed3\u675f)this.shopManager.Instance().delDingdan(this.dingdan.id),this.clearModel(),this.poolName&&p.default.Instance().put(this.poolName,this.node);else if(this.dingdan.state==r.FoodState.\u8fdb\u95e8\u4e2d)this.showMoney(!1),this.dingdan.state=r.FoodState.\u5df2\u7ed3\u675f,u.default.Instance().addShopCoin(this.shopID,this.dingdan.price),u.default.Instance().changeGameCoin(this.dingdan.price),this.shopManager.Instance().day_income+=this.dingdan.price,this.shopManager.Instance().checkForDDOver(),console.log("\u5e97\u94fa"+this.shopID+"\u8ba2\u5355"+this.dingdan.id+"\u5df2\u7ed3\u675f,\u6536\u5165\uff1a"+this.dingdan.price),this.leave(),this.shopID==d.default.Instance().shopID&&h.default.loadRes("prefab/get_money",cc.Prefab).then(function(t){(t=cc.instantiate(t)).parent=d.default.Instance().GetGameObject("img_shouyinji_"+e.shopID),t.position=cc.v2(20,70),t.getComponentInChildren(cc.Label).string="+"+e.dingdan.price,t.runAction(cc.sequence(cc.moveBy(.8,cc.v2(0,50)),cc.removeSelf()))});else if(this.dingdan.state==r.FoodState.\u51fa\u95e8\u4e2d){if(this.isPeisong)return;this.isPeisong=!0,this.dingdan.state=r.FoodState.\u5916\u9001\u4e2d,this.dispatch("UI_BTNWAIMAIYUAN_SHOW",{ShopID:this.shopID,show:!0});var n=u.default.Instance().getFoodPSPrice(this.dingdan.foodID,this.dingdan.distance);l.default.Instance().ShopState==r.ShopState.\u591c\u665a\u8425\u4e1a&&(n=Math.ceil(n*(1+u.GAME_CONFIG.shop_time_wanshang))),this.dingdan.price+=n,this.pstime=Math.floor(this.dingdan.distance/this.gongju.speed),0<u.default.Instance().isBonus&&(this.pstime*=2),l.default.Instance().ShopState==r.ShopState.\u4e0a\u5348\u8425\u4e1a&&(this.pstime*=1-u.GAME_CONFIG.shop_time_shangwu),this.shopManager.Instance().ps_num+=this.dingdan.distance,console.log("\u5e97\u94fa"+this.shopID+"\u8ba2\u5355"+this.dingdan.id+"\u5916\u9001\u4e2d","\u914d\u9001\u65f6\u957f\uff1a"+this.pstime),this.curpstime=0,this.roadPath=this.shopManager.Instance().getPSRoadPath(this.gongju.lv),this.doMove(!0),this.baozhuang&&this.baozhuang.removeFromParent(),(t=h.default.getRandomInt(0,100))<u.GAME_CONFIG.staff_talk_random&&(t=h.default.getRandomInt(0,u.GAME_CONFIG.staff_qishou_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_qishou_tips[t])),this.dispatch("ADD_PEISONGCELL",this.shopID,this.dingdan)}else if(this.dingdan.state==r.FoodState.\u6253\u5305\u5b8c\u6210){if(this.isWaiting)return this.isRound&&(this.isRound=!1),this.node.stopAllActions(),this.isWaiting=!1,this.roadPath=[this.node.position],this.roadPath=this.roadPath.concat(this.shopManager.Instance().getTakingRoadPath(this.gongju.lv)),this.doMove(!0),void(this.isComing=!0);this.isComing?(this.isComing=!1,this.spineNode.setAnimation(0,"daiji",!0),this.waitWaimai=!0):(this.isComing=!0,this.roadPath=this.shopManager.Instance().getTakingRoadPath(this.gongju.lv),this.doMove(!0)),this.waitWaimai=!0}else if(this.dingdan.state<r.FoodState.\u6253\u5305\u5b8c\u6210){if(this.isRound)return;this.isWaiting?(this.spineNode.setAnimation(0,"daiji",!0),this.isRound=!0,0<(n=this.shopManager.Instance().getEmptySeatIndex())?this.moveSeat(n):this.moveRound(),(t=h.default.getRandomInt(0,100))<u.GAME_CONFIG.staff_talk_random&&(t=h.default.getRandomInt(0,u.GAME_CONFIG.staff_qishou_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_qishou_tips[t]))):(this.isWaiting=!0,this.roadPath=this.shopManager.Instance().getWaitingRoadPath(this.gongju.lv),this.doMove(!0))}this.changeNodeVisible()},f.prototype.chooseGongju=function(){this.walkSpeed=r.default.Instance().getWaimaiyuanDataByLV(0,this.shopID).move,this.dingdan&&(this.gongju=r.default.Instance().getWaimaiyuanGongjuByDistance(this.dingdan.distance))},f.prototype.checkForWaimaiOK=function(){this.dingdan.state==r.FoodState.\u6253\u5305\u5b8c\u6210&&(this.waitWaimai=!1,l.default.Instance().takeDDBaozhuangByID(this.node,this.shopID,this.dingdan.id),this.baozhuang=this.node.getChildByName("model_baozhuang"),this.baozhuang&&(this.baozhuang.x=0,this.baozhuang.y=125),this.dingdan.state=r.FoodState.\u51fa\u95e8\u4e2d,this.roadPath=this.shopManager.Instance().getChudianRoadPath(this.gongju.lv),this.doMove(!0))},f.prototype.waitBackTime=function(){console.log("\u8ba2\u5355"+this.dingdan.id+"\u914d\u9001\u5b8c\u6210\uff0c\u8fd4\u56de\u65f6\u95f4:"+this.pstime),this.dingdan.state=r.FoodState.\u56de\u7a0b\u4e2d},f.prototype.backShop=function(){console.log("\u62b5\u8fbe\u5e97\u94fa\u9644\u8fd1"),this.showMoney(!0),this.dingdan.state=r.FoodState.\u8fdb\u95e8\u4e2d,this.roadPath=this.shopManager.Instance().getJiezhangRoadPath(this.gongju.lv),this.doMove(!0),this.dispatch("DELETE_PEISONGCELL",this.shopID,this.dingdan.id)},f.prototype.leave=function(){this.roadPath=this.shopManager.Instance().getLeaveRoadPath(this.gongju.lv),this.doMove(!0)},f.prototype.moveRound=function(){var t=this,e=this.shopManager.Instance().getRadomWaitingPos(),n=h.default.getPosDistance(this.node.position,e)/this.speed/u.GAME_CONFIG.game_speed_base;e.x>=this.node.x?this.GetGameObject("spine").scaleX=this.spineScale:this.GetGameObject("spine").scaleX=-this.spineScale,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.spineNode.setAnimation(0,"zoulu",!0)}),cc.moveTo(n,e),cc.callFunc(function(){t.spineNode.setAnimation(0,"daiji",!0)}),cc.delayTime(1),cc.callFunc(function(){t.moveRound()})))},f.prototype.moveSeat=function(t){var e=this;this.seatIndex=t;var n=this.shopManager.Instance().getShopSeatPOSByIndex(this.seatIndex);t=h.default.getPosDistance(this.node.position,n)/this.speed/u.GAME_CONFIG.game_speed_base;n.x>=this.node.x?this.GetGameObject("spine").scaleX=this.spineScale:this.GetGameObject("spine").scaleX=-this.spineScale,this.node.runAction(cc.sequence(cc.callFunc(function(){e.spineNode.setAnimation(0,"zoulu",!0)}),cc.moveTo(t,n),cc.callFunc(function(){e.GetGameObject("spine").scaleX=e.shopID==r.ShopID.\u897f\u9910\u9986?-e.spineScale:e.spineScale,e.spineNode.setAnimation(0,"zuo",!0)})))},f.prototype.workOver=function(){var t;this.node.stopAllActions(),this.vSpeed=cc.Vec2.ZERO,this.isOver=!0,this.bmoveto=!1,this.roadPath=null,0<this.node.opacity&&this.shopManager&&this.shopID==d.default.Instance().shopID?(h.default.getRandomInt(0,100)<u.GAME_CONFIG.qishou_talk_random&&(t=h.default.getRandomInt(0,u.GAME_CONFIG.staff_close_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_close_tips[t])),this.roadPath=[this.node.position],this.roadPath=this.roadPath.concat(this.shopManager.Instance().getOverRoadPath(this.gongju.lv,this.dingdan&&this.dingdan.state>=r.FoodState.\u51fa\u95e8\u4e2d)),this.doMove(!0),this.isLeaving=!0):(this.clearModel(),this.poolName&&p.default.Instance().put(this.poolName,this.node))},f.prototype.showTalk=function(t,e){var n=this;void 0===e&&(e=""),this.shopID==d.default.Instance().shopID&&(this.GetGameObject("bg_talk").stopAllActions(),this.GetGameObject("bg_talk").active=t,this.GetGameObject("bg_talk").active&&(this.SetText("lbl_talk",e),this.GetGameObject("bg_talk").width=Math.max(18*e.length,160),this.GetGameObject("bg_talk").runAction(cc.sequence(cc.delayTime(u.GAME_CONFIG.staff_talk_delaytime),cc.callFunc(function(){n.showTalk(!1)})))))},f.prototype.showMoney=function(t){this.GetGameObject("img_money").active=t},f.prototype.clearModel=function(){this.shopManager&&this.shopManager.Instance().delQishou(this.node.name),this.baozhuang&&(this.baozhuang.removeFromParent(),this.baozhuang=null),this.showTalk(!1),this.showMoney(!1),this.roadPath=null,this.roadIndex=-1,this.vSpeed=cc.Vec2.ZERO,this.bmoveto=!1,this.gongju=null,this.waitWaimai=!1,this.dingdan=null,this.pstime=0,this.curpstime=-1,this.isPeisong=!1,this.shopManager=null,this.walkSpeed=50,this.orderTick=0,this.isBack=!1,this.isComing=!1,this.isWaiting=!1,this.isRound=!1,this.seatIndex=0,this.spineScale=.6,this.isOver=!1,this.talkTick=0},o=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.spineNode=null,t.speed=50,t.roadPath=null,t.roadIndex=-1,t.vSpeed=cc.Vec2.ZERO,t.bmoveto=!1,t.gongju=null,t.waitWaimai=!1,t.dingdan=null,t.pstime=0,t.curpstime=-1,t.isPeisong=!1,t.shopID=-1,t.shopManager=null,t.walkSpeed=50,t.baozhuang=null,t.orderTick=0,t.isBack=!1,t.isComing=!1,t.isWaiting=!1,t.isRound=!1,t.seatIndex=0,t.spineScale=.6,t.isOver=!1,t.talkTick=0,t.poolName="",t.isLeaving=!1,t}a.default=o,cc._RF.pop()},{}],Base_Shouyin:[function(t,e,n){"use strict";cc._RF.push(e,"1f5ec2Kj6dFU42cFurlDiKy","Base_Shouyin");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("DataManager"),h=o("Utils"),l=o("GameManager"),d=o("UIManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(p,s),p.prototype.onLoad=function(){var t=this;s.prototype.onLoad.call(this),this.spineNode=this.GetGameObject("spine").getComponent(sp.Skeleton),this.spineNode.setAnimation(0,"idle",!0),this.rigester("GAME_BUSY_START",function(e){t.workStart()}),this.rigester("GAME_BUSY_CLOSE",function(e){t.workOver()})},p.prototype.start=function(){l.default.Instance().ShopState==r.ShopState.\u51cc\u6668\u505c\u4e1a&&this.workOver(),this.showTalk(!1)},p.prototype.updateFrame=function(t){var e=this;if(d.default.Instance()&&(0<this.node.opacity&&!this.canTalk&&this.shopID==d.default.Instance().shopID&&(this.talkTick+=t,this.talkTick>=u.GAME_CONFIG.staff_talk_time&&(this.canTalk=!0,this.talkTick=0)),!(this.shopID<0||this.isTaking||this.hasDB)))if(this.curDingdan){if(this.dbtime+=t,this.shopID==d.default.Instance().shopID&&this.updateTimeProgress(),this.dbtime>=this.syyCFG.dbtime*(0<u.default.Instance().isBonus?2:1)){this.hasDB=!0;for(var n,i=l.default.Instance().getGameMGRByShopID(this.shopID).Instance().dd_list,o=0,a=0;a<i.length;++a)i[a].state==r.FoodState.\u6253\u5305\u4e2d&&(console.log("\u5e97\u94fa"+this.shopID+"\u8ba2\u5355"+i[a].id+"\u6253\u5305\u5b8c\u6210"),i[a].state=r.FoodState.\u6253\u5305\u5b8c\u6210,i[a].price+=this.syyCFG.dbcost,l.default.Instance().createDDBaozhuangByShopID(this.shopID,i[a]),o++);this.curDingdan=null,this.dbtime=0,this.showTimeProgress(!1),this.spineNode.setAnimation(0,"idle",!0),this.hasDB=!1,l.default.Instance().getGameMGRByShopID(this.shopID).Instance().db_num+=o,this.canTalk&&(n=h.default.getRandomInt(0,u.GAME_CONFIG.staff_shouyin_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_shouyin_tips[n]),this.canTalk=!1)}}else this.curDingdan=l.default.Instance().getDBDingdanByShopID(this.shopID),this.curDingdan&&(this.isTaking=!0,this.node.stopAllActions(),this.spineNode.setAnimation(0,"zoulu",!0),n=l.default.Instance().getGameMGRByShopID(this.shopID).Instance().pos_chuchuang,this.node.runAction(cc.sequence(cc.moveTo(1,n),cc.moveTo(1,0,0),cc.callFunc(function(){e.isTaking=!1,e.spineNode.setAnimation(0,"idle",!0);var t=u.default.Instance().getShopSYYLVByID(e.shopID);e.syyCFG=r.default.Instance().getSSYDataByLV(t,e.shopID),e.showTimeProgress(!0),e.spineNode.setAnimation(0,"dabao",!0)}))))},p.prototype.setConfig=function(t){var e=this;this.shopID=t,cc.loader.loadRes("spine/staff/shouyinyuan_0"+(this.shopID%2==0?2:1),sp.SkeletonData,function(t,n){t&&cc.error("\u52a0\u8f7d\u5931\u8d25",t),cc.isValid(e.node)&&(e.spineNode.skeletonData=n,e.spineNode.setAnimation(0,"idle",!0))})},p.prototype.showTimeProgress=function(t){(this.GetGameObject("progressBar_time").active=t)&&this.updateTimeProgress()},p.prototype.updateTimeProgress=function(){var t=this.dbtime/(this.syyCFG.dbtime*(0<u.default.Instance().isBonus?2:1));1<(t=t<0?0:t)&&(t=1),this.GetProgressBar("progressBar_time").progress=t},p.prototype.workOver=function(){var t=this,e=l.default.Instance().getGameMGRByShopID(this.shopID).Instance().pos_left,n=(e=this.node.parent.convertToNodeSpaceAR(this.node.parent.parent.convertToWorldSpaceAR(e)),l.default.Instance().getGameMGRByShopID(this.shopID).Instance().pos_right),i=(n=this.node.parent.convertToNodeSpaceAR(this.node.parent.parent.convertToWorldSpaceAR(n)),cc.Vec2.ZERO),o=h.default.getPosDistance(this.node.position,e),a=h.default.getPosDistance(this.node.position,n),s=o<=a?(i=e,o/this.speed):(i=n,a/this.speed);this.node.stopAllActions(),this.curDingdan=null,this.showTimeProgress(!1),this.shopID==d.default.Instance().shopID?(a=h.default.getRandomInt(0,u.GAME_CONFIG.staff_close_tips.length),this.showTalk(!0,u.GAME_CONFIG.staff_close_tips[a]),this.spineNode.setAnimation(0,"zoulu",!0),this.node.runAction(cc.sequence(cc.moveTo(s,i),cc.callFunc(function(){t.node.opacity=0})))):(this.node.x=i.x,this.node.y=i.y,this.node.opacity=0)},p.prototype.workStart=function(){var t=this;this.node.stopAllActions(),this.node.opacity=255,this.isTaking=!0,this.node.runAction(cc.sequence(cc.moveTo(1,0,0),cc.callFunc(function(){t.spineNode.setAnimation(0,"idle",!0),t.isTaking=!1})))},p.prototype.showTalk=function(t,e){var n=this;void 0===e&&(e=""),this.GetGameObject("bg_talk").stopAllActions(),this.GetGameObject("bg_talk").active=t,this.GetGameObject("bg_talk").active&&(this.SetText("lbl_talk",e),this.GetGameObject("bg_talk").width=Math.max(18*e.length,160),this.GetGameObject("bg_talk").runAction(cc.sequence(cc.delayTime(u.GAME_CONFIG.staff_talk_delaytime),cc.callFunc(function(){n.showTalk(!1)}))))},o=__decorate([o],p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.spineNode=null,t.shopID=-1,t.curDingdan=null,t.dbtime=0,t.syyCFG=null,t.isTaking=!1,t.hasDB=!1,t.speed=100,t.talkTick=0,t.canTalk=!1,t}a.default=o,cc._RF.pop()},{}],BounsLayer:[function(t,e,n){"use strict";cc._RF.push(e,"a4877aKi09PaYMQ3+GZOsXX","BounsLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("AudioMgr"),h=o("UIManager"),l=o("AdCenter"),d=o("Utils"),p=o("MsgHints");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(f,s),f.prototype.start=function(){var t;r.default.Instance().shop_day_data&&(t=r.default.Instance().shop_day_data,this.SetText("lbl_cook_num",""+t.day_cook_num),this.SetText("lbl_db_num",""+t.day_db_num),this.SetText("lbl_jd_num",""+t.day_jd_num),this.SetText("lbl_ps_num",""+(t.day_ps_num/1e3).toFixed(1)),this.SetText("lbl_bonus",d.default.formatCoin(t.day_bonus)),this.bonus=t.day_bonus)},f.prototype.update=function(){var t=r.GAME_CONFIG.bonus_show_time-Math.floor((d.default.getServerTime()-r.default.Instance().bonusTime)/1e3);this.SetText("lbl_time",d.default.getTimeStrByS(t))},f.prototype.onBtnClicked=function(t,e){var n=t.target.name;switch(u.default.Instance().playSFX(r.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),n){case"btn_ok":if(r.default.Instance().coin<this.bonus)return void p.default.show("\u91d1\u94b1\u4e0d\u8db3");r.default.Instance().changeGameCoin(-this.bonus),r.default.Instance().closeBusyBlowDown(),this.closeUI();break;case"btn_ad":this.reward4("btn_ad")}},f.prototype.reward4=function(t,e){var n=this;t.target.name;l.default.Instance().play(0,function(t){t&&(r.default.Instance().closeBusyBlowDown(),n.closeUI())})},f.prototype.onDestroy=function(){s.prototype.onDestroy.call(this),h.default.Instance().openBonusLayer=!1},o=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.bonus=0,t}a.default=o,cc._RF.pop()},{}],ChangeTimeLayer:[function(t,e,n){"use strict";cc._RF.push(e,"cd6f59hEJ5KaZVB7BcnMckG","ChangeTimeLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(u,s),u.prototype.start=function(){},u.prototype.showTime=function(t){var e=this;this.GetGameObject("text_lingchen").active=t==r.ShopState.\u51cc\u6668\u505c\u4e1a,this.GetGameObject("text_shangwu").active=t==r.ShopState.\u4e0a\u5348\u8425\u4e1a,this.GetGameObject("text_wanshang").active=t==r.ShopState.\u591c\u665a\u8425\u4e1a,this.GetGameObject("text_xiawu").active=t==r.ShopState.\u4e0b\u5348\u8425\u4e1a,this.GetGameObject("bg_time").stopAllActions(),this.GetGameObject("bg_time").runAction(cc.sequence(cc.callFunc(function(){e.GetGameObject("bg_time").x=1500,e.GetGameObject("bg_time").y=218}),cc.moveTo(2,0,218),cc.delayTime(2),cc.moveTo(2,-1500,218),cc.callFunc(function(){e.node.removeFromParent()})))},o=__decorate([o],u);function u(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],CloseBusyLayer:[function(t,e,n){"use strict";cc._RF.push(e,"78319tXnkVEd4sGGiFX8BW0","CloseBusyLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("AudioMgr"),h=o("AdCenter"),l=o("GameManager"),d=o("Utils"),p=(o=(i=cc._decorator).ccclass,i.property,window.wx||window.tt);s=c.default,__extends(f,s),f.prototype.start=function(){this.node.zIndex=-1,this.dispatch("UI_SHOW_DAYTIME",{show:!1})},f.prototype.update=function(){this.SetText("lbl_time",d.default.getClockStrByS(r.default.Instance().shopTick))},f.prototype.onBtnClicked=function(t,e){var n=t.target.name;switch(u.default.Instance().playSFX(r.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),n){case"btn_openbusy":this.reward5("btn_openbusy");break;case"btn_time":d.default.createUI("prefab/UI/UIOpenTime")}},f.prototype.reward5=function(t,e){var n=this;t.target.name;h.default.Instance().play(0,function(t){t&&(l.default.Instance().adOpenBusy(),n.dispatch("UI_SHOW_DAYTIME",{show:!0}),n.closeUI())})},f.prototype.startAnim=function(){this.node.active=!0},f.prototype.shutAnim=function(){this.node.active=!1,this.node.destroy()},f.prototype.fitScence=function(){var t,e=this;cc.sys.platform==cc.sys.WECHAT_GAME?p.getSystemInfo({success:function(t){t.windowWidth/t.windowHeight<.562&&setTimeout(function(){e.GetGameObject("icon_lingchen").y-=r.GAME_CONFIG.scence_fit_height},1e3)}}):!cc.sys.isNative||cc.sys.platform!=cc.sys.IPHONE||(t=cc.view.getFrameSize()).width/t.height<.562&&setTimeout(function(){e.GetGameObject("icon_lingchen").y-=r.GAME_CONFIG.scence_fit_height},1e3)},f.prototype.onDestroy=function(){s.prototype.onDestroy.call(this)},o=__decorate([o],f);function f(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],ConfigManager:[function(t,e,n){"use strict";cc._RF.push(e,"9780cLuR0VKypQXZeycd6Qq","ConfigManager");var i=t,o=e,a=n;function s(){}Object.defineProperty(a,"__esModule",{value:!0});o=i("Singleton");var c=i("Utils"),r=i("DataManager");function u(){}function h(){}function l(){}function d(){}function p(){}function f(){}function _(){}function m(){}a.Foods=s,a.Zhuangxiu=u,a.Waimaiyuan=h,a.Shouyinyuan=l,a.ShopLV=d,a.Dianzhang=p,a.Chushi=f,a.TitleCfg=_,(i=a.ShopID||(a.ShopID={}))[i["\u9762\u9986"]=0]="\u9762\u9986",i[i["\u7092\u996d\u9986"]=1]="\u7092\u996d\u9986",i[i["\u5976\u8336\u5e97"]=2]="\u5976\u8336\u5e97",i[i["\u6c49\u5821\u5e97"]=3]="\u6c49\u5821\u5e97",i[i["\u725b\u6392\u5e97"]=4]="\u725b\u6392\u5e97",i[i["\u65e5\u6599\u9986"]=5]="\u65e5\u6599\u9986",i[i["\u706b\u9505\u5e97"]=6]="\u706b\u9505\u5e97",i[i["\u4e2d\u9910\u9986"]=7]="\u4e2d\u9910\u9986",i[i["\u897f\u9910\u9986"]=8]="\u897f\u9910\u9986",i[i["\u7c73\u5176\u6797"]=9]="\u7c73\u5176\u6797",i[i.MAX_ID=10]="MAX_ID",(i=a.FoodState||(a.FoodState={}))[i["\u63a5\u5355\u4e2d"]=0]="\u63a5\u5355\u4e2d",i[i["\u672a\u5904\u7406"]=1]="\u672a\u5904\u7406",i[i["\u70f9\u996a\u4e2d"]=2]="\u70f9\u996a\u4e2d",i[i["\u70f9\u996a\u5b8c\u6210"]=3]="\u70f9\u996a\u5b8c\u6210",i[i["\u56e2\u4f53\u70f9\u996a\u5b8c\u6210"]=4]="\u56e2\u4f53\u70f9\u996a\u5b8c\u6210",i[i["\u6253\u5305\u4e2d"]=5]="\u6253\u5305\u4e2d",i[i["\u6253\u5305\u5b8c\u6210"]=6]="\u6253\u5305\u5b8c\u6210",i[i["\u51fa\u95e8\u4e2d"]=7]="\u51fa\u95e8\u4e2d",i[i["\u5916\u9001\u4e2d"]=8]="\u5916\u9001\u4e2d",i[i["\u56de\u7a0b\u4e2d"]=9]="\u56de\u7a0b\u4e2d",i[i["\u8fdb\u95e8\u4e2d"]=10]="\u8fdb\u95e8\u4e2d",i[i["\u5df2\u7ed3\u675f"]=11]="\u5df2\u7ed3\u675f",(i=a.ShopState||(a.ShopState={}))[i["\u51cc\u6668\u505c\u4e1a"]=0]="\u51cc\u6668\u505c\u4e1a",i[i["\u4e0a\u5348\u8425\u4e1a"]=1]="\u4e0a\u5348\u8425\u4e1a",i[i["\u4e0b\u5348\u8425\u4e1a"]=2]="\u4e0b\u5348\u8425\u4e1a",i[i["\u591c\u665a\u8425\u4e1a"]=3]="\u591c\u665a\u8425\u4e1a",a.ShopDayData=function(){this.day_cook_num=0,this.day_db_num=0,this.day_jd_num=0,this.day_ps_num=0,this.day_income=0,this.day_bonus=0,this.busy_date=0},a.Dingdan=function(){},a.ShopBase=function(){this.chushilv=[1,0,0]},a.TaskCfg=m;var g;g=o.default,__extends(y,g),y.prototype.loadConfig=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n,i,o,a,c,r,g;return __generator(this,function(y){switch(y.label){case 0:return this.bInit?[2]:(t=this,[4,I("Foods",s)]);case 1:return t.Foods=y.sent(),e=this,[4,I("Zhuangxiu",u)];case 2:return e.Zhuangxiu=y.sent(),n=this,[4,I("Waimaiyuan",h)];case 3:return n.Waimaiyuan=y.sent(),i=this,[4,I("Shouyinyuan",l)];case 4:return i.Shouyinyuan=y.sent(),o=this,[4,I("ShopLV",d)];case 5:return o.ShopLV=y.sent(),a=this,[4,I("Dianzhang",p)];case 6:return a.Dianzhang=y.sent(),c=this,[4,I("Chushi",f)];case 7:return c.Chushi=y.sent(),r=this,[4,I("Title",_)];case 8:return r.Titles=y.sent(),g=this,[4,I("Task",m)];case 9:return g.TaskCfgs=y.sent(),this.bInit=!0,[2,new Promise(function(t,e){t()})]}})})},y.prototype.getDianzhangDataByLV=function(t,e){return t<1&&(t=1),this.Dianzhang.find(function(n){return n.shop==e&&n.lv==t})},y.prototype.getShopAllFoodsIDByShopID=function(t,e){void 0===e&&(e=!1);for(var n=[],i=0;i<this.Foods.length;++i)if(this.Foods[i].shop==t){if(e&&!r.default.Instance().checkForFoodUnlock(this.Foods[i].id))continue;n.push(this.Foods[i].id)}return n},y.prototype.getShopUnlockFoodsByShopID=function(t){for(var e=[],n=0;n<this.Foods.length;++n)this.Foods[n].shop==t&&0==this.Foods[n].unlock&&e.push(this.Foods[n].id);return e},y.prototype.getWaimaiyuanDataByLV=function(t,e){return t<0&&(t=0),this.Waimaiyuan.find(function(n){return n.shop==e&&n.lv==t})},y.prototype.getWaimaiyuanGongjuByDistance=function(t){for(var e=0;e<this.Waimaiyuan.length;++e){var n=this.Waimaiyuan[e];if(t>=n.psmin&&t<=n.psmax)return c.default.cloneObj(this.Waimaiyuan[e])}return c.default.cloneObj(this.Waimaiyuan[this.Waimaiyuan.length-1])},y.prototype.getFoodDataByID=function(t){for(var e=0;e<this.Foods.length;++e)if(this.Foods[e].id==t)return c.default.cloneObj(this.Foods[e]);return null},y.prototype.getSSYDataByLV=function(t,e){return t<1&&(t=1),this.Shouyinyuan.find(function(n){return n.shop==e&&n.lv==t})},y.prototype.getJiajuDataByID=function(t){for(var e=0;e<this.Zhuangxiu.length;++e)if(this.Zhuangxiu[e].id==t)return c.default.cloneObj(this.Zhuangxiu[e]);return null},y.prototype.getShopAllJiajuIDByShopID=function(t){for(var e=[],n=0;n<this.Zhuangxiu.length;++n)this.Zhuangxiu[n].shop==t&&e.push(this.Zhuangxiu[n].id);return e},y.prototype.getShopMaxLV=function(){return this.ShopLV.length/10},y.prototype.getShopDataByIDLV=function(t,e){return(e=(e=6*t+(e<0?0:e))<0?0:e)>this.ShopLV.length-1&&(e=this.ShopLV.length-1),c.default.cloneObj(this.ShopLV[e])},y.prototype.getShopUnlockDataByShopID=function(t){return(t=(t*=6)<0?0:t)>this.ShopLV.length-1&&(t=54),c.default.cloneObj(this.ShopLV[t])},y.prototype.getShopChushiDataByShopID=function(t,e,n){return e<1&&(e=1),this.Chushi.find(function(i){return i.shop==t&&i.lv==e&&i.num==n})},o=y;function y(){var t=null!==g&&g.apply(this,arguments)||this;return t.bInit=!1,t.Foods=new Array,t.Zhuangxiu=new Array,t.Waimaiyuan=new Array,t.Shouyinyuan=new Array,t.ShopLV=new Array,t.Dianzhang=new Array,t.Chushi=new Array,t.Titles=new Array,t.TaskCfgs=new Array,t}a.default=o;var I=function(t,e){return __awaiter(void 0,void 0,void 0,function(){return __generator(this,function(n){return[2,new Promise(function(n,i){cc.loader.loadRes("config/"+t,cc.TextAsset,function(t,o){if(t)i();else{for(var a=o.text.split("\r\n"),s=a[1].split(","),c=[],r=0;r<s.length;++r){var u=s[r].split(":");2==u.length?c.push({key:u[0],value:u[1]}):c.push({key:"key"+r,value:"string"})}var h=[];for(r=2;r<a.length;++r)if(""!=a[r]){for(var l=a[r].split(","),d=new e,p=0;p<l.length;++p){var f=l[p];switch(c[p].value){case"number":f=Number(f);break;case"string":break;case"boolean":f=1==Number(f);break;case"table":f=f.split(":");break;case"inttable":f=f.split(":");for(var _=0;_<f.length;++_)f[_]=Number(f[_])}d[c[p].key]=f}h.push(d)}n(h)}})})]})})};cc._RF.pop()},{}],CookCell:[function(t,e,n){"use strict";cc._RF.push(e,"8034btH7UdEQIB8cFx0QBcD","CookCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("UIManager"),h=o("AudioMgr"),l=o("Utils"),d=o("ConfigManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(p,s),p.prototype.setCookData=function(t){this.index=t;var e=r.default.Instance().getShopCSLVByID(u.default.Instance().shopID,t+1),n=d.default.Instance().getShopChushiDataByShopID(u.default.Instance().shopID,e,t+1);t=d.default.Instance().getShopChushiDataByShopID(u.default.Instance().shopID,e+1,t+1);this.info=n,this.GetGameObject("Node_Buy").active=0==e,this.GetGameObject("New Node").active=0!=e,this.SetText("lbl_buy",l.default.formatCoin(n.unlockcost)),this.GetGameObject("lbl_buy").color=r.default.Instance().coin>=n.unlockcost?cc.Color.WHITE:cc.Color.RED,this.GetGameObject("text_dd3j").active=1==this.index,this.GetGameObject("text_dd5j").active=2==this.index,e=r.default.Instance().unlock_shop[u.default.Instance().shopID],1==this.index&&(this.GetGameObject("text_dd3j").color=3<=e.lv?cc.Color.GREEN.fromHEX("#4AC058"):cc.Color.RED.fromHEX("#C04A4A")),2==this.index&&(this.GetGameObject("text_dd5j").color=5<=e.lv?cc.Color.GREEN.fromHEX("#4AC058"):cc.Color.RED.fromHEX("#C04A4A")),this.GetGameObject("img_buy_reddot").active=r.default.Instance().coin>=n.unlockcost&&e.lv>=n.unlocklimit,t?(this.GetGameObject("img_reddot").active=r.default.Instance().coin>=t.cost&&e.lv>=t.limit,this.GetGameObject("text_xxxdp").active=e.lv<t.limit,this.SetText("lbl_star_limit",t.limit+""),this.GetGameObject("btn_yellow").active=e.lv>=t.limit,this.SetText("lbl_price",l.default.formatCoin(t.cost)),this.GetGameObject("lbl_price").color=r.default.Instance().coin>=t.cost?cc.Color.WHITE:cc.Color.RED):(this.GetGameObject("text_xxxdp").active=!1,this.GetGameObject("btn_yellow").active=!1,this.GetGameObject("img_reddot").active=!1),this.GetGameObject("text_sxcs").active=1==n.lv,this.GetGameObject("text_cjcs").active=2==n.lv,this.GetGameObject("text_zjcs").active=3==n.lv,this.GetGameObject("text_gjcs").active=4==n.lv,this.GetGameObject("text_zscs").active=5==n.lv,this.GetGameObject("text_chushen").active=6==n.lv,this.SetText("lbl_effect","\u5236\u4f5c\u65f6\u95f4\u7f29\u77ed"+n.cooktime+"%"),this.GetGameObject("text_yixuexi").active=!t},p.prototype.start=function(){var t=this;this.rigester("chushilv_sj",function(){t.setCookData(t.index)})},p.prototype.onBtnClicked=function(t,e){switch(s.prototype.onBtnClicked.call(this,t,e),h.default.Instance().playSFX(r.GAME_CONFIG.music_click),t.target.name){case"btn_buy":r.default.Instance().unlockShopCS(u.default.Instance().shopID,this.index+1),this.setCookData(this.index);break;case"btn_yellow":r.default.Instance().upShopCSLV(u.default.Instance().shopID,this.index+1),this.setCookData(this.index)}},o=__decorate([o],p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.index=0,t}a.default=o,cc._RF.pop()},{}],DZInspireLayer:[function(t,e,n){"use strict";cc._RF.push(e,"06659ulsPxDyZ+vra554TVg","DZInspireLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("AudioMgr"),h=o("AdCenter");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(l,s),l.prototype.start=function(){},l.prototype.setConfig=function(t){var e=this;this.ShopID=t,cc.loader.loadRes("spine/staff/dianzhang_0"+(this.ShopID%2==0?1:2),sp.SkeletonData,function(t,n){t&&cc.error("\u52a0\u8f7d\u5931\u8d25",t),cc.isValid(e.node)&&(e.GetSkeleton("spine").skeletonData=n,e.GetSkeleton("spine").setAnimation(0,"idle",!0))})},l.prototype.onBtnClicked=function(t,e){t.target.name;this.reward6("btn_ad")},l.prototype.reward6=function(t,e){var n=this,i=t.target.name;"btn_ad"===(u.default.Instance().playSFX(r.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),i)&&(this.ShopID<0||h.default.Instance().play(0,function(t){t&&(r.default.Instance().setDZInspireByShopID(n.ShopID),n.closeUI())}))},o=__decorate([o],l);function l(){var t=null!==s&&s.apply(this,arguments)||this;return t.ShopID=-1,t}a.default=o,cc._RF.pop()},{}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"8fa84j3BbNPpL1hUWIcuqxq","DataManager");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});o=i("Singleton");var s=i("Utils"),c=i("GameEvent"),r=i("ConfigManager"),u=i("ConfigManager"),h=i("MsgHints"),l=i("WXTTUtils"),d=i("GameManager"),p=i("UITuanTiOrder"),f=i("UIManager"),_=(m.local_data_key="waimai_wx_2",m.music_bgm="bgm",m.music_click="click",m.scence_fit_height=110,m.game_speed_base=1,m.game_time_base=60,m.bonus_show_time=360,m.shop_time_shangwu=.2,m.shop_time_xiawu=.1,m.shop_time_wanshang=.1,m.staff_talk_time=20,m.staff_talk_random=50,m.qishou_talk_random=20,m.staff_talk_delaytime=3,m.staff_chushi_tips=["\u771f\u9999\uff01","\u6211\u7684\u53a8\u827a\u89c1\u6da8\u4e86","\u770b\u6211\u53a8\u795e\u5341\u4e5d\u5f0f","\u76d0\u597d\u50cf\u653e\u591a\u4e86","\u8ba9\u6211\u6765\u79c0\u4e00\u6ce2\u53a8\u827a","\u5feb\u7ed9\u6211\u88c5\u4fee\u4e00\u4e2a\u8c6a\u534e\u53a8\u623f","\u6211\u4ee5\u524d\u5176\u5b9e\u662f\u4e2a\u7a0b\u5e8f\u5458","\u770b\u6211\u8fa3\u4e0d\u6b7b\u4f60\u4eec","\u6211\u600e\u4e48\u8fd9\u4e48\u5389\u5bb3","\u8fd8\u4e0d\u4e0b\u73ed\uff0c\u7d2f\u6b7b\u4e2a\u4eba\u4e86"],m.staff_shouyin_tips=["\u6253\u5305\u597d\u4e86","\u5feb\u70b9\u9001\u8fc7\u53bb","\u6536\u94b1\u94b1\u4e86","\u8fd9\u4e2a\u5916\u5356\u771f\u9999","\u5f00\u5fc3","\u6536\u94f6\u673a\u548b\u64cd\u4f5c\u6765\u7740\uff1f\uff1f\uff1f","\u6211\u53ea\u662f\u4e00\u4e2a\u4e34\u65f6\u5de5","\u90fd\u6ca1\u5ba2\u4eba\uff0c\u6211\u800d\u4f1a\u513f\u624b\u673a","\u611f\u89c9\u6709\u4eba\u5728\u540e\u9762\u76d1\u89c6\u6211\u5462"],m.staff_qishou_tips=["\u8fd9\u5355\u597d\u8fdc","\u9a91\u4e0a\u6211\u5fc3\u7231\u7684\u5c0f\u6469\u6258","\u5355\u9a91\u8d70\u5929\u6daf","\u6211\u60f3\u5f00\u98de\u673a","\u63a5\u5355\u5566\u63a5\u5355\u5566","\u53c8\u8981\u4ea4\u623f\u79df\u4e86\uff0c\u597d\u7126\u6025","\u4eca\u5929\u6765\u4f53\u9a8c\u751f\u6d3b\uff0c\u563b\u563b","\u50ac\u5355\u540e\u679c\u81ea\u8d1f","\u6211\u5148\u5c1d\u5c1d\u5473\u9053\u5462","\u6211\u90fd\u6709\u8dd1\u8f66\u4e86\u8fd8\u9001\u5916\u5356\uff1f"],m.staff_dianzhang_tips=["\u4e1a\u7ee9\u4e0d\u597d\u554a","\u53c8\u63a5\u4e86\u4e00\u4e2a\u8ba2\u5355","\u5916\u5356\u9001\u5feb\u70b9","\u624b\u811a\u9ebb\u5229\u70b9","\u6768\u767d\u52b3\u518d\u4e16","\u90a3\u4e2a\u61a8\u61a8\u53c8\u5728\u5077\u61d2\uff0c\u54fc\uff01","\u6709\u4eba\u6316\u6211\uff0c\u8981\u4e0d\u8981\u8df3\u69fd\u5462\uff1f","\u9001\u5916\u5356\u90fd\u6bd4\u6211\u7684\u5de5\u8d44\u9ad8","\u8981\u4e0d\u8981\u91cd\u65b0\u627e\u4e2a\u5e08\u5085\uff1f","\u4ec0\u4e48\u65f6\u5019\u53d1\u5956\u91d1"],m.staff_close_tips=["\u4e0b\u73ed\u5566\uff0c\u4e0b\u73ed\u5566","\u56de\u5bb6\u7761\u89c9\u53bb","\u4eca\u5929\u751f\u610f\u771f\u597d","\u5f00\u5fc3\u4e0b\u73ed","\u767e\u7c73\u51b2\u523a\uff01","\u4eca\u5929\u4e0d\u52a0\u73ed","\u4ec0\u4e48\u65f6\u5019\u53d1\u5de5\u8d44\uff1f","\u6211\u7684\u5956\u91d1\u5462\uff1f"],m.bonus_base=100,m.dz_inspire_time=6e5,m.dz_inspire_random=30,m.dz_inspire_base=2,m.zhuanpan_random_base=1e-4,m.zhuanpan_random_dianzhang=5e-5,m.zhuanpan_counts_max=1,m.zhuanpan_free_counts=3,m.zhuanpan_coin_min=1e4,m.tianshi_random=1,m.tianshi_limit=2,m.tianshi_coin_min=5e4,m.tianshi_time=120,m.staff_chushi_cooktime_min=2,m);function m(){}a.GAME_CONFIG=_;var g=[];function y(t,e){g.push(e)}var I;I=o.default,__extends(v,I),v.prototype.rebackServerData=function(t){throw new Error("Method not implemented.")},v.prototype.addSubscribe=function(t){throw new Error("Method not implemented.")},v.prototype.shareSuccess=function(){throw new Error("Method not implemented.")},v.prototype.clearTuanTiOrderOdds=function(){this.tuanTiStatus=[0,0,0,0,0,0,0,0,0,0],this.tuanTiOrders=[[],[],[],[],[],[],[],[],[],[]]},v.prototype.checkTuanTiOrder=function(t){if(75600<=this.shopTick)return console.warn("9\u70b9\u4ee5\u540e\u4e0d\u89e6\u53d1"),!1;if(1==this.tuanTiStatus[t])return console.warn("\u4eca\u65e5\u5df2\u7ecf\u89e6\u53d1\u56e2\u961f"),!1;this.tuanTiOrderOdds[t]+=.003;var e=s.default.getRandom(0,1);if(console.log("\u56e2\u961f",e,this.tuanTiOrderOdds[t],"shopid",t),e<this.tuanTiOrderOdds[t]){if(u.default.Instance().getShopAllFoodsIDByShopID(t,!0).length<3)return console.warn("\u53ea\u6709\u5e97\u94fa\u7684\u83dc\u54c1\u7c7b\u578b\u6570\u91cf\u5927\u4e8e3\u4e2a\u65f6\u624d\u4f1a\u89e6\u53d1"),!1;for(var n=d.default.Instance().getShopDDListByShopID(t),i=0;i<n.length;++i)if(-1!=n[i].group)return console.warn("\u5982\u679c\u6709\u672a\u5b8c\u6210\u7684\u56e2\u4f53\u8ba2\u5355\uff0c\u4e5f\u4e0d\u51fa\u53d1"),!1;return console.log("\u56e2\u4f53\u8ba2\u5355"),this.tuanTiOrderOdds[t]=0,s.default.createUI("prefab/UI/UITuanTiOrder").then(function(e){e.getComponent(p.default).setTuanTiOrder(t)}),!0}},v.prototype.setData=function(t){if(!t)return cc.sys.localStorage.setItem("bgmVolume",1),void cc.sys.localStorage.setItem("sfxVolume",1);for(var e,n=0;n<g.length;++n){var i=t[g[n]];if(null!=i)if("[object Object]"==Object.prototype.toString.call(i))for(var o in i)this[g[n]][o]=i[o];else this[g[n]]=i}0<this.shopTickTimer&&(e=Math.floor((s.default.getServerTime()-this.shopTickTimer)/1e3)*_.game_time_base/_.game_speed_base,this.shopTick=(25200+e)%86400),this.savedata(!0)},v.prototype.checkNewTody=function(){var t=new Date(this.TaskRefreshTime),e=new Date(s.default.getServerTime()),n=!0;return(n=(t.getFullYear()!=e.getFullYear()||t.getMonth()!=e.getMonth()||t.getDate()!=e.getDate())&&n)&&(this.initDayTask(),console.log("\u65b0\u7684\u4e00\u5929  \u91cd\u7f6e\u4efb\u52a1")),n},v.prototype.initDayTask=function(){function t(t){var e=u.default.Instance().getShopAllFoodsIDByShopID(t,!0);return e.length<1?(e=u.default.Instance().getShopAllFoodsIDByShopID(t,!1))[0]:e[s.default.getRandomInt(0,e.length)]}this.watch_ad_count=0,this.share_count=0,this.watch_ad_count=0,this.sellfood={},this.TaskRefreshTime=s.default.getServerTime();for(var e=u.default.Instance().TaskCfgs,n=0,i=0;i<e.length;++i)0<=e[i].type.indexOf("mg")?n=t(r.ShopID.\u9762\u9986):0<=e[i].type.indexOf("cf")?n=t(r.ShopID.\u7092\u996d\u9986):0<=e[i].type.indexOf("ncc")?n=t(r.ShopID.\u5976\u8336\u5e97):0<=e[i].type.indexOf("hb")?n=t(r.ShopID.\u6c49\u5821\u5e97):0<=e[i].type.indexOf("np")?n=t(r.ShopID.\u725b\u6392\u5e97):0<=e[i].type.indexOf("rl")?n=t(r.ShopID.\u65e5\u6599\u9986):0<=e[i].type.indexOf("hg")?n=t(r.ShopID.\u706b\u9505\u5e97):0<=e[i].type.indexOf("zc")?n=t(r.ShopID.\u4e2d\u9910\u9986):0<=e[i].type.indexOf("xc")?n=t(r.ShopID.\u897f\u9910\u9986):0<=e[i].type.indexOf("mql")&&(n=t(r.ShopID.\u7c73\u5176\u6797)),this.taskInfo[e[i].type]={status:0,foodid:n};console.log(this.taskInfo)},v.prototype.getUploadData=function(){for(var t={},e=0;e<g.length;++e)t[g[e]]=this[g[e]];return t},v.prototype.savedata=function(t){var e,n;void 0===t&&(t=!1),cc.sys.platform==cc.sys.WECHAT_GAME?(3e4<s.default.getServerTime()-this.savedatatime||t)&&(this.recordShopTemp(),e=this.getUploadData(),n=JSON.stringify(e),this.savedatatime=s.default.getServerTime(),cc.sys.localStorage.setItem(_.local_data_key,n),""!=this.openid&&l.default.Instance().dealData(l.WXTT_ACTION.UPLOAD,e,["nickname","headimg","coin"])):(this.recordShopTemp(),e=this.getUploadData(),console.log("savedata",e),n=JSON.stringify(e),cc.sys.localStorage.setItem(_.local_data_key,n))},v.prototype.changeGameCoin=function(t){this.coin+=t,0<t&&(this.total_coin+=t),this.savedata()},v.prototype.addShopCoin=function(t,e){t<this.unlock_shop.length&&(this.unlock_shop[t].income+=e)},v.prototype.getShopLVByID=function(t){for(var e=0;e<this.unlock_shop.length;++e)if(this.unlock_shop[e].id==t)return this.unlock_shop[e].lv;return-1},v.prototype.getShopSYYLVByID=function(t){for(var e=0;e<this.unlock_shop.length;++e)if(this.unlock_shop[e].id==t)return this.unlock_shop[e].shouyinyuanlv;return-1},v.prototype.getShopDZLVByID=function(t){for(var e=0;e<this.unlock_shop.length;++e)if(this.unlock_shop[e].id==t)return this.unlock_shop[e].dianzhanglv;return-1},v.prototype.getShopCSLVByID=function(t,e){for(var n=0;n<this.unlock_shop.length;++n)if(this.unlock_shop[n].id==t)return this.unlock_shop[n].chushilv[e-1];return-1},v.prototype.getShopWMYLVByID=function(t){for(var e=0;e<this.unlock_shop.length;++e)if(this.unlock_shop[e].id==t)return this.unlock_shop[e].waimaiyuanlv;return-1},v.prototype.getRandomFoodByShopID=function(t){if(!((t=u.default.Instance().getShopAllFoodsIDByShopID(t,!0)).length<1))return t[s.default.getRandomInt(0,t.length)];console.log("\u5e97\u94fa\u6ca1\u6709\u53ef\u7528\u7684\u9910\u5355")},v.prototype.getRandomDistanceByShopID=function(t){var e=this.getShopWMYLVByID(t);return-1==e?(h.default.show("\u5e97\u94fa\u672a\u89e3\u9501"),0):(t=u.default.Instance().getWaimaiyuanDataByLV(e,t),s.default.getRandomInt(Math.min(100,t.psmin),t.psmax))},v.prototype.checkForFoodUnlock=function(t){return-1<this.unlock_foods.indexOf(t)},v.prototype.unlockFood=function(t){if(this.checkForFoodUnlock(t))return h.default.show("\u9910\u54c1\u5df2\u7ecf\u89e3\u9501"),!1;var e=u.default.Instance().getFoodDataByID(t);return e?this.getShopLVByID(f.default.Instance().shopID)<e.limit?(h.default.show("\u5e97\u94fa\u7b49\u7ea7\u4e0d\u8db3\u65e0\u6cd5\u5347\u7ea7"),!1):this.coin<e.unlock?(h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1):(this.unlock_foods.push(t),this.changeGameCoin(-e.unlock),c.default.Instance().dispatch("UNLOCK_FOOD",{foodID:t}),!0):(h.default.show("\u65e0\u6b64\u9910\u54c1"),!1)},v.prototype.checkForJiajuUnlock=function(t){return this.unlock_jiaju.hasOwnProperty(t)},v.prototype.upJiaju=function(t){var e=u.default.Instance().getJiajuDataByID(t);if(!e)return h.default.show("\u65e0\u6b21\u5bb6\u5177"),!1;if(this.checkForJiajuUnlock(t)){if(4<=this.unlock_jiaju[t])return h.default.show("\u8be5\u5bb6\u5177\u5df2\u7ecf\u6ee1\u7ea7"),!1;var n=this.getShopLVByID(e.shop);if(this.unlock_jiaju[t]>=n)return h.default.show("\u5bb6\u5177\u7b49\u7ea7\u4e0d\u80fd\u8d85\u8fc7\u5e97\u94fa\u7b49\u7ea7"),!1;if(this.coin<e["cost"+this.unlock_jiaju[t]])return h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1;this.changeGameCoin(-e["cost"+this.unlock_jiaju[t]]),this.unlock_jiaju[t]++,c.default.Instance().dispatch("GAME_UPDATE_JIAJU",{jiajuID:t,jiaju:e.node})}else{if(this.coin<e.cost0)return h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1;this.unlock_jiaju[t]=0,this.changeGameCoin(-e.cost0),c.default.Instance().dispatch("GAME_UPDATE_JIAJU",{jiajuID:t,jiaju:e.node})}return!0},v.prototype.getJiajuLVByID=function(t){return this.unlock_jiaju.hasOwnProperty(t)?this.unlock_jiaju[t]:-1},v.prototype.upShopLV=function(t){var e=this.getShopLVByID(t),n=null;if(this.unlock_shop.length<=t){if(n=u.default.Instance().getShopUnlockDataByShopID(t),this.unlock_shop.length<n.limitshop)return h.default.show("\u672a\u89e3\u9501\u524d\u7f6e\u5e97\u94fa"),!1;if(this.unlock_shop[n.limitshop].lv<n.limitshoplv)return h.default.show("\u524d\u7f6e\u5e97\u94fa\u7b49\u7ea7\u4e0d\u8db3"),!1;if(this.coin<n.cost)return h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1;var i=new r.ShopBase;i.id=t,i.income=0,i.lv=0,i.shouyinyuanlv=1,i.dianzhanglv=0,i.waimaiyuanlv=0,this.unlock_shop.push(i),i=u.default.Instance().getShopUnlockFoodsByShopID(t),this.unlock_foods=this.unlock_foods.concat(i),c.default.Instance().dispatch("GAME_UNLOCK_SHOP",{ShopID:t})}else{if(n=u.default.Instance().getShopDataByIDLV(t,e+1),e>=u.default.Instance().getShopMaxLV())return h.default.show("\u5e97\u94fa\u5df2\u6ee1\u7ea7"),!1;if(!this.checkForShopUPJiajuLV(t,e))return;if(this.coin<n.cost)return h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1;this.unlock_shop[t].lv++,c.default.Instance().dispatch("GAME_UPGRADE_SHOP",{ShopID:t})}return!!n&&(this.changeGameCoin(-n.cost),!0)},v.prototype.checkForShopUPJiajuLV=function(t,e){for(var n=u.default.Instance().getShopAllJiajuIDByShopID(t),i=0;i<n.length;++i){if(!this.unlock_jiaju.hasOwnProperty(n[i]))return h.default.show("\u524d\u7f6e\u5bb6\u5177\u672a\u89e3\u9501\uff0c\u65e0\u6cd5\u5347\u7ea7"),!1;if(this.unlock_jiaju[n[i]]<e)return h.default.show("\u524d\u7f6e\u5bb6\u5177\u7b49\u7ea7\u4e0d\u8db3\uff0c\u65e0\u6cd5\u5347\u7ea7"),!1}return!0},v.prototype.getShopJiajuBuff=function(t){for(var e,n=1,i=0;i<u.default.Instance().Zhuangxiu.length;++i)u.default.Instance().Zhuangxiu[i].shop==t&&(e=u.default.Instance().Zhuangxiu[i].id,this.checkForJiajuUnlock(e)&&(n+=u.default.Instance().Zhuangxiu[i]["price"+this.unlock_jiaju[e]]/100));return n},v.prototype.getFoodPSPrice=function(t,e){return t=u.default.Instance().getFoodDataByID(t),1e3<=e?Math.ceil(t.price*(.1+Math.max(e-1e3,0)/1e3*.1)):Math.ceil(t.price*(.1+Math.max(e-1e3,0)/1e3*.05))},v.prototype.getFoodDBPrice=function(t,e){var n=u.default.Instance().getFoodDataByID(e);e=Math.ceil(n.price*this.getShopJiajuBuff(t)),n=this.getShopSYYLVByID(t);return e+u.default.Instance().getSSYDataByLV(n,t).dbcost},v.prototype.startBusyBlowDown=function(){console.log("\u8fdb\u5165\u6d88\u6781\u72b6\u6001"),this.bonusTime=0,this.isBonus=this.busyDays,this.savedata(!0),c.default.Instance().dispatch("GAME_BUSYBLOWDOWN_STATE",{show:!0})},v.prototype.closeBusyBlowDown=function(t){void 0===t&&(t=!0),console.log("\u89e3\u9664\u6d88\u6781\u72b6\u6001"),this.bonusTime=0,this.isBonus=0,this.bonusDays=this.busyDays,t&&this.savedata(!0),c.default.Instance().dispatch("GAME_BUSYBLOWDOWN_STATE",{show:!1})},v.prototype.upShopSSYLV=function(t){var e=this.getShopSYYLVByID(t);return(e=u.default.Instance().getSSYDataByLV(e+1,t)).shop>=this.unlock_shop.length?(h.default.show("\u5e97\u94fa\u672a\u89e3\u9501"),!1):this.unlock_shop[e.shop].lv<e.limit?(h.default.show("\u5e97\u94fa\u7b49\u7ea7\u4e0d\u8db3"),!1):this.coin<e.cost?(h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1):(h.default.show("\u8d2d\u4e70\u6210\u529f"),this.changeGameCoin(-e.cost),this.unlock_shop[t].shouyinyuanlv++,this.savedata(!0),c.default.Instance().dispatch("shouyinyuanlv_sj"),!0)},v.prototype.upShopDZLV=function(t){var e=this.getShopDZLVByID(t);return(e=u.default.Instance().getDianzhangDataByLV(e,t)).shop>=this.unlock_shop.length?(h.default.show("\u5e97\u94fa\u672a\u89e3\u9501"),!1):this.unlock_shop[e.shop].lv<e.limit?(h.default.show("\u5e97\u94fa\u7b49\u7ea7\u4e0d\u8db3"),!1):this.coin<e.cost?(h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1):(h.default.show("\u8d2d\u4e70\u6210\u529f"),this.changeGameCoin(-e.cost),this.unlock_shop[t].dianzhanglv++,this.savedata(!0),c.default.Instance().dispatch("dianzhanglv_sj",{shopID:t}),!0)},v.prototype.upShopWMYLV=function(t){var e=this.getShopWMYLVByID(t);return(e=u.default.Instance().getWaimaiyuanDataByLV(e+1,t)).shop>=this.unlock_shop.length?(h.default.show("\u5e97\u94fa\u672a\u89e3\u9501"),!1):this.unlock_shop[e.shop].lv<e.limit?(h.default.show("\u5e97\u94fa\u7b49\u7ea7\u4e0d\u8db3"),!1):this.coin<e.cost?(h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1):(h.default.show("\u8d2d\u4e70\u6210\u529f"),this.changeGameCoin(-e.cost),this.unlock_shop[t].waimaiyuanlv++,this.savedata(!0),c.default.Instance().dispatch("waimaiyuanlv_sj"),!0)},v.prototype.upShopCSLV=function(t,e){var n=this.getShopCSLVByID(t,e);return(n=u.default.Instance().getShopChushiDataByShopID(t,n+1,e)).shop>=this.unlock_shop.length?(h.default.show("\u5e97\u94fa\u672a\u89e3\u9501"),!1):this.unlock_shop[n.shop].lv<n.limit?(h.default.show("\u5e97\u94fa\u7b49\u7ea7\u4e0d\u8db3"),!1):this.coin<n.cost?(h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1):(h.default.show("\u8d2d\u4e70\u6210\u529f"),this.changeGameCoin(-n.cost),this.unlock_shop[t].chushilv[e-1]++,this.savedata(!0),c.default.Instance().dispatch("chushilv_sj"),!0)},v.prototype.unlockShopCS=function(t,e){var n=u.default.Instance().getShopChushiDataByShopID(t,1,e);return n.shop>=this.unlock_shop.length?(h.default.show("\u5e97\u94fa\u672a\u89e3\u9501"),!1):this.unlock_shop[n.shop].lv<n.unlocklimit?(h.default.show("\u5e97\u94fa\u7b49\u7ea7\u4e0d\u8db3"),!1):this.coin<n.unlockcost?(h.default.show("\u91d1\u94b1\u4e0d\u8db3"),!1):(h.default.show("\u89e3\u9501\u6210\u529f"),this.changeGameCoin(-n.unlockcost),this.unlock_shop[t].chushilv[e-1]++,this.savedata(!0),c.default.Instance().dispatch("GAME_CHUSHI_UNLOCK",{ShopID:t,num:e}),!0)},v.prototype.getDZInspireByShopID=function(t){return t>=this.dz_inspire.length?0:this.dz_inspire[t]},v.prototype.clearDZInspireByShopID=function(t){t<this.dz_inspire.length&&(console.log("\u5e97\u94fa"+t+"\u5e97\u957f\u89e3\u9664\u6fc0\u52b1\u6a21\u5f0f"),this.dz_inspire[t]=0,this.savedata(!0),c.default.Instance().dispatch("GAME_DZINSPIRE_UPDATE",{ShopID:t,show:!1}))},v.prototype.setDZInspireByShopID=function(t){this.dz_inspire||(this.dz_inspire=[0,0,0,0,0,0,0,0,0,0]),t<this.dz_inspire.length&&(console.log("\u5e97\u94fa"+t+"\u5e97\u957f\u8fdb\u5165\u6fc0\u52b1\u6a21\u5f0f"),this.dz_inspire[t]=s.default.getServerTime(),this.savedata(!0),c.default.Instance().dispatch("GAME_DZINSPIRE_UPDATE",{ShopID:t,show:!0}))},v.prototype.getShopIncomeByM=function(t,e){for(var n=u.default.Instance().getShopAllFoodsIDByShopID(t,!0),i=0,o=0;o<n.length;++o)n[o]>i&&(i=n[o]);var a=u.default.Instance().getFoodDataByID(i),s=v.Instance().getShopDZLVByID(t),c=u.default.Instance().getDianzhangDataByLV(s,t),r=Math.floor(60*e/Math.max(c.ddtime,10));c=r*(s=Math.ceil(a.price*v.Instance().getShopJiajuBuff(t)));return console.log("\u5e97\u94fa\u3010"+t+"\u3011"+e+"\u5206\u949f\u6536\u76ca\uff1a\u8ba2\u5355\u6570\u91cf:"+r+"/\u8ba2\u5355\u98df\u54c1:"+a.name+"/\u98df\u54c1\u4ef7\u683c:"+s+"/\u6536\u76ca:"+c),c},v.prototype.recordShopTemp=function(){if(d.default.Instance()&&d.default.Instance().ShopState!=r.ShopState.\u51cc\u6668\u505c\u4e1a)for(var t=0;t<this.unlock_shop.length;++t){var e={cook_num:(e=d.default.Instance().getGameMGRByShopID(t)).Instance().cook_num,db_num:e.Instance().db_num,jd_num:e.Instance().jd_num,ps_num:e.Instance().ps_num,day_income:e.Instance().day_income};this.shop_day_temp[t]=e}},v.prototype.clearShopTemp=function(){for(var t=0;t<this.unlock_shop.length;++t)this.shop_day_temp[t]=null},__decorate([y],v.prototype,"nickname",void 0),__decorate([y],v.prototype,"headimg",void 0),__decorate([y],v.prototype,"openid",void 0),__decorate([y],v.prototype,"signdays",void 0),__decorate([y],v.prototype,"signtime",void 0),__decorate([y],v.prototype,"share_count",void 0),__decorate([y],v.prototype,"savedatatime",void 0),__decorate([y],v.prototype,"guideIndex",void 0),__decorate([y],v.prototype,"bGuideIndex4Over",void 0),__decorate([y],v.prototype,"bGuideIndex6Over",void 0),__decorate([y],v.prototype,"coin",void 0),__decorate([y],v.prototype,"total_coin",void 0),__decorate([y],v.prototype,"dz_inspire",void 0),__decorate([y],v.prototype,"unlock_shop",void 0),__decorate([y],v.prototype,"unlock_foods",void 0),__decorate([y],v.prototype,"unlock_jiaju",void 0),__decorate([y],v.prototype,"taskInfo",void 0),__decorate([y],v.prototype,"TaskRefreshTime",void 0),__decorate([y],v.prototype,"sellfood",void 0),__decorate([y],v.prototype,"shopTick",void 0),__decorate([y],v.prototype,"shopTickTimer",void 0),__decorate([y],v.prototype,"bonusTime",void 0),__decorate([y],v.prototype,"isBonus",void 0),__decorate([y],v.prototype,"busyDays",void 0),__decorate([y],v.prototype,"shop_day_data",void 0),__decorate([y],v.prototype,"bonusDays",void 0),__decorate([y],v.prototype,"shop_day_temp",void 0),o=v;function v(){var t=null!==I&&I.apply(this,arguments)||this;return t.js_code="",t.session_key="",t.nickname="",t.headimg="",t.openid="",t.signdays=0,t.signtime=0,t.share_count=0,t.share_count_total=0,t.watch_ad_count=0,t.watch_ad_count_total=0,t.savedatatime=0,t.guideIndex=1,t.bGuideIndex4Over=!1,t.bGuideIndex6Over=!1,t.coin=5e3,t.total_coin=t.coin,t.dz_inspire=[0,0,0,0,0,0,0,0,0,0],t.unlock_shop=[{id:r.ShopID.\u9762\u9986,income:0,lv:0,shouyinyuanlv:1,dianzhanglv:0,chushilv:[1,0,0],waimaiyuanlv:0}],t.unlock_foods=[100001],t.unlock_jiaju={},t.taskInfo={},t.TaskRefreshTime=0,t.nLastSaveRemoteTime=0,t.sellfood={},t.shopTick=25200,t.shopTickTimer=0,t.bonusTime=0,t.isBonus=0,t.busyDays=0,t.shop_day_data={},t.bonusDays=0,t.shop_day_temp=[null,null,null,null,null,null,null,null,null,null],t.tuanTiOrderOdds=[0,0,0,0,0,0,0,0,0,0],t.tuanTiStatus=[0,0,0,0,0,0,0,0,0,0],t.tuanTiOrders=[[],[],[],[],[],[],[],[],[],[]],t}a.default=o,cc._RF.pop()},{}],DecorCell:[function(t,e,n){"use strict";cc._RF.push(e,"2d210/SqltNZZoKKH4USQjE","DecorCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("DataManager"),r=o("BaseUI"),u=o("AudioMgr"),h=o("ConfigManager"),l=o("UIDecor"),d=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=r.default,__extends(p,s),p.prototype.start=function(){var t=this;this.rigester("GAME_UPGRADE_SHOP",function(){t.setData(t.shop_id,t.zhuangxiu_id)}),this.rigester("GAME_UPDATE_JIAJU",function(){t.setData(t.shop_id,t.zhuangxiu_id)})},p.prototype.setData=function(t,e){var n=this;this.shop_id=t,this.zhuangxiu_id=e,this.zhuangxiu=h.default.Instance().getJiajuDataByID(this.zhuangxiu_id);var i=c.default.Instance().getJiajuLVByID(this.zhuangxiu_id);e=null,e=-1==i?(i=0,""+this.zhuangxiu.name):i+1+"\u7ea7"+this.zhuangxiu.name;this.GetGameObject("btn_yellow").active=!0,4==i?(this.GetButton("btn_yellow").interactable=!1,this.GetGameObject("btn_show").active=!1,this.GetGameObject("text_yimanji").active=!0):(t=c.default.Instance().getShopLVByID(t),c.default.Instance().unlock_jiaju[this.zhuangxiu_id]>=t?(this.GetGameObject("btn_yellow").active=!1,this.SetText("lbl_limit",""+(t+1))):this.SetText("lbl_limit",""),this.GetGameObject("btn_show").active=!0,this.GetGameObject("text_yimanji").active=!1),this.SetText("lbl_name",e),this.SetText("lbl_buff",this.zhuangxiu["desp"+i]),this.SetText("lbl_need_coin",d.default.formatCoin(this.zhuangxiu["cost"+i])),this.GetGameObject("lbl_need_coin").color=c.default.Instance().coin>=this.zhuangxiu["cost"+i]?cc.Color.WHITE:cc.Color.RED,cc.loader.loadRes("texture/zhuangxiu/"+this.zhuangxiu["icon"+i],cc.SpriteFrame,function(t,e){t?console.log("\u627e\u4e0d\u5230icon",n.zhuangxiu["icon"+i]):n.GetSprite("spr_icon").spriteFrame=e}),this.GetGameObject("img_reddot").active=c.default.Instance().coin>=this.zhuangxiu["cost"+i]&&this.GetButton("btn_yellow").interactable},p.prototype.onBtnClicked=function(t,e){"btn_yellow"===(s.prototype.onBtnClicked.call(this,t,e),u.default.Instance().playSFX(c.GAME_CONFIG.music_click),t.target.name)&&c.default.Instance().upJiaju(this.zhuangxiu_id)&&(l.default.Instance().updateProgess(),this.setData(this.shop_id,this.zhuangxiu_id))},o=__decorate([o],p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.shop_id=null,t.zhuangxiu_id=null,t.zhuangxiu=null,t}a.default=o,cc._RF.pop()},{}],DingDanCell:[function(t,e,n){"use strict";cc._RF.push(e,"f88687SnwNP85En5TQBzCiU","DingDanCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(h,s),h.prototype.start=function(){},h.prototype.setDingDan=function(t){var e=this;this.did=t.id;var n=r.default.Instance().getFoodDataByID(t.foodID);n?(this.GetGameObject("img_tuan").active=-1!=t.group,u.default.loadRes("foods/"+n.icon,cc.SpriteFrame).then(function(t){e.GetSprite("icon").spriteFrame=t}).catch(console.error)):console.error(" \u9519\u8bef foodID",t.foodID)},o=__decorate([o],h);function h(){var t=null!==s&&s.apply(this,arguments)||this;return t.did=0,t}a.default=o,cc._RF.pop()},{}],EventType:[function(t,e,n){"use strict";cc._RF.push(e,"cbc34SI4+5Do7kJo/CYRJvo","EventType");var i=n;function o(){}Object.defineProperty(i,"__esModule",{value:!0}),o.GETIPHONID_COMPLETE="GETIPHONID_COMPLETE",o.IOS_CANCEL="IOS_CANCEL",o.IOS_OPEN="IOS_OPEN",o.GETWX_COMPLETE="GETWX_COMPLETE",o.AD_COMPLETE="AD_COMPLETE",o.WUJIANG_SET="WUJIANG_SET",i.default=o,cc._RF.pop()},{}],GameEvent:[function(t,e,n){"use strict";cc._RF.push(e,"7698aOBsGFKDogqTQs289dG","GameEvent");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a;a=i("Singleton").default,__extends(s,a),s.prototype.register=function(t,e,n){var i={};i.ower=t,i.type=e,i.callback=n,this.eventHash.hasOwnProperty(e)||(this.eventHash[e]=[]),this.eventHash[e].push(i)},s.prototype.unregister=function(t,e){var n=this.eventHash[e];n&&0<n.length&&n.forEach(function(i,o){i.ower===t&&i.type===e&&n.splice(o,1)})},s.prototype.dispatch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.eventHash[t];if(i&&0<i.length)for(var o in i)(o=i[o]).callback&&o.callback.apply(o,e)},i=s;function s(){var t=null!==a&&a.apply(this,arguments)||this;return t.eventHash={},t.ower=null,t.type=null,t.callback=null,t}o.default=i,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"c0f7fwT7MVB5bkJldnaPWG1","GameManager");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=i("BaseUI"),u=i("Utils"),h=i("ConfigManager"),l=i("DataManager"),d=i("Manager_Mianguan"),p=i("Manager_Chaofanguan"),f=i("Manager_Naichadian"),_=i("Manager_Hanbaodian"),m=i("Manager_Niupaidian"),g=i("Manager_Riliaoguan"),y=i("Manager_Huoguodian"),I=i("Manager_Zhongcanguan"),v=i("Manager_Xicanguan"),b=i("Manager_Miqilin"),G=i("ChangeTimeLayer");i=(o=cc._decorator).ccclass,o=o.property,s=r.default,__extends(S,s),(c=S).prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return(c._instance=this).UI_children=this.GetGameObject("UI_node"),cc.game.on(cc.game.EVENT_SHOW,function(){t.pauseGame(!1)},this),cc.game.on(cc.game.EVENT_HIDE,function(){t.pauseGame(!0)},this),68400<=l.default.Instance().shopTick&&l.default.Instance().shopTick<86400?c.Instance().ShopState=h.ShopState.\u591c\u665a\u8425\u4e1a:46800<=l.default.Instance().shopTick&&l.default.Instance().shopTick<68400?c.Instance().ShopState=h.ShopState.\u4e0b\u5348\u8425\u4e1a:25200<=l.default.Instance().shopTick&&l.default.Instance().shopTick<46800?(c.Instance().ShopState=h.ShopState.\u4e0a\u5348\u8425\u4e1a,this.openBusy(0!=l.default.Instance().busyDays)):(c.Instance().ShopState=h.ShopState.\u51cc\u6668\u505c\u4e1a,this.closeBusy(!0)),this.showChangeTimeLayer(),0<l.default.Instance().bonusTime&&u.default.getServerTime()-l.default.Instance().bonusTime>=1e3*l.GAME_CONFIG.bonus_show_time&&l.default.Instance().startBusyBlowDown(),l.default.Instance().shop_day_data.busy_date<(this.ShopState==h.ShopState.\u51cc\u6668\u505c\u4e1a?l.default.Instance().busyDays:l.default.Instance().busyDays-1)&&this.checkForBonus(),[2]})})},S.Instance=function(){return c._instance},S.prototype.update=function(t){if(!this.pause){t*=l.GAME_CONFIG?l.GAME_CONFIG.game_speed_base:1,l.default.Instance().shopTick+=t*l.GAME_CONFIG.game_time_base,86400<=l.default.Instance().shopTick&&(l.default.Instance().shopTick=0);var e=!1;68400<=l.default.Instance().shopTick&&l.default.Instance().shopTick<86400?this.ShopState!=h.ShopState.\u591c\u665a\u8425\u4e1a&&(this.ShopState=h.ShopState.\u591c\u665a\u8425\u4e1a,console.log("\u73b0\u5728\u8fdb\u5165\u591c\u665a\u8425\u4e1a\uff1a",u.default.getTimeStrByS(l.default.Instance().shopTick)),e=!0):46800<=l.default.Instance().shopTick&&l.default.Instance().shopTick<68400?this.ShopState!=h.ShopState.\u4e0b\u5348\u8425\u4e1a&&(this.ShopState=h.ShopState.\u4e0b\u5348\u8425\u4e1a,console.log("\u73b0\u5728\u8fdb\u5165\u4e0b\u5348\u8425\u4e1a\uff1a",u.default.getTimeStrByS(l.default.Instance().shopTick)),e=!0):25200<=l.default.Instance().shopTick&&l.default.Instance().shopTick<46800?this.ShopState!=h.ShopState.\u4e0a\u5348\u8425\u4e1a&&(this.ShopState=h.ShopState.\u4e0a\u5348\u8425\u4e1a,console.log("\u73b0\u5728\u8fdb\u5165\u4e0a\u5348\u8425\u4e1a\uff1a",u.default.getTimeStrByS(l.default.Instance().shopTick)),this.openBusy(),e=!0):this.ShopState!=h.ShopState.\u51cc\u6668\u505c\u4e1a&&(this.ShopState=h.ShopState.\u51cc\u6668\u505c\u4e1a,console.log("\u73b0\u5728\u8fdb\u5165\u51cc\u6668\u505c\u4e1a\uff1a",u.default.getTimeStrByS(l.default.Instance().shopTick)),e=!0,this.closeBusy()),e&&(this.showChangeTimeLayer(),this.ShopState!=h.ShopState.\u4e0b\u5348\u8425\u4e1a&&this.ShopState!=h.ShopState.\u591c\u665a\u8425\u4e1a||this.checkForTianshi(),this.clearInfoEachTimes()),e=u.default.getServerTime(),0<l.default.Instance().bonusTime&&e-l.default.Instance().bonusTime>=1e3*l.GAME_CONFIG.bonus_show_time&&l.default.Instance().startBusyBlowDown();for(var n=0;n<l.default.Instance().unlock_shop.length;++n)this.getGameMGRByShopID(n).Instance().updateFrame(t)}},S.prototype.showChangeTimeLayer=function(){var t=this;this.ShopState==h.ShopState.\u4e0a\u5348\u8425\u4e1a?this.GetGameObject("CloseBusyLayer")&&(this.GetGameObject("CloseBusyLayer").removeFromParent(),this.dispatch("UI_SHOW_DAYTIME",{show:!0})):this.ShopState==h.ShopState.\u51cc\u6668\u505c\u4e1a&&(this.GetGameObject("CloseBusyLayer")||u.default.createUI("prefab/CloseBusyLayer")),u.default.createUI("prefab/ChangeTimeLayer",this.GetGameObject("UI")).then(function(e){e.getComponent(G.default).showTime(t.ShopState)});for(var e,n=0;n<4;++n)this.GetGameObject("time_icon_"+n).active=this.ShopState==n;if(-1!=this.ShopState&&this.GetSkeleton("shijian").setAnimation(0,["lingchen","shangwu","xiawu","wanshang"][this.ShopState],!0),this.ShopState!=h.ShopState.\u51cc\u6668\u505c\u4e1a)for(n=0;n<l.default.Instance().unlock_shop.length;++n)0==l.default.Instance().getDZInspireByShopID(n)&&(e=u.default.getRandomInt(0,100),this.dispatch("UI_DZINSPIRE_SHOW",{ShopID:n,show:e<l.GAME_CONFIG.dz_inspire_random}))},S.prototype.adOpenBusy=function(){l.default.Instance().shopTick=25200},S.prototype.checkIsInMainUI=function(){return this.UI_children.childrenCount<1},S.prototype.closeAllUIChildren=function(){this.UI_children.removeAllChildren()},S.prototype.getDingdanByShopID=function(t){if(t=this.getGameMGRByShopID(t))return t.Instance().getCookDingdan()},S.prototype.getDBDingdanByShopID=function(t){if(t=this.getGameMGRByShopID(t))return t.Instance().getDBDingdan()},S.prototype.getShopDDListByShopID=function(t){if(t=this.getGameMGRByShopID(t))return t.Instance().dd_list},S.prototype.getShopDDLengthByShopID=function(t){if(t=this.getGameMGRByShopID(t))return t.Instance().dd_list.length},S.prototype.getShopDDMaxByShopID=function(t){if(t=this.getGameMGRByShopID(t))return t.Instance().dd_max},S.prototype.createDDByShopID=function(t,e){void 0===e&&(e=null);var n=this.getGameMGRByShopID(t);if(n)return n.Instance().createDingdan(e,e?t:-1)},S.prototype.getGameMGRByShopID=function(t){return t==h.ShopID.\u9762\u9986?d.default:t==h.ShopID.\u7092\u996d\u9986?p.default:t==h.ShopID.\u5976\u8336\u5e97?f.default:t==h.ShopID.\u6c49\u5821\u5e97?_.default:t==h.ShopID.\u725b\u6392\u5e97?m.default:t==h.ShopID.\u65e5\u6599\u9986?g.default:t==h.ShopID.\u706b\u9505\u5e97?y.default:t==h.ShopID.\u4e2d\u9910\u9986?I.default:t==h.ShopID.\u897f\u9910\u9986?v.default:t==h.ShopID.\u7c73\u5176\u6797?b.default:void 0},S.prototype.createDDBaozhuangByShopID=function(t,e,n){if(void 0===n&&(n=null),t=this.getGameMGRByShopID(t))return t.Instance().createDDBaozhuang(e,n)},S.prototype.takeDDBaozhuangByID=function(t,e,n){if(e=this.getGameMGRByShopID(e))return e.Instance().takeDDBaozhuang(t,n)},S.prototype.getShopQishouByID=function(t,e){var n=this.getGameMGRByShopID(t);if(n)return n.Instance().getQishouByID(t,e)},S.prototype.openBusy=function(t){(t=void 0!==t&&t)||(l.default.Instance().clearTuanTiOrderOdds(),l.default.Instance().busyDays++,l.default.Instance().shopTickTimer=u.default.getServerTime(),l.default.Instance().savedata(!0)),console.log("\u7b2c"+l.default.Instance().busyDays+"\u5929\u5f00\u95e8\u8425\u4e1a"),this.dispatch("GAME_BUSY_START")},S.prototype.closeBusy=function(t){if(void 0===t&&(t=!1),console.log("\u7b2c"+l.default.Instance().busyDays+"\u5929\u8425\u4e1a\u7ed3\u675f"),!t){l.default.Instance().clearShopTemp();for(var e=0;e<l.default.Instance().unlock_shop.length;++e)c.Instance().getGameMGRByShopID(e).Instance().workOver();this.checkForBonus()}this.dispatch("GAME_BUSY_CLOSE")},S.prototype.checkForBonus=function(){l.default.Instance().bonusDays<=l.default.Instance().busyDays&&(0<l.default.Instance().isBonus&&l.default.Instance().closeBusyBlowDown(!1),this.calcShopDayData())},S.prototype.calcShopDayData=function(){var t=new h.ShopDayData;t.busy_date=l.default.Instance().busyDays;for(var e=0;e<l.default.Instance().unlock_shop.length;++e)t.day_cook_num+=this.getGameMGRByShopID(e).Instance().cook_num,t.day_db_num+=this.getGameMGRByShopID(e).Instance().db_num,t.day_jd_num+=this.getGameMGRByShopID(e).Instance().jd_num,t.day_ps_num+=this.getGameMGRByShopID(e).Instance().ps_num,t.day_income+=this.getGameMGRByShopID(e).Instance().day_income;t.day_bonus=Math.floor(t.day_income/10),t.day_bonus<l.GAME_CONFIG.bonus_base&&(t.day_bonus=l.GAME_CONFIG.bonus_base),console.log("\u8ba1\u7b97\u5e97\u94fa\u5956\u91d1\uff1a",t),l.default.Instance().shop_day_data=t,l.default.Instance().bonusTime=u.default.getServerTime(),l.default.Instance().savedata(!0)},S.prototype.pauseGame=function(t){this.pause=t},S.prototype.checkForTianshi=function(){for(var t=0;t<l.default.Instance().unlock_shop.length;++t)l.default.Instance().unlock_shop[t].lv>=l.GAME_CONFIG.tianshi_limit&&this.getGameMGRByShopID(t).Instance().checkForTianshi()&&u.default.getRandomInt(0,100)<Math.floor(l.GAME_CONFIG.tianshi_random/l.default.Instance().unlock_shop.length*100)&&c.Instance().getGameMGRByShopID(t).Instance().creteTianshi()},S.prototype.clearInfoEachTimes=function(){l.default.Instance().clearTuanTiOrderOdds();for(var t=0;t<l.default.Instance().unlock_shop.length;++t)this.getGameMGRByShopID(t).Instance().zhuanpan_count=0},S._instance=null,__decorate([o(cc.Prefab)],S.prototype,"model_baozhuang",void 0),__decorate([o(cc.Prefab)],S.prototype,"model_baozhuang_tuanti",void 0),i=c=__decorate([i],S);function S(){var t=null!==s&&s.apply(this,arguments)||this;return t.model_baozhuang=null,t.model_baozhuang_tuanti=null,t.UI_children=null,t.ShopState=-1,t.pause=!1,t}a.default=i,cc._RF.pop()},{}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"6907divja1Cx6BsyQWzF88+","GameScene");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("BaseUI"),u=o("DataManager"),h=o("Utils"),l=o("AudioMgr"),d=o("HTTP"),p=o("ConfigManager");o=(i=cc._decorator).ccclass,i.property,s=r.default,__extends(f,s),(c=f).prototype.start=function(){(c._instance=this).camera=cc.find("Canvas/Main Camera"),this.UI=cc.find("Canvas/UI"),l.default.Instance().playBGM(u.GAME_CONFIG.music_bgm),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),this.initView()},f.prototype.update=function(){},f.Instance=function(){return c._instance},f.prototype.initView=function(){var t=this;this.updateAllJiaju(),this.rigester("GAME_UPDATE_JIAJU",function(e){t.updateJiaju(e.jiajuID,e.jiaju)}),this.rigester("GAME_UPGRADE_SHOP",function(e){t.updateShopDiban(e.ShopID)})},f.prototype.onGameHide=function(){},f.prototype.onGameShow=function(){this.dispatch("EVENT_FINISH_DAYTASK",{index:1}),d.default.sendRequest("get_server_time",{account:u.default.Instance().openid},function(t){console.log("get_server_time:",t,t.time),h.default.setServerTime(t.time)},null,function(){})},f.prototype.onDestroy=function(){cc.game.off(cc.game.EVENT_SHOW,this.onGameShow),cc.game.off(cc.game.EVENT_HIDE,this.onGameHide),s.prototype.onDestroy.call(this)},f.prototype.updateJiaju=function(t,e){var n,i=this,o=this.GetGameObject(e);o&&(o.active||(o.active=!0),o=p.default.Instance().getJiajuDataByID(t),-1!=(n=u.default.Instance().getJiajuLVByID(t))&&(0<=e.indexOf("zhaopai")?this.GetSkeleton(e)&&h.default.loadRes("spine/zp/"+o["res"+n],sp.SkeletonData).then(function(t){i.GetSkeleton(e).skeletonData=t,i.GetSkeleton(e).setAnimation(0,"zhaopai_0"+(n+1),!0)}):200009==t||208006==t?(this.SetSprite("chuju_0","texture/furniture/"+o["res"+n]),this.SetSprite("chuju_1","texture/furniture/"+o["res"+n]),this.SetSprite("chuju_2","texture/furniture/"+o["res"+n])):this.SetSprite(e,"texture/furniture/"+o["res"+n])))},f.prototype.updateAllJiaju=function(){for(var t in u.default.Instance().unlock_jiaju){var e=parseInt(t);(t=p.default.Instance().getJiajuDataByID(e))&&this.updateJiaju(e,t.node)}},f.prototype.updateShopDiban=function(t){var e=u.default.Instance().getShopLVByID(t);e=p.default.Instance().getShopDataByIDLV(t,e);this.SetSprite("diban_"+t,"texture2/diban/"+e.diban)},f._instance=null,o=c=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.camera=null,t.UI=null,t}a.default=o,cc._RF.pop()},{}],GetAward:[function(t,e,n){"use strict";cc._RF.push(e,"f598e4eBr9KMocz+vW4k1KE","GetAward");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(r,s),r.prototype.start=function(){var t=this;this.node.y=180,this.GetSkeleton("lingqujiangli").setAnimation(0,"idle",!0),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.node.stopAllActions(),t.GetSkeleton("lingqujiangli").setAnimation(0,"feizou",!1),t.GetSkeleton("lingqujiangli").setCompleteListener(function(){t.GetSkeleton("lingqujiangli").setCompleteListener(null),t.closeUI()})})))},o=__decorate([o],r);function r(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],GodCommand:[function(t,e,n){"use strict";cc._RF.push(e,"c169bytmm9MH4v26IPKf9RD","GodCommand");var i=e,o=(a=t)("async"),a={locator:function(t,e,n){e=e.command.args,t.find(e,function(e){(t._targetNode=e).once(cc.Node.EventType.TOUCH_END,function(){cc.log("\u8282\u70b9\u88ab\u70b9\u51fb"),n()}),t.getTask().autorun&&t.touchSimulation(e)})},finger:function(t,e,n){var i=e.command.args;t._targetNode=null,t.find(i,function(i){t.fingerToNode(i,function(){e.afterfingerToNode&&e.afterfingerToNode(),(t._targetNode=i).once(cc.Node.EventType.TOUCH_END,function(){n()})}),t.getTask().autorun&&t.touchSimulation(i)})},text:function(t,e,n){var i=e.command.args;!i||"string"!=typeof i&&"number"!=typeof i||(i=[i]);var a=t.getTask().autorun,s=0;o.eachSeries(i,function(n,o){var c=!1;if(t.showText(n,e.pos,function(){c||(c=!0,o())}),s++>=i.length-1)return c=!0,void o();a&&setTimeout(function(){c||(c=!0,o())},500)},n)},LOCATOR:"locator",FINGER:"finger",TEXT:"text"};i.exports=a,cc._RF.pop()},{}],GodGuide:[function(t,e,n){"use strict";cc._RF.push(e,"7b174OZGvJOjZrsLqOTxm98","GodGuide");var i=t,o=e,a=c(i("DataManager")),s=c(i("UIManager"));function c(t){return t&&t.__esModule?t:{default:t}}var r=i("async"),u=i("locator"),h=i("GodCommand"),l=2*Math.PI/360;function d(t,e,n){return[cc.v2(t.x,t.y),cc.v2(t.x+t.width,t.y),cc.v2(t.x+t.width,t.y+t.height),cc.v2(t.x,t.y+t.height)].map(function(t){return i=t,o=e,a=n,t=cc.v2(),o=-o*l,t.x=(i.x-a.x)*Math.cos(o)-(i.y-a.y)*Math.sin(o)+a.x,t.y=(i.x-a.x)*Math.sin(o)+(i.y-a.y)*Math.cos(o)+a.y,t;var i,o,a})}i=cc.Class({extends:cc.Component,properties:{_selector:"",selector:{get:function(){return this._selector},set:function(t){this._selector=t,this.find(t)}},type:{default:cc.Mask.Type.RECT,type:cc.Mask.Type},FINGER_PREFAB:cc.Prefab,TEXT_PREFAB:cc.Prefab,isGuiding:!1},statics:{find:function(t,e){u.locateNode(t,e)}},onLoad:function(){this.init(),window.GodGuide=this},touchSimulation:function(t){this.log("\u81ea\u52a8\u6267\u884c\uff0c\u6a21\u62df\u89e6\u6478"),this.scheduleOnce(function(){cc.log("\u81ea\u52a8\u8282\u70b9 :",JSON.stringify(t.position));var e=t.parent.convertToWorldSpaceAR(t.position);cc.log("\u4e16\u754c\u8282\u70b9 :",JSON.stringify(e)),function(t,e){var n=void 0,i=window._cc.inputManager;cc.sys.isBrowser?(c=document.getElementById("GameCanvas"),n=i.getHTMLElementPosition(c)):((n=cc.view.getFrameSize()).left=0,n.top=0);var o=cc.view.getViewportRect(),a=cc.view.getScaleX(),s=cc.view.getScaleY(),c=cc.view.getDevicePixelRatio();a=(t*a+o.x)/c+n.left,c=n.top+n.height-(e*s+o.y)/c,c=cc.v2(a,c);cc.log("\u6a21\u62df\u70b9\u51fb\u5750\u6807\uff1a"+c.x+", "+c.y);var r=i.getTouchByXY(c.x,c.y,n);i.handleTouchesBegin([r]),setTimeout(function(){i.handleTouchesEnd([r])},200)}(e.x,e.y)},1)},init:function(){this.node.setContentSize(cc.winSize),this._targetNode=null,this.FINGER_PREFAB&&(this._finger=cc.instantiate(this.FINGER_PREFAB),this._finger.parent=this.node,this._finger.active=!1),this.TEXT_PREFAB&&(this._text=cc.instantiate(this.TEXT_PREFAB),this._text.parent=this.node,this._text.active=!1),this._debugNode=this.node.getChildByName("debug"),this._debugNode.active=!1,this._autorun=cc.find("autorun/Background/Label",this._debugNode).getComponent(cc.Label),this._autorun.string="\u81ea\u52a8\u5f15\u5bfc\uff08\u5173\uff09",this._mask=this.node.getComponentInChildren(cc.Mask),this._mask.inverted=!0,this._mask.node.active=!1},_addTouch:function(){var t=this;console.log("\u5f00\u542f\u5f15\u5bfc\u89e6\u6478"),this.node.on(cc.Node.EventType.TOUCH_START,function(e){!t._dispatchEvent&&t._mask.node.active?t._targetNode?t._targetNode&&(t._targetNode.getBoundingBoxToWorld().contains(e.getLocation())||6==a.default.Instance().guideIndex?(6==a.default.Instance().guideIndex&&console.warn("\u5f15\u5bfc6\u76f4\u63a5\u653e\u884c\uff0c  \u8fd9\u662fbug \u61d2\u5f97\u6539\uff0c\u76f4\u63a5\u653e\u884c"),t.node._touchListener.setSwallowTouches(!1),cc.log("\u547d\u4e2d\u76ee\u6807\u8282\u70b9\uff0c\u653e\u884c")):(t.node._touchListener.setSwallowTouches(!0),cc.log("\u672a\u547d\u4e2d\u76ee\u6807\u8282\u70b9\uff0c\u62e6\u622a"))):t.node._touchListener.setSwallowTouches(!0):t.node._touchListener.setSwallowTouches(!1)},this)},_offTouch:function(){this.node.off(cc.Node.EventType.TOUCH_START),console.log("\u5173\u95ed\u5f15\u5bfc\u89e6\u6478")},setTask:function(t){this._task?cc.warn("\u5f53\u524d\u4efb\u52a1\u8fd8\u672a\u5904\u7406\u5b8c\u6bd5\uff01"):(this._debugNode.active=!!t.debug,this._autorun.string="\u81ea\u52a8\u5f15\u5bfc("+(t.autorun?"\u5f00":"\u5173")+"\uff09",this._task=t)},getTask:function(){return this._task},run:function(t){var e=this;this._task&&(this._addTouch(),this.isGuiding=!0,r.eachSeries(this._task.steps,function(t,n){e._processStep(t,n)},function(){a.default.Instance().guideIndex++,a.default.Instance().savedata(!0),e.isGuiding=!1,e._task=null,e._offTouch(),cc.log("\u4efb\u52a1\u7ed3\u675f",a.default.Instance().guideIndex),e._mask.node.active=!1,e._finger&&(e._finger.active=!1),t&&t()}))},fillPoints:function(t){var e=this,n=t[0];this._mask._graphics.moveTo(n.x,n.y),t.slice(1).forEach(function(t){e._mask._graphics.lineTo(t.x,t.y)}),this._mask._graphics.lineTo(n.x,n.y),this._mask._graphics.stroke(),this._mask._graphics.fill()},_processStep:function(t,e){var n=this;r.series({stepStart:function(e){t.onStart?t.onStart(function(){e()}):e()},stepCommand:function(e){n._task&&(n._mask.node.active=n._task.mask||!0,n.scheduleOnce(function(){n._processStepCommand(t,function(){e()})},t.delayTime||0))},taskEnd:function(e){t.noCancel||(n._mask._graphics.clear(),n._finger.active=!1),t.onEnd?t.onEnd(function(){n._mask._graphics.clear(),n._finger.active=!1,e()}):e()}},function(i){n.log("\u6b65\u9aa4\u3010"+t.desc+"\u3011\u7ed3\u675f\uff01"),e()})},fingerToNode:function(t,e){this._finger||e(),this._finger.active=!0;var n=this.node.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position));"btn_close"==t.name?n.y=-550:(-1<t.name.indexOf("shelves")?n.x+=30:n.x+=75,n.y-=75),t=n.sub(this._finger.position).mag()/cc.winSize.height,t=cc.moveTo(t,n),n=cc.callFunc(function(){e()}),n=cc.sequence(t,n),this._finger.runAction(n)},log:function(t){this._task&&this._task.debug&&cc.log(t)},_processStepCommand:function(t,e){var n=this,i=h[t.command.cmd];i?(this.log("\u6267\u884c\u6b65\u9aa4\u3010"+t.desc+"\u3011\u6307\u4ee4: "+t.command.cmd),i(this,t,function(){n.log("\u6b65\u9aa4\u3010"+t.desc+"\u3011\u6307\u4ee4: "+t.command.cmd+" \u6267\u884c\u5b8c\u6bd5"),e()})):(this.log("\u6267\u884c\u6b65\u9aa4\u3010"+t.desc+"\u3011\u6307\u4ee4: "+t.command.cmd+" \u4e0d\u5b58\u5728\uff01"),e())},find:function(t,e){var n=this;u.locateNode(t,function(t,i){t?cc.log(t):(cc.log("\u5b9a\u4f4d\u8282\u70b9\u6210\u529f",i.name),t=n._focusToNode(i),e&&e(i,t))})},locateNodeByEvent:function(t){this.selector=t.string},getNodePoints:function(t,e,n){return d(t,e,n).map(function(t){return t})},fillPolygon:function(t){var e=this,n=t[0];this._mask._graphics.moveTo(n.x,n.y),t.slice(1).forEach(function(t){e._mask._graphics.lineTo(t.x,t.y)}),this._mask._graphics.lineTo(n.x,n.y),this._mask._graphics.stroke(),this._mask._graphics.fill()},_focusToNode:function(t){this._mask._graphics.clear();var e=t.getBoundingBoxToWorld();t=this.node.convertToNodeSpaceAR(e.origin);return e.x=t.x,e.y=t.y,this._mask._graphics.fillRect(e.x,e.y,e.width,e.height),e},getNodeFullPath:function(t){for(var e=[],n=t;e.unshift(n.name),n=n.parent;);return e.shift(),e.join("/")},isGuideNode:function(t){var e=!1,n=t;do{if(n===this.node){e=!0;break}}while(n=n.parent);return e},startRecordNodeTouch:function(){var t,e;this._task?cc.warn("\u4efb\u52a1\u5f15\u5bfc\u4e2d\uff0c\u4e0d\u80fd\u5f55\u5236"):this._dispatchEvent?cc.warn("\u5df2\u7ecf\u8fdb\u5165\u5f55\u5236\u6a21\u5f0f"):(this._dispatchEvent=cc.Node.prototype.dispatchEvent,this._recordSteps=[],t=this,e=Date.now(),cc.Node.prototype.dispatchEvent=function(n){var i;t._dispatchEvent.call(this,n),t.isGuideNode(this)||n.type!==cc.Node.EventType.TOUCH_END||(n=((i=Date.now())-e)/1e3,e=i,i=t.getNodeFullPath(this),console.log(i),t._recordSteps.push({desc:"\u70b9\u51fb"+i,command:{cmd:"finger",args:i},delayTime:n}))})},stopRecordNodeTouch:function(){this._dispatchEvent?(cc.Node.prototype.dispatchEvent=this._dispatchEvent,this._dispatchEvent=null,cc.warn("\u9000\u51fa\u5f55\u5236\u72b6\u6001")):cc.warn("\u672a\u8fdb\u5165\u5f55\u5236\u72b6\u6001")},playRecordNodeTouch:function(t,e){this.stopRecordNodeTouch(),this._recordSteps&&this._recordSteps.length&&(cc.log("\u751f\u6210\u4efb\u52a1\uff1a",JSON.stringify(this._recordSteps)),e={autorun:!!e,debug:!0,steps:this._recordSteps},this._recordSteps=null,this.setTask(e),this.run())},showText:function(t,e,n){this._text.once("click",n),this._text.active=!0,this._text.getComponent(this.TEXT_PREFAB.name).text=t,e?(this._text.getChildByName("guide").x=e.x,this._text.getChildByName("guide").y=e.y):(this._text.getChildByName("guide").x=0,this._text.getChildByName("guide").y=0)},setAutorun:function(){this._task&&(this._task.autorun=!this._task.autorun,this._autorun.string="\u81ea\u52a8\u5f15\u5bfc("+(this._task.autorun?"\u5f00":"\u5173")+"\uff09")},onBtnPassClick:function(t,e){a.default.Instance().guideIndex=100,a.default.Instance().bGuideIndex4Over=!0,a.default.Instance().bGuideIndex6Over=!0,s.default.Instance().GetGameObject("bg_liang").active=!1,a.default.Instance().savedata(!0),this.isGuiding=!1,this._mask.node.active=!1,this.node.active=!1,this._finger&&(this._finger.active=!1),this._text&&(this._text.active=!1)}}),o.exports=i,cc._RF.pop()},{}],GodText:[function(t,e,n){"use strict";cc._RF.push(e,"1b86czsmlRMTrELH2M+lvr8","GodText");cc.Class({extends:cc.Component,properties:{text:{default:"",notify:function(){this._updateContent()}}},start:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node._touchListener.setSwallowTouches(!1),t.node.active&&t.node.emit("click")})},_updateContent:function(){this.node.active=!0,cc.find("guide/text_01",this.node).active="text_01"==this.text,cc.find("guide/text_02",this.node).active="text_02"==this.text,cc.find("guide/text_03",this.node).active="text_03"==this.text,cc.find("guide/text_04",this.node).active="text_04"==this.text,cc.find("guide/text_05",this.node).active="text_05"==this.text,cc.find("guide/text_06",this.node).active="text_06"==this.text,cc.find("guide/text_07",this.node).active="text_07"==this.text,cc.find("guide/text_08",this.node).active="text_08"==this.text,cc.find("guide/text_09",this.node).active="text_09"==this.text,cc.find("guide/text_10",this.node).active="text_10"==this.text,cc.find("guide/text_11",this.node).active="text_11"==this.text,cc.find("guide/text_12",this.node).active="text_12"==this.text,cc.find("guide/text_13",this.node).active="text_13"==this.text}}),cc._RF.pop()},{}],HTTP:[function(t,e,n){"use strict";cc._RF.push(e,"67bbbOsI39IGox3ery2aUUG","HTTP");var i=e,o=n;function a(){}Object.defineProperty(o,"__esModule",{value:!0}),(i=cc._decorator).ccclass,i.property,a.sendRequest=function(t,e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var s,c=new XMLHttpRequest,r="?";for(s in e)"?"!=r&&(r+="&"),r+=s+"="+e[s];return t=(i=null==i?a.url:i)+t,e&&(t+="?message="+JSON.stringify(e)),console.log(t),c.open("GET",t,!0),c.timeout=1e4,c.onload=function(){var t;200<=c.status&&c.status<300||304==c.status?(t=JSON.parse(c.responseText),n&&n(t)):c.abort()},c.ontimeout=function(t){cc.log(t),o&&o()},c.onabort=function(t){cc.log(t),o&&o()},c.onerror=function(t){cc.log(t),o&&o()},c.send(),c},a.post=function(t,e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),cc.sys.os!=cc.sys.OS_WINDOWS){var s=new XMLHttpRequest;return s.open("POST",(i=null==i?a.url:i)+t,!0),console.log(e),s.timeout=1e4,s.onload=function(){var t;200<=s.status&&s.status<300||304==s.status?(t=JSON.parse(s.responseText),n&&n(t)):s.abort()},s.ontimeout=function(t){cc.log(t),o&&o()},s.onabort=function(t){cc.log(t),o&&o()},s.onerror=function(t){cc.log(t),o&&o()},s.send(JSON.stringify(e)),s}},a.url="https://sanguo.manubbs.com/waimai_tt/",o.default=i=a,cc._RF.pop()},{}],HashFunc:[function(t,e,n){"use strict";cc._RF.push(e,"a31ccc+OBJGZ5t02EZGoNGZ","HashFunc");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],ListItem:[function(t,e,n){"use strict";cc._RF.push(e,"66c9a84a69BcLUb4nTwbgy6","ListItem");var i=e,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,r=s.property,u=s.disallowMultiple,h=s.menu;i=s.executionOrder;(s=a=a||{})[s.NONE=0]="NONE",s[s.TOGGLE=1]="TOGGLE",s[s.SWITCH=2]="SWITCH";var l;l=cc.Component,__extends(d,l),Object.defineProperty(d.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=t;break;case a.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!0,configurable:!0}),d.prototype.onLoad=function(){var t;this._btnCom=this.node.getComponent(cc.Button),this._btnCom||(this.selectedMode,a.NONE),this.selectedMode==a.SWITCH&&(t=this.selectedFlag.getComponent(cc.Sprite),this._unselectedSpriteFrame=t.spriteFrame)},d.prototype._registerEvent=function(){var t;this._btnCom&&0<this.list.selectedMode&&!this._eventReg&&((t=new cc.Component.EventHandler).target=this.node,t.component="ListItem",t.handler="onClickThis",this._btnCom.clickEvents.unshift(t),this._eventReg=!0)},d.prototype.showAni=function(t,e,n){var i,o=this;switch(t){case 0:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:i=[cc.scaleTo(.3,.1)]}(e||n)&&i.push(cc.callFunc(function(){if(n){o.list._delSingleItem(o.node);for(var t=o.list.displayData.length-1;0<=t;t--)if(o.list.displayData[t].id==o.listId){o.list.displayData.splice(t,1);break}}e()})),this.node.runAction(cc.sequence(i))},d.prototype.onClickThis=function(){this.list.selectedId=this.listId},__decorate([r({type:cc.Sprite})],d.prototype,"icon",void 0),__decorate([r({type:cc.Node})],d.prototype,"title",void 0),__decorate([r({type:cc.Enum(a)})],d.prototype,"selectedMode",void 0),__decorate([r({type:cc.Node,visible:function(){return this.selectedMode>a.NONE}})],d.prototype,"selectedFlag",void 0),__decorate([r({type:cc.SpriteFrame,visible:function(){return this.selectedMode==a.SWITCH}})],d.prototype,"selectedSpriteFrame",void 0),i=__decorate([c,u(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),i(-5001)],d);function d(){var t=null!==l&&l.apply(this,arguments)||this;return t.icon=null,t.title=null,t.selectedMode=a.NONE,t.selectedFlag=null,t.selectedSpriteFrame=null,t._unselectedSpriteFrame=null,t._selected=!1,t._eventReg=!1,t}o.default=i,cc._RF.pop()},{}],List:[function(t,e,n){"use strict";cc._RF.push(e,"747f8Ttu9JGQrJfzFDk8XpT","List");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r,u=(d=cc._decorator).ccclass,h=d.property,l=d.disallowMultiple,d=(o=d.menu,d.executionOrder),p=i("ListItem");(i=s=s||{})[i.NODE=1]="NODE",i[i.PREFAB=2]="PREFAB",(i=c=c||{})[i.NORMAL=1]="NORMAL",i[i.ADHERING=2]="ADHERING",i[i.PAGE=3]="PAGE",(i=r=r||{})[i.NONE=0]="NONE",i[i.SINGLE=1]="SINGLE",i[i.MULT=2]="MULT";var f;f=cc.Component,__extends(_,f),Object.defineProperty(_.prototype,"slideModel",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling(null)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){0<=t&&t<=6&&(this._updateRate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,n=this;if(n.selectedMode!=r.SINGLE||t!=n._selectedId)switch(n.selectedMode){case r.SINGLE:if(t==n._selectedId)return;if(!(e=n.getItemByListId(t))&&0<=t)return;var i=void 0;0<=n._selectedId?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=t,e&&((i=e.getComponent(p.default)).selected=!0),0<=n._lastSelectedId&&(o=n.getItemByListId(n._lastSelectedId))&&(o.getComponent(p.default).selected=!1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t,n._lastSelectedId);break;case r.MULT:if(!(e=n.getItemByListId(t)))return;i=e.getComponent(p.default),0<=n._selectedId&&(n._lastSelectedId=n._selectedId),n._selectedId=t;var o=!i.selected;i.selected=o,i=n.multSelected.indexOf(t),o&&i<0?n.multSelected.push(t):!o&&0<=i&&n.multSelected.splice(i,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t,n._lastSelectedId,o)}},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"numItems",{get:function(){return this._numItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e._onScrolling(null);else{var n=e.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),e._delRedundantItem(),(e.firstListId=0)<e.frameByFrameRenderNum){for(var i=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<i;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(o=0;o<t;o++)e._createOrUpdateItem2(o);e.actualNumItems=t}}},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!0,configurable:!0}),_.prototype.onLoad=function(){this._init()},_.prototype.start=function(){this._init()},_.prototype.onEnable=function(){this._registerEvent(),this._init()},_.prototype.onDisable=function(){this._unregisterEvent()},_.prototype._registerEvent=function(){var t=this;t.node.on("touch-up",t._onScrollTouchUp,t),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0)},_.prototype._unregisterEvent=function(){var t=this;t.node.off("touch-up",t._onScrollTouchUp,t),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0)},_.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t._scrollView)if(t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(t.templateType==s.PREFAB?t.tmpPrefab.data:t.tmpNode),t._slideMode!=c.ADHERING&&t._slideMode!=c.PAGE||(t._scrollView.inertia=!1),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!");else cc.error(t.node.name+" no assembly cc.ScrollView!")},_.prototype.setTemplateItem=function(t){if(t){var e=this;switch(e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(e._itemTmp.width,e._itemTmp.height),e.selectedMode==r.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=e.content.width-e._leftGap-e._rightGap;for(e._colLineNum=1;;){if(n-(e._colLineNum*e._itemSize.width+(e._colLineNum-1)*e._columnGap)<0){e._colLineNum--;break}e._colLineNum++}e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var i=e.content.height-e._topGap-e._bottomGap;for(e._colLineNum=1;;){if(i-(e._colLineNum*e._itemSize.height+(e._colLineNum-1)*e._lineGap)<0){e._colLineNum--;break}e._colLineNum++}e._sizeType=!1}}}},_.prototype.checkInited=function(t){return!!this._inited||(cc.error("List initialization not completed!"),!1)},_.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:i=e.customSize?(t=e._getFixedSize(null),e._leftGap+t.val+e._itemSize.width*(e._numItems-t.count)+e._columnGap*(e._numItems-1)+e._rightGap):e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:i=e.customSize?(t=e._getFixedSize(null),e._topGap+t.val+e._itemSize.height*(e._numItems-t.count)+e._lineGap*(e._numItems-1)+e._bottomGap):e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=Math.ceil(e._numItems/e._colLineNum),i=e._topGap+e._itemSize.height*n+e._lineGap*(n-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:n=Math.ceil(e._numItems/e._colLineNum),i=e._leftGap+e._itemSize.width*n+e._columnGap*(n-1)+e._rightGap}}var o,a=e.content.getComponent(cc.Layout);a&&(a.enabled=!1),e._allItemSize=i,e._sizeType?((o=i<e.node.height?e.node.height-.1:i)<0&&(o=0),e._lackSize=e.lackCenter?o:null,e._allItemSizeNoBorder=e._allItemSize-e._topGap-e._bottomGap,e.content.height=o):((o=i<e.node.width?e.node.width-.1:i)<0&&(o=0),e._lackSize=e.lackCenter?o:null,e._allItemSizeNoBorder=e._allItemSize-e._leftGap-e._rightGap,e.content.width=o)},_.prototype._onScrolling=function(t){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&0<this.frameCount)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning&&(this._calcViewPos(),this._virtual)){this.displayData=[];var e,n=0,i=this._numItems-1;if(this.customSize)for(var o=!1;n<=i&&!o;n++)switch(e=this._calcItemPos(n),this._align){case cc.Layout.Type.HORIZONTAL:e.right>=this.viewLeft&&e.left<=this.viewRight?this.displayData.push(e):0!=n&&0<this.displayData.length&&(o=!0);break;case cc.Layout.Type.VERTICAL:e.bottom<=this.viewTop&&e.top>=this.viewBottom?this.displayData.push(e):0!=n&&0<this.displayData.length&&(o=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:e.bottom<=this.viewTop&&e.top>=this.viewBottom?this.displayData.push(e):0!=n&&0<this.displayData.length&&(o=!0);break;case cc.Layout.AxisDirection.VERTICAL:e.right>=this.viewLeft&&e.left<=this.viewRight?this.displayData.push(e):0!=n&&0<this.displayData.length&&(o=!0)}}else{var a=this._itemSize.width+this._columnGap,s=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:n=(this.viewLeft+this._leftGap)/a,i=(this.viewRight+this._rightGap)/a;break;case 2:n=(-this.viewRight-this._rightGap)/a,i=(-this.viewLeft-this._leftGap)/a;break;case 3:n=(-this.viewTop-this._topGap)/s,i=(-this.viewBottom-this._bottomGap)/s;break;case 4:n=(this.viewBottom+this._bottomGap)/s,i=(this.viewTop+this._topGap)/s}for(n=Math.floor(n)*this._colLineNum,i=Math.ceil(i)*this._colLineNum,n<0&&(n=0),--i>=this._numItems&&(i=this._numItems-1);n<=i;n++)this.displayData.push(this._calcItemPos(n))}if(this.displayData.length<=0||!this._numItems)this._delRedundantItem();else{if(this.firstListId=this.displayData[0].id,this.actualNumItems=this.displayData.length,t=this._lastDisplayData.length,this._forceUpdate||this.actualNumItems!=t||this.firstListId!=this._lastDisplayData[0]||this.displayData[this.actualNumItems-1].id!=this._lastDisplayData[t-1])if(this._lastDisplayData=[],0<this.frameByFrameRenderNum)0<this._numItems?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._delRedundantItem(),this._updateCounter=0,this._updateDone=!0);else{for(var c=0;c<this.actualNumItems;c++)this._createOrUpdateItem(this.displayData[c]);this._delRedundantItem(),this._forceUpdate=!1}this._calcNearestItem()}}},_.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=0<t.x?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(0<t.x?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(0<t.y?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=0<t.y?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},_.prototype._calcItemPos=function(t){var e,n,i,o,a,s,c,r,u,h,l;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:return s=this.customSize?(r=this._getFixedSize(t),a=this._leftGap+(this._itemSize.width+this._columnGap)*(t-r.count)+(r.val+this._columnGap*r.count),0<(c=this.customSize[t])?c:this._itemSize.width):(a=this._leftGap+(this._itemSize.width+this._columnGap)*t,this._itemSize.width),n=a+s,this.lackCenter&&0<=this._lackSize&&(a+=l=this.content.width/2-this._allItemSizeNoBorder/2,n+=l),{id:t,left:a,right:n,x:a+this._itemTmp.anchorX*s,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return s=this.customSize?(r=this._getFixedSize(t),n=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-r.count)-(r.val+this._columnGap*r.count),0<(c=this.customSize[t])?c:this._itemSize.width):(n=-this._rightGap-(this._itemSize.width+this._columnGap)*t,this._itemSize.width),a=n-s,this.lackCenter&&0<=this._lackSize&&(a-=l=this.content.width/2-this._allItemSizeNoBorder/2,n-=l),{id:t,right:n,left:a,x:a+this._itemTmp.anchorX*s,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return h=this.customSize?(r=this._getFixedSize(t),e=-this._topGap-(this._itemSize.height+this._lineGap)*(t-r.count)-(r.val+this._lineGap*r.count),0<(c=this.customSize[t])?c:this._itemSize.height):(e=-this._topGap-(this._itemSize.height+this._lineGap)*t,this._itemSize.height),u=e-h,this.lackCenter&&0<=this._lackSize&&(e-=l=this.content.height/2-this._allItemSizeNoBorder/2,u-=l),{id:t,top:e,bottom:u,x:this._itemTmp.x,y:u+this._itemTmp.anchorY*h};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:return h=this.customSize?(r=this._getFixedSize(t),u=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-r.count)+(r.val+this._lineGap*r.count),0<(c=this.customSize[t])?c:this._itemSize.height):(u=this._bottomGap+(this._itemSize.height+this._lineGap)*t,this._itemSize.height),e=u+h,this.lackCenter&&0<=this._lackSize&&(e+=l=this.content.height/2-this._allItemSizeNoBorder/2,u+=l),{id:t,top:e,bottom:u,x:this._itemTmp.x,y:u+this._itemTmp.anchorY*h}}case cc.Layout.Type.GRID:var d=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:o=(u=(e=-this._topGap-(this._itemSize.height+this._lineGap)*d)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e=(u=this._bottomGap+(this._itemSize.height+this._lineGap)*d)+this._itemSize.height,o=u+this._itemTmp.anchorY*this._itemSize.height}switch(i=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:i+=this._itemTmp.anchorX*this._itemSize.width,i-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:i+=(1-this._itemTmp.anchorX)*this._itemSize.width,i-=(1-this.content.anchorX)*this.content.width,i*=-1}return{id:t,top:e,bottom:u,x:i,y:o};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:n=(a=this._leftGap+(this._itemSize.width+this._columnGap)*d)+this._itemSize.width,i=a+this._itemTmp.anchorX*this._itemSize.width,i-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:i=(a=(n=-this._rightGap-(this._itemSize.width+this._columnGap)*d)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,i+=(1-this.content.anchorX)*this.content.width}switch(o=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:o-=(1-this._itemTmp.anchorY)*this._itemSize.height,o+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:o-=this._itemTmp.anchorY*this._itemSize.height,o+=this.content.anchorY*this.content.height,o*=-1}return{id:t,left:a,right:n,x:i,y:o}}}},_.prototype._getFixedSize=function(t){if(!this.customSize)return null;null==t&&(t=this._numItems);var e,n=0,i=0;for(e in this.customSize)parseInt(e)<t&&(n+=this.customSize[e],i++);return{val:n,count:i}},_.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},_.prototype._onScrollEnded=function(){var t,e=this;null!=e.scrollToListId&&(t=e.getItemByListId(e.scrollToListId),e.scrollToListId=null,t&&t.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))),e._onScrolling(null),e._slideMode!=c.ADHERING||e.adhering?e._slideMode==c.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()):e.adhere()},_.prototype._onScrollTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==c.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==c.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere())},_.prototype._pageAdhere=function(){var t=this;if(!(0<t.elasticTop||0<t.elasticRight||0<t.elasticBottom||0<t.elasticLeft)){var e=t._sizeType?t.viewTop:t.viewLeft,n=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>n)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},_.prototype.adhere=function(){var t,e=this;0<e.elasticTop||0<e.elasticRight||0<e.elasticBottom||0<e.elasticLeft||(e.adhering=!0,e._calcNearestItem(),t=(e._sizeType?e._topGap:e._leftGap)/(e._sizeType?e.node.height:e.node.width),e.scrollTo(e.nearestListId,.7,t))},_.prototype.update=function(t){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var e=this._updateCounter+this.frameByFrameRenderNum>this.actualNumItems?this.actualNumItems:this._updateCounter+this.frameByFrameRenderNum,n=this._updateCounter;n<e;n++){var i=this.displayData[n];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.actualNumItems-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._scrollView.isScrolling()||(this._doneAfterUpdate=!1)):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem()):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(e=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,n=this._updateCounter;n<e;n++)this._createOrUpdateItem2(n);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem()},_.prototype._createOrUpdateItem=function(t){var e,n=this.getItemByListId(t.id);n?this._forceUpdate&&this.renderEvent&&(n.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(n),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t.id)):((n=this._pool.size()?this._pool.get():cc.instantiate(this._itemTmp)).setPosition(cc.v2(t.x,t.y)),this._resetItemSize(n),this.content.addChild(n),n.setSiblingIndex(this.content.childrenCount-1),(e=n.getComponent(p.default)).listId=t.id,e.list=this,e._registerEvent(),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t.id)),this._resetItemSize(n),this._updateListItem(e),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},_.prototype._createOrUpdateItem2=function(t){var e,n=this.content.children[t];n?this._forceUpdate&&this.renderEvent&&((e=n.getComponent(p.default)).listId=t,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t)):(n=cc.instantiate(this._itemTmp),this.content.addChild(n),(e=n.getComponent(p.default)).listId=t,e.list=this,e._registerEvent(),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},_.prototype._updateListItem=function(t){if(t&&this.selectedMode>r.NONE)switch(this.selectedMode){case r.SINGLE:t.selected=this.selectedId==t.listId;break;case r.MULT:t.selected=0<=this.multSelected.indexOf(t.listId)}},_.prototype._resetItemSize=function(t){var e=t.getComponent(p.default);this.customSize&&this.customSize[e.listId]?(e=this.customSize[e.listId],this._align==cc.Layout.Type.HORIZONTAL?t.width=e:this._align==cc.Layout.Type.VERTICAL&&(t.height=e)):t.setContentSize(this._itemSize)},_.prototype.setMultSelected=function(t,e){var n=this;if(Array.isArray(t)||(t=[t]),null==e)n.multSelected=null,n.multSelected=t;else{var i=void 0,o=void 0;if(e)for(var a=t.length-1;0<=a;a--)i=t[a],(o=n.multSelected.indexOf(i))<0&&n.multSelected.push(i);else for(a=t.length-1;0<=a;a--)i=t[a],0<=(o=n.multSelected.indexOf(i))&&n.multSelected.splice(o,1)}n._forceUpdate=!0,n._onScrolling(null)},_.prototype.updateAppointed=function(t){for(var e=(t=Array.isArray(t)?t:[t]).length,n=0;n<e;n++){var i=t[n],o=this.getItemByListId(i);o&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,i)}},_.prototype.getItemByListId=function(t){for(var e=this.content.childrenCount-1;0<=e;e--)if(this.content.children[e].getComponent(p.default).listId==t)return this.content.children[e];return null},_.prototype._getOutsideItem=function(){for(var t=[],e=this.content.childrenCount-1;0<=e;e--){for(var n=this.content.children[e],i=!0,o=this.actualNumItems-1;0<=o;o--)if(this.displayData[o]){var a=this.displayData[o].id;if(n.getComponent(p.default).listId==a){i=!1;break}}i&&t.push(n)}return t},_.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;0<=e;e--)this._pool.put(t[e]);else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},_.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy()},_.prototype.aniDelItem=function(t,e,n){var i,o,a,s=this,c=s.getItemByListId(t);!s._aniDelRuning&&s._virtual&&(c?(i=c.getComponent(p.default),s._aniDelRuning=!0,o=s.displayData[s.displayData.length-1].id,a=i.selected,i.showAni(n,function(){var n,i,u;if(null!=(n=o<s._numItems-2?o+1:n)?(h=s._calcItemPos(n),s.displayData.push(h),s._virtual?s._createOrUpdateItem(h):s._createOrUpdateItem2(n)):s._numItems--,s.selectedMode==r.SINGLE)a?s._selectedId=-1:0<=s._selectedId-1&&s._selectedId--;else if(s.selectedMode==r.MULT&&s.multSelected.length){var h=s.multSelected.indexOf(t);0<=h&&s.multSelected.splice(h,1);for(var l=s.multSelected.length-1;0<=l;l--)(d=s.multSelected[l])>=t&&s.multSelected[l]--}if(s.customSize){s.customSize[t]&&delete s.customSize[t];var d,p={};for(d in s.customSize){var f=s.customSize[d],_=parseInt(d);p[_-(t<=_?1:0)]=f}s.customSize=p}for(l=null!=n?n:o;t+1<=l;l--)(c=s.getItemByListId(l))&&(u=s._calcItemPos(l-1),u=[cc.moveTo(.2333,cc.v2(u.x,u.y))],l<=t+1&&(i=!0,u.push(cc.callFunc(function(){s._aniDelRuning=!1,e(t)}))),1<u.length?c.runAction(cc.sequence(u)):c.runAction(u[0]));i||(s._aniDelRuning=!1,e(t))},!0)):e(t))},_.prototype.scrollTo=function(t,e,n,i){void 0===e&&(e=.5),void 0===n&&(n=null),void 0===i&&(i=!1);var o=this;if(o.checkInited(!1)){o._scrollView.stopAutoScroll(),null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1);var a,s,c=o._calcItemPos(t);switch(o._alignCalcType){case 1:a=c.left,a-=null!=n?o.node.width*n:o._leftGap,c=cc.v2(a,0);break;case 2:a=c.right-o.node.width,a+=null!=n?o.node.width*n:o._rightGap,c=cc.v2(a+o.content.width,0);break;case 3:s=c.top,s+=null!=n?o.node.height*n:o._topGap,c=cc.v2(0,-s);break;case 4:s=c.bottom+o.node.height,s-=null!=n?o.node.height*n:o._bottomGap,c=cc.v2(0,-s+o.content.height)}var r=o.content.getPosition(),u=(r=Math.abs(o._sizeType?r.y:r.x),o._sizeType?c.y:c.x);u=.5<Math.abs((null!=o._scrollPos?o._scrollPos:r)-u);o._scrollView.stopAutoScroll(),u&&(o._scrollView.scrollToOffset(c,e),o.scheduleOnce(function(){var e;o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),i&&(e=o.getItemByListId(t))&&e.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))},e+.1),e<=0&&o._onScrolling(null))}},_.prototype._calcNearestItem=function(){var t,e;this.nearestListId=null,this._virtual&&this._calcViewPos();for(var n=!1,i=0;i<this.content.childrenCount&&!n;i+=this._colLineNum)switch(t=this._virtual?this.displayData[i]:this._calcExistItemPos(i),e=this._sizeType?(t.top+t.bottom)/2:(t.left+t.right)/2,this._alignCalcType){case 1:t.right>=this.viewLeft&&(this.nearestListId=t.id,this.viewLeft>e&&(this.nearestListId+=this._colLineNum),n=!0);break;case 2:t.left<=this.viewRight&&(this.nearestListId=t.id,this.viewRight<e&&(this.nearestListId+=this._colLineNum),n=!0);break;case 3:t.bottom<=this.viewTop&&(this.nearestListId=t.id,this.viewTop<e&&(this.nearestListId+=this._colLineNum),n=!0);break;case 4:t.top>=this.viewBottom&&(this.nearestListId=t.id,this.viewBottom>e&&(this.nearestListId+=this._colLineNum),n=!0)}if((t=this._virtual?this.displayData[this.actualNumItems-1]:this._calcExistItemPos(this._numItems-1))&&t.id==this._numItems-1)switch(e=this._sizeType?(t.top+t.bottom)/2:(t.left+t.right)/2,this._alignCalcType){case 1:this.viewRight>e&&(this.nearestListId=t.id);break;case 2:this.viewLeft<e&&(this.nearestListId=t.id);break;case 3:this.viewBottom<e&&(this.nearestListId=t.id);break;case 4:this.viewTop>e&&(this.nearestListId=t.id)}},_.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);return e?(t={id:t,x:e.x,y:e.y},this._sizeType?(t.top=e.y+e.height*(1-e.anchorY),t.bottom=e.y-e.height*e.anchorY):(t.left=e.x-e.width*e.anchorX,t.right=e.x+e.width*(1-e.anchorX)),t):null},_.prototype.prePage=function(t){this.skipPage(this.curPageNum-1,t=void 0===t?.5:t)},_.prototype.nextPage=function(t){this.skipPage(this.curPageNum+1,t=void 0===t?.5:t)},_.prototype.skipPage=function(t,e){var n=this;if(n._slideMode!=c.PAGE)return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");t<0||t>=n._numItems||n.curPageNum!=t&&(n.curPageNum=t,n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],t),n.scrollTo(t,e))},_.prototype.calcCustomSize=function(t){var e=this;if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e.customSize={};var n=cc.instantiate(e._itemTmp);e.content.addChild(n);for(var i=0;i<t;i++)cc.Component.EventHandler.emitEvents([e.renderEvent],n,i),n.height==e._itemSize.height&&n.width==e._itemSize.width||(e.customSize[i]=e._sizeType?n.height:n.width);return Object.keys(e.customSize).length||(e.customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),e.customSize},__decorate([h({type:cc.Enum(s)})],_.prototype,"templateType",void 0),__decorate([h({type:cc.Node,visible:function(){return this.templateType==s.NODE}})],_.prototype,"tmpNode",void 0),__decorate([h({type:cc.Prefab,visible:function(){return this.templateType==s.PREFAB}})],_.prototype,"tmpPrefab",void 0),__decorate([h()],_.prototype,"_slideMode",void 0),__decorate([h({type:cc.Enum(c)})],_.prototype,"slideModel",null),__decorate([h({type:cc.Float,range:[0,1,.1],slide:!0,visible:function(){return this._slideMode==c.PAGE}})],_.prototype,"pageDistance",void 0),__decorate([h({type:cc.Component.EventHandler,visible:function(){return this._slideMode==c.PAGE}})],_.prototype,"pageChangeEvent",void 0),__decorate([h()],_.prototype,"_virtual",void 0),__decorate([h({type:cc.Boolean})],_.prototype,"virtual",null),__decorate([h({visible:function(){return this.virtual}})],_.prototype,"lackCenter",void 0),__decorate([h({type:cc.Integer})],_.prototype,"_updateRate",void 0),__decorate([h({type:cc.Integer,range:[0,6,1],slide:!0})],_.prototype,"updateRate",null),__decorate([h({type:cc.Integer,range:[0,12,1],slide:!0})],_.prototype,"frameByFrameRenderNum",void 0),__decorate([h({type:cc.Component.EventHandler})],_.prototype,"renderEvent",void 0),__decorate([h({type:cc.Enum(r)})],_.prototype,"selectedMode",void 0),__decorate([h({type:cc.Component.EventHandler,visible:function(){return this.selectedMode>r.NONE}})],_.prototype,"selectedEvent",void 0),__decorate([h({serializable:!1})],_.prototype,"_numItems",void 0),d=__decorate([u,l(),o("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),d(-5e3)],_);function _(){var t=null!==f&&f.apply(this,arguments)||this;return t.templateType=s.NODE,t.tmpNode=null,t.tmpPrefab=null,t._slideMode=c.NORMAL,t.pageDistance=.3,t.pageChangeEvent=new cc.Component.EventHandler,t._virtual=!0,t.lackCenter=!1,t._updateRate=2,t.frameByFrameRenderNum=0,t.renderEvent=new cc.Component.EventHandler,t.selectedMode=r.NONE,t.selectedEvent=null,t._selectedId=-1,t._forceUpdate=!1,t._updateDone=!0,t._numItems=0,t._inited=!1,t._aniDelRuning=!1,t._doneAfterUpdate=!1,t.adhering=!1,t._adheringBarrier=!1,t.curPageNum=0,t}a.default=d,cc._RF.pop()},{}],LoadGuide:[function(t,e,n){"use strict";cc._RF.push(e,"221183HlFFC8a1pFSY4mraA","LoadGuide");var i=t,o=i("async");cc.Class({extends:cc.Component,properties:{PREFAB:cc.Prefab,parent:cc.Node,zIndex:0,tasks:[cc.String]},loadPrefab:function(){try{var t=cc.instantiate(this.PREFAB);t.zIndex=this.zIndex,t.position=cc.v2(0,0),t._objFlags=cc.Object.Flags.DontSave,t.parent=this.parent||this.node,this._godGuide=t.getComponent("GodGuide")}catch(t){cc.error(this.PREFAB),cc.error(t)}},runTask:function(t){var e=this;this._godGuide||this.loadPrefab(),this.tasks=[["task1","task2","task3","task4","task5","task6"][t-1]],o.eachSeries(this.tasks,function(t,n){t=i(t),e._godGuide.setTask(t),e._godGuide.run(n)},function(){cc.log("\u4efb\u52a1\u5168\u90e8\u5b8c\u6210"),e._godGuide._text&&(e._godGuide._text.active=!1)})}}),cc._RF.pop()},{}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"af4a3CKKPZAwr4aagW/gTcl","Loading");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("DataManager"),r=o("ConfigManager"),u=o("AudioMgr"),h=o("BaseUI"),l=o("PoolMgr"),d=window.wx||window.tt;o=(i=cc._decorator).ccclass,i.property,s=h.default,__extends(p,s),p.prototype.onLoad=function(){var t=this;cc.debug.setDisplayStats(!1),cc.game.setFrameRate(60),d&&d.setKeepScreenOn({keepScreenOn:!0}),s.prototype.onLoad.call(this),l.default.Instance().loadPrefabs(),r.default.Instance().loadConfig().then(function(){t.startLoginAction()})},p.prototype.startLoadingAction=function(t){this.GetGameObject("loading_mask").active=t,this.GetGameObject("img_quan").stopAllActions(),t&&this.GetGameObject("img_quan").runAction(cc.rotateBy(.1,45).repeatForever())},p.prototype.startLoginAction=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){return __awaiter(t,void 0,void 0,function(){var t,e,n=this;return __generator(this,function(i){return(t=cc.sys.localStorage.getItem(c.GAME_CONFIG.local_data_key))&&(t=JSON.parse(t)),console.log("localdata:",t),c.default.Instance().setData(t),u.default.Instance().loadSounds(),e=0,this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){1<(e+=.018)&&(e=1),n.SetProgressBar("ProgressBar",e),n.SetText("desp",Math.floor(100*e)+"%"),1<=e&&(n.node.stopAllActions(),cc.director.loadScene("hall"))})).repeatForever()),[2]})})})))},o=__decorate([o],p);function p(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],LongTouchComponent:[function(t,e,n){"use strict";cc._RF.push(e,"e00b9OAUdVJhbS0BUI7M5px","LongTouchComponent");var i=e,o=n;Object.defineProperty(o,"__esModule",{value:!0});i=(s=cc._decorator).ccclass;var a,s=s.property;a=cc.Component,__extends(c,a),c.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},c.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.unschedule(this._touchCounterCallback)},c.prototype.clear=function(){this._isTouching=!1,this.unschedule(this._touchCounterCallback)},c.prototype._onTouchStart=function(t){var e=this;this.enableMultiTouching||this._isTouching||(this.node.getBoundingBoxToWorld().contains(t.getLocation())?this._isTouching=!0:this._isTouching=!1,this._isTouching&&(this.publishOneTouch(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e._isTouching&&(e.unschedule(e._touchCounterCallback),e.schedule(e._touchCounterCallback,e.touchInterval))})))))},c.prototype._onTouchEnd=function(t){this._isTouching=!1,this._touchCounter=0,this.unschedule(this._touchCounterCallback)},c.prototype._onTouchCancel=function(t){this._isTouching=!1,this._touchCounter=0,this.unschedule(this._touchCounterCallback)},c.prototype._touchCounterCallback=function(){this._isTouching?this.publishOneTouch():this.unschedule(this._touchCounterCallback)},c.prototype.publishOneTouch=function(){var t=this;this._isTouching&&(this.node.runAction(cc.sequence(cc.scaleTo(this.touchInterval/2,.8),cc.scaleTo(this.touchInterval/2,1))),this._touchCounter++,this.longTouchEvents.forEach(function(e){e.emit([t.node])}))},__decorate([s({tooltip:"\u89e6\u6478\u56de\u8c03\u95f4\u9694\uff08\u79d2\uff09\u3002\u5047\u5982\u4e3a0.1\uff0c\u90a3\u4e481\u79d2\u5185\u4f1a\u56de\u8c0310\u6b21 ${longTouchEvents} \u4e8b\u4ef6\u6570\u7ec4"})],c.prototype,"touchInterval",void 0),__decorate([s({readonly:!0,tooltip:"\u662f\u5426\u652f\u6301\u591a\u70b9\u89e6\u63a7\uff08\u5f53\u524d\u8fd8\u4e0d\u652f\u6301\uff09"})],c.prototype,"enableMultiTouching",void 0),__decorate([s({type:[cc.Component.EventHandler],tooltip:"\u56de\u8c03\u4e8b\u4ef6\u6570\u7ec4\uff0c\u6bcf\u95f4\u9694 ${toucheInterval}s \u56de\u8c03\u4e00\u6b21"})],c.prototype,"longTouchEvents",void 0),i=__decorate([i],c);function c(){var t=null!==a&&a.apply(this,arguments)||this;return t.touchInterval=.1,t.enableMultiTouching=!1,t.longTouchEvents=[],t._touchCounter=0,t._isTouching=!1,t}o.default=i,cc._RF.pop()},{}],LuPinResult:[function(t,e,n){"use strict";cc._RF.push(e,"cc373efydhKfK1aS2cWIrdf","LuPinResult");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("AudioMgr");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(u,s),u.prototype.setData=function(t){this.res=t},u.prototype.onBtnClicked=function(t,e){switch(s.prototype.onBtnClicked.call(this,t,e),r.default.Instance().playSFX("click"),t.target.name){case"btn_share":window.tt.shareAppMessage({channel:"video",title:"",imageUrl:"",query:"",extra:{videoPath:this.res.videoPath},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f")},fail:function(t){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}}),this.closeUI();break;case"btn_save":window.tt.saveVideoToPhotosAlbum({filePath:this.res.videoPath,success:function(t){window.tt.showToast({title:"\u4fdd\u5b58\u6210\u529f"})},fail:function(t){window.tt.showToast({title:"\u4fdd\u5b58\u5931\u8d25"})}}),this.closeUI()}},o=__decorate([o],u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.res=null,t}a.default=o,cc._RF.pop()},{}],Manager_Base:[function(t,e,n){"use strict";cc._RF.push(e,"64760z3VTtAw5cns+kXvpeX","Manager_Base");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("GameScene"),u=o("Utils"),h=o("ConfigManager"),l=o("DataManager"),d=o("PoolMgr"),p=o("Base_Qishou"),f=o("Base_Shouyin"),_=o("Base_Dianzhang"),m=o("Base_Chushi"),g=o("Model_Baozhuang"),y=o("GameManager"),I=o("BaseTianshi");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(v,s),v.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.checkForShopTemp(),this.pos_chuchuang=this.GetGameObject("pos_chuchuang").position,this.pos_left=this.GetGameObject("pos_left")?this.GetGameObject("pos_left").position:cc.Vec2.ZERO,this.pos_right=this.GetGameObject("pos_right")?this.GetGameObject("pos_right").position:cc.Vec2.ZERO,this.GetGameObject("canzhuo1_"+this.shopID).zIndex=667-this.GetGameObject("canzhuo1_"+this.shopID).y,this.GetGameObject("canzhuo2_"+this.shopID).zIndex=667-this.GetGameObject("canzhuo2_"+this.shopID).y,this.GetGameObject("img_pai_"+this.shopID).zIndex=667-this.GetGameObject("img_pai_"+this.shopID).y,r.default.Instance().updateShopDiban(this.shopID),this.initSeats(),this.updateShop(),this.rigester("GAME_UNLOCK_SHOP",function(e){e&&e.ShopID==t.shopID&&t.updateShop()}),this.rigester("dianzhanglv_sj",function(e){e&&e.shopID==t.shopID&&t.updateShopDianzhang()}),this.rigester("GAME_BUSY_START",function(e){t.initShopDay()}),this.rigester("GAME_BUSY_CLOSE",function(e){t.workOver()}),this.rigester("GAME_CHUSHI_UNLOCK",function(e){e&&e.ShopID==t.shopID&&t.updateShopChushi()}),[2]})})},v.prototype.update=function(t){},v.prototype.updateFrame=function(t){0<this.GetGameObject("pos_dianzhang").childrenCount&&this.GetGameObject("base_dianzhang").getComponent(_.default).updateFrame(t),1<this.GetGameObject("pos_shouyin").childrenCount&&this.GetGameObject("base_shouyin").getComponent(f.default).updateFrame(t);for(var e=0;e<3;++e)0<this.GetGameObject("pos_chushi_"+e).childrenCount&&this.GetGameObject("pos_chushi_"+e).getChildByName("base_chushi").getComponent(m.default).updateFrame(t);if(this.qs_list&&0<this.qs_list.length)for(var n=0;n<this.qs_list.length;++n)this.qs_list[n].getComponent(p.default).updateFrame(t)},v.prototype.checkForShopTemp=function(){l.default.Instance().shop_day_temp[this.shopID]&&(this.cook_num=l.default.Instance().shop_day_temp[this.shopID].cook_num,this.db_num=l.default.Instance().shop_day_temp[this.shopID].db_num,this.jd_num=l.default.Instance().shop_day_temp[this.shopID].jd_num,this.ps_num=l.default.Instance().shop_day_temp[this.shopID].ps_num,this.day_income=l.default.Instance().shop_day_temp[this.shopID].day_income)},v.prototype.updateShop=function(){this.updateShopDianzhang(),this.updateShopShouyinyuan(),this.updateShopChushi()},v.prototype.updateShopDianzhang=function(){var t=this;0<l.default.Instance().getShopDZLVByID(this.shopID)&&(this.GetGameObject("pos_dianzhang").getChildByName("base_dianzhang")||u.default.createUI("prefab/base_dianzhang",this.GetGameObject("pos_dianzhang"),function(e){e.getComponent(_.default).setConfig(t.shopID)}))},v.prototype.updateShopShouyinyuan=function(){var t=this;0<l.default.Instance().getShopSYYLVByID(this.shopID)&&(this.GetGameObject("pos_shouyin").getChildByName("base_shouyin")||u.default.createUI("prefab/base_shouyin",this.GetGameObject("pos_shouyin"),function(e){e.getComponent(f.default).setConfig(t.shopID)}))},v.prototype.updateShopChushi=function(){for(var t=this,e=this,n=1;n<=3;++n)!function(n){0<l.default.Instance().getShopCSLVByID(e.shopID,n)&&(e.GetGameObject("pos_chushi_"+(n-1)).getChildByName("base_chushi")||u.default.createUI("prefab/base_chushi",e.GetGameObject("pos_chushi_"+(n-1)),function(e){e.getComponent(m.default).setConfig(t.shopID,n)}))}(n)},v.prototype.createDingdan=function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=-1);var i=l.default.Instance().getRandomFoodByShopID(this.shopID),o=l.default.Instance().getRandomDistanceByShopID(this.shopID),a={id:this.dd_index++,foodID:t||i,distance:o,state:h.FoodState.\u63a5\u5355\u4e2d,price:0,foodprice:0,dbprice:0,psprice:0,qs:u.default.getRandomInt(1,4),group:e};this.dd_list.push(a),1e3<u.default.getServerTime()-this.last_create_qishou?(this.creteQishou(a),this.last_create_qishou=u.default.getServerTime()):(e=1-(u.default.getServerTime()-this.last_create_qishou)/1e3/l.GAME_CONFIG.game_speed_base,this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){return y.default.Instance().ShopState==h.ShopState.\u51cc\u6668\u505c\u4e1a?(n.node.stopAllActions(),void(n.last_create_qishou=0)):void n.creteQishou(a)}))),this.last_create_qishou=this.last_create_qishou+1e3)},v.prototype.checkForLunpan=function(){var t=u.default.getRandom(0,1);console.log("\u5e97\u94fa"+this.shopID+"\u8f6e\u76d8\uff1a\u51e0\u7387/\u5f53\u524d\u51e0\u7387",t,this.zhuanpan_random),t<this.zhuanpan_random&&(this.zhuanpan_count++,this.zhuanpan_random=0,this.showBtnLunpan(!0))},v.prototype.showBtnLunpan=function(t){this.zhuanpan_show=t,this.GetGameObject("btn_zhuanpan_"+this.shopID).active=t,this.zhuanpan_show&&(this.GetGameObject("btn_zhuanpan_"+this.shopID).zIndex=667-this.GetGameObject("btn_zhuanpan_"+this.shopID).y+10,this.GetSkeleton("waimaixiang_"+this.shopID).setAnimation(0,"diaoluo",!1),this.GetSkeleton("waimaixiang_"+this.shopID).addAnimation(0,"idle",!0))},v.prototype.creteQishou=function(t){function e(){var e=d.default.Instance().get(["base_qishou","base_qishou1","base_qishou2"][t.qs-1]);e.parent=n.node,e.name="shop"+n.shopID+"_qishou_"+t.id,e.getComponent(p.default).setConfig(n.shopID,t),n.qs_list||(n.qs_list=[]),n.qs_list.push(e)}var n=this;-1!=t.group?this._lastGroupID!=t.group&&(e(),this._lastGroupID=t.group):(this._lastGroupID=-1,e())},v.prototype.delQishou=function(t){for(var e=0;e<this.qs_list.length;++e)if(this.qs_list[e].name==t){this.qs_list.splice(e,1);break}},v.prototype.getCookDingdan=function(){if(this.dd_list.length<1)return null;for(var t=0;t<this.dd_list.length;++t)if(this.dd_list[t].state==h.FoodState.\u672a\u5904\u7406)return this.dd_list[t].state=h.FoodState.\u70f9\u996a\u4e2d,this.dd_list[t]},v.prototype.getDBDingdan=function(){if(this.dd_list.length<1)return null;for(var t=null,e=0;e<this.dd_list.length;++e)this.dd_list[e].state==h.FoodState.\u70f9\u996a\u5b8c\u6210&&(this.dd_list[e].state=h.FoodState.\u6253\u5305\u4e2d,t=this.dd_list[e]);return t},v.prototype.delDingdan=function(t){for(var e=0;e<this.dd_list.length;++e)if(this.dd_list[e].id==t){var n=this.dd_list[e];return l.default.Instance().sellfood[n.foodID]||(l.default.Instance().sellfood[n.foodID]=0),l.default.Instance().sellfood[n.foodID]++,this.dd_list.splice(e,1),!0}return!1},v.prototype.createDDBaozhuang=function(t,e){var n=cc.instantiate(t.group<0?y.default.Instance().model_baozhuang:y.default.Instance().model_baozhuang_tuanti);n.parent=this.GetGameObject("layout_baozhuang_"+this.shopID),n.getComponent(g.default).setConfig(this.shopID,t),e&&e()},v.prototype.takeDDBaozhuang=function(t,e){for(var n=this.GetGameObject("layout_baozhuang_"+this.shopID).children,i=0;i<n.length;++i)if(n[i]&&n[i].getComponent(g.default).ddid==e){n[i].parent=t;break}},v.prototype.getQishouByID=function(t,e){return(e=this.node.getChildByName("shop"+t+"_qishou_"+e))?e.getComponent(p.default):null},v.prototype.checkForDDOver=function(){for(var t=!0,e=0;e<this.dd_list.length;++e)if(this.dd_list[e].state>=h.FoodState.\u5916\u9001\u4e2d&&this.dd_list[e].state<h.FoodState.\u5df2\u7ed3\u675f){t=!1;break}return t&&this.dispatch("UI_BTNWAIMAIYUAN_SHOW",{ShopID:this.shopID,show:!1}),t},v.prototype.getComeRoadPath=function(t){var e=[];return 1==t||2==t?(e.push(this.GetGameObject("pos_malu_start_di").position),e.push(this.GetGameObject("pos_malu_arrive_di").position)):3==t||4==t?(e.push(this.GetGameObject("pos_malu_start_zhong").position),e.push(this.GetGameObject("pos_malu_arrive_zhong").position)):5==t||6==t?(e.push(this.GetGameObject("pos_malu_start_kuai").position),e.push(this.GetGameObject("pos_malu_arrive_kuai").position)):(e.push(this.GetGameObject("pos_malu_start_zou").position),e.push(this.GetGameObject("pos_malu_arrive_zou").position)),e},v.prototype.getJindianRoadPath=function(t){var e=[];return 1==t||2==t?e.push(this.GetGameObject("pos_malu_arrive_di").position):3==t||4==t?e.push(this.GetGameObject("pos_malu_arrive_zhong").position):5==t||6==t?e.push(this.GetGameObject("pos_malu_arrive_kuai").position):e.push(this.GetGameObject("pos_malu_arrive_zou").position),e.push(this.GetGameObject("pos_zhong").position),e.push(this.GetGameObject("pos_waimai").position),e},v.prototype.getWaitingRoadPath=function(t){var e=[];return 1==t||2==t?e.push(this.GetGameObject("pos_malu_arrive_di").position):3==t||4==t?e.push(this.GetGameObject("pos_malu_arrive_zhong").position):5==t||6==t?e.push(this.GetGameObject("pos_malu_arrive_kuai").position):e.push(this.GetGameObject("pos_malu_arrive_zou").position),e.push(this.GetGameObject("pos_zhong").position),e.push(this.GetGameObject("pos_waiting").position),e},v.prototype.getTakingRoadPath=function(t){var e=[];return e.push(this.GetGameObject("pos_waiting").position),e.push(this.GetGameObject("pos_waimaizhong").position),e.push(this.GetGameObject("pos_waimai").position),e},v.prototype.getChudianRoadPath=function(t){var e=[];return e.push(this.GetGameObject("pos_waimai").position),e.push(this.GetGameObject("pos_likai").position),e.push(this.GetGameObject("pos_zhong").position),1==t||2==t?e.push(this.GetGameObject("pos_malu_arrive_di").position):3==t||4==t?e.push(this.GetGameObject("pos_malu_arrive_zhong").position):5==t||6==t?e.push(this.GetGameObject("pos_malu_arrive_kuai").position):e.push(this.GetGameObject("pos_malu_arrive_zou").position),e},v.prototype.getPSRoadPath=function(t){var e=[];return 1==t||2==t?(e.push(this.GetGameObject("pos_malu_arrive_di").position),e.push(this.GetGameObject("pos_malu_leave_di").position),e.push(this.GetGameObject("pos_malu_start_back_di").position)):3==t||4==t?(e.push(this.GetGameObject("pos_malu_arrive_zhong").position),e.push(this.GetGameObject("pos_malu_leave_zhong").position),e.push(this.GetGameObject("pos_malu_start_back_zhong").position)):5==t||6==t?(e.push(this.GetGameObject("pos_malu_arrive_kuai").position),e.push(this.GetGameObject("pos_malu_leave_kuai").position),e.push(this.GetGameObject("pos_malu_start_back_zhong").position)):(e.push(this.GetGameObject("pos_malu_arrive_zou").position),e.push(this.GetGameObject("pos_malu_leave_zou").position)),e},v.prototype.getJiezhangRoadPath=function(t){var e=[];return 1==t||2==t?(e.push(this.GetGameObject("pos_malu_start_back_di").position),e.push(this.GetGameObject("pos_malu_arrive_back_di").position)):3==t||4==t?(e.push(this.GetGameObject("pos_malu_start_back_zhong").position),e.push(this.GetGameObject("pos_malu_arrive_back_zhong").position)):5==t||6==t?(e.push(this.GetGameObject("pos_malu_start_back_kuai").position),e.push(this.GetGameObject("pos_malu_arrive_back_kuai").position)):(e.push(this.GetGameObject("pos_malu_leave_zou").position),e.push(this.GetGameObject("pos_malu_arrive_zou").position)),e.push(this.GetGameObject("pos_zhong").position),e.push(this.GetGameObject("pos_jiezhang").position),e},v.prototype.getLeaveRoadPath=function(t){var e=[];return e.push(this.GetGameObject("pos_jiezhang").position),e.push(this.GetGameObject("pos_likai").position),e.push(this.GetGameObject("pos_zhong").position),1==t||2==t?(e.push(this.GetGameObject("pos_malu_arrive_back_di").position),e.push(this.GetGameObject("pos_malu_leave_back_di").position)):3==t||4==t?(e.push(this.GetGameObject("pos_malu_arrive_back_zhong").position),e.push(this.GetGameObject("pos_malu_leave_back_zhong").position)):5==t||6==t?(e.push(this.GetGameObject("pos_malu_arrive_back_kuai").position),e.push(this.GetGameObject("pos_malu_leave_back_kuai").position)):(e.push(this.GetGameObject("pos_malu_arrive_zou").position),e.push(this.GetGameObject("pos_malu_start_zou").position)),e},v.prototype.checkForPosJindian=function(t){return t.x==this.GetGameObject("pos_waimai").x&&t.y==this.GetGameObject("pos_waimai").y||t.x==this.GetGameObject("pos_waiting").x&&t.y==this.GetGameObject("pos_waiting").y||t.x==this.GetGameObject("pos_jiezhang").x&&t.y==this.GetGameObject("pos_jiezhang").y||t.x==this.GetGameObject("pos_zhong").x&&t.y==this.GetGameObject("pos_zhong").y||t.x==this.GetGameObject("pos_likai").x&&t.y==this.GetGameObject("pos_likai").y||t.x==this.GetGameObject("pos_tianshi").x&&t.y==this.GetGameObject("pos_tianshi").y},v.prototype.getShopSeatPOSByIndex=function(t){return this.GetGameObject("pos_yizi"+(t=3<(t=t<1?1:t)?3:t)).position},v.prototype.getEmptySeatIndex=function(){var t=0;if(!l.default.Instance().checkForJiajuUnlock([200003,201003,0,0,204003,205003,206003,0,208003,0][this.shopID]))return t;for(var e=0;e<this.seatState.length;++e)if(0==this.seatState[e]){t=e+(this.seatState[e]=1);break}return t},v.prototype.leavSeat=function(t){t<=this.seatState.length&&(this.seatState[t-1]=0)},v.prototype.getRadomWaitingPos=function(){var t=this.GetGameObject("pos_waiting").width/2,e=this.GetGameObject("pos_waiting").height/2,n=u.default.getRandomInt(-t,t);t=u.default.getRandomInt(-e,e),e=this.GetGameObject("pos_waiting").position;return new cc.Vec2(e.x+n,e.y+t)},v.prototype.initSeats=function(){for(var t=1;t<10&&this.GetGameObject("pos_yizi"+t);++t)this.seatState.push(0)},v.prototype.workOver=function(){for(var t=0;t<this.dd_list.length;++t)this.dd_list[t].state>=h.FoodState.\u51fa\u95e8\u4e2d&&this.dd_list[t].state<h.FoodState.\u5df2\u7ed3\u675f&&(l.default.Instance().changeGameCoin(this.dd_list[t].price),l.default.Instance().addShopCoin(this.shopID,this.dd_list[t].price),this.day_income+=this.dd_list[t].price);this.dd_list=[],this.zhuanpan_show&&this.showBtnLunpan(!1)},v.prototype.getOverRoadPath=function(t,e){void 0===e&&(e=!1);var n=[];return n.push(this.GetGameObject("pos_zhong").position),1==t||2==t?e?(n.push(this.GetGameObject("pos_malu_arrive_di").position),n.push(this.GetGameObject("pos_malu_leave_di").position)):(n.push(this.GetGameObject("pos_malu_arrive_back_di").position),n.push(this.GetGameObject("pos_malu_leave_back_di").position)):3==t||4==t?e?(n.push(this.GetGameObject("pos_malu_arrive_zhong").position),n.push(this.GetGameObject("pos_malu_leave_zhong").position)):(n.push(this.GetGameObject("pos_malu_arrive_back_zhong").position),n.push(this.GetGameObject("pos_malu_leave_back_zhong").position)):5==t||6==t?e?(n.push(this.GetGameObject("pos_malu_arrive_kuai").position),n.push(this.GetGameObject("pos_malu_leave_kuai").position)):(n.push(this.GetGameObject("pos_malu_arrive_back_kuai").position),n.push(this.GetGameObject("pos_malu_leave_back_kuai").position)):(n.push(this.GetGameObject("pos_malu_arrive_zou").position),e?n.push(this.GetGameObject("pos_malu_leave_zou").position):n.push(this.GetGameObject("pos_malu_start_zou").position)),n},v.prototype.initShopDay=function(){this.cook_num=0,this.db_num=0,this.jd_num=0,this.ps_num=0,this.day_income=0,this.zhuanpan_count=0},v.prototype.creteTianshi=function(){var t=this;u.default.createUI("prefab/baseTianshi",this.node).then(function(e){e.getComponent(I.default).setConfig(t.shopID)})},v.prototype.getTianshiComeRoadPath=function(){var t=[];return t.push(this.GetGameObject("pos_malu_start_kuai").position),t.push(this.GetGameObject("pos_malu_arrive_kuai").position),t.push(this.GetGameObject("pos_tianshi").position),t},v.prototype.getTianshiLeaveRoadPath=function(){var t=[];return t.push(this.GetGameObject("pos_tianshi").position),t.push(this.GetGameObject("pos_malu_arrive_back_kuai").position),t.push(this.GetGameObject("pos_malu_leave_back_kuai").position),t},v.prototype.checkForTianshi=function(){return!this.GetGameObject("baseTianshi")},o=__decorate([o],v);function v(){var t=null!==s&&s.apply(this,arguments)||this;return t.pos_chuchuang=cc.Vec2.ZERO,t.pos_left=cc.Vec2.ZERO,t.pos_right=cc.Vec2.ZERO,t.shopID=h.ShopID.\u9762\u9986,t.dd_index=0,t.dd_max=10,t.dd_list=[],t.seatState=[],t.cook_num=0,t.db_num=0,t.jd_num=0,t.ps_num=0,t.day_income=0,t.qs_list=null,t.zhuanpan_random=0,t.zhuanpan_show=!1,t.zhuanpan_count=0,t.last_create_qishou=0,t._lastGroupID=-1,t}a.default=o,cc._RF.pop()},{}],Manager_Chaofanguan:[function(t,e,n){"use strict";cc._RF.push(e,"5d6abTRc8pNlouzWwxljcWc","Manager_Chaofanguan");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u7092\u996d\u9986,c._instance=this},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Hanbaodian:[function(t,e,n){"use strict";cc._RF.push(e,"7f318EkbqZLUbfrd1klEbZA","Manager_Hanbaodian");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u6c49\u5821\u5e97,c._instance=this},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Huoguodian:[function(t,e,n){"use strict";cc._RF.push(e,"6343faZONFGYrx9BHf+y+Ja","Manager_Huoguodian");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u706b\u9505\u5e97,c._instance=this},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Mianguan:[function(t,e,n){"use strict";cc._RF.push(e,"867cedLRWhP5a3BAxrhbbXd","Manager_Mianguan");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u9762\u9986,c._instance=this},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Miqilin:[function(t,e,n){"use strict";cc._RF.push(e,"610acm/C1NFuKAJbd9AyEs3","Manager_Miqilin");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u7c73\u5176\u6797,(c._instance=this).GetGameObject("mql_weilan").zIndex=667-this.GetGameObject("mql_weilan").y},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Naichadian:[function(t,e,n){"use strict";cc._RF.push(e,"31b8dzRrENGXKpA04L5P+82","Manager_Naichadian");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u5976\u8336\u5e97,(c._instance=this).GetGameObject("nc_weilan").zIndex=667-this.GetGameObject("nc_weilan").y},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Niupaidian:[function(t,e,n){"use strict";cc._RF.push(e,"accf7rCFhVCa4yhcO9CBKNu","Manager_Niupaidian");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u725b\u6392\u5e97,c._instance=this},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Riliaoguan:[function(t,e,n){"use strict";cc._RF.push(e,"a6338UxAqxKH5Qehv/2fIfT","Manager_Riliaoguan");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u65e5\u6599\u9986,(c._instance=this).GetGameObject("rl_banzi").zIndex=667-this.GetGameObject("rl_banzi").y,this.GetGameObject("rl_weilan").zIndex=667-this.GetGameObject("rl_weilan").y},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Xicanguan:[function(t,e,n){"use strict";cc._RF.push(e,"590e6bRAkFAfLH0ke4DYqjs","Manager_Xicanguan");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u897f\u9910\u9986,(c._instance=this).GetGameObject("pos_dianzhang").zIndex=667-(this.GetGameObject("canzhuo1_8").y-1),this.GetGameObject("xc_weilan").zIndex=667-this.GetGameObject("xc_weilan").y,this.GetGameObject("xc_qiang").zIndex=667-this.GetGameObject("xc_qiang").y},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Manager_Zhongcanguan:[function(t,e,n){"use strict";cc._RF.push(e,"2cab1uFgOxDFYcGUMKvRSpB","Manager_Zhongcanguan");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("ConfigManager"),u=o("Manager_Base");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(h,s),(c=h).prototype.onLoad=function(){s.prototype.onLoad.call(this),this.shopID=r.ShopID.\u4e2d\u9910\u9986,c._instance=this},h.Instance=function(){return c._instance},h._instance=null,o=c=__decorate([o],h);function h(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],MenuCell:[function(t,e,n){"use strict";cc._RF.push(e,"96fcb6bJqRHWoDoIdMBhSzL","MenuCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("DataManager"),r=o("BaseUI"),u=o("AudioMgr"),h=o("ConfigManager"),l=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=r.default,__extends(d,s),d.prototype.start=function(){var t=this;this.rigester("UNLOCK_FOOD",function(){t.setData(t.shop_id,t.id)})},d.prototype.setData=function(t,e){var n=this;this.shop_id=t,this.id=e,this.food=h.default.Instance().getFoodDataByID(e),this.SetText("lbl_name",this.food.name),e=Math.ceil(this.food.price*c.default.Instance().getShopJiajuBuff(this.shop_id)),this.SetText("lbl_price","\u552e\u4ef7\uff1a"+e),cc.loader.loadRes("foods/"+this.food.icon,cc.SpriteFrame,function(t,e){t?console.log("\u6ca1\u6709\u627e\u5230food_icon:",n.food.icon):n.GetSprite("spr_icon").spriteFrame=e}),c.default.Instance().checkForFoodUnlock(this.food.id)?(this.GetGameObject("text_xxxdp").active=!1,this.GetGameObject("node_unlock").active=!1,this.GetGameObject("node_condition").active=!1,this.GetGameObject("node_learning").active=!0):(this.GetGameObject("node_learning").active=!1,c.default.Instance().getShopLVByID(this.shop_id)>=this.food.limit?(this.GetGameObject("text_xxxdp").active=!1,this.GetGameObject("node_unlock").active=!0,this.GetGameObject("node_condition").active=!1,this.GetGameObject("img_reddot").active=c.default.Instance().coin>=this.food.unlock,this.SetText("lbl_need_coin",l.default.formatCoin(this.food.unlock)),this.GetGameObject("lbl_need_coin").color=c.default.Instance().coin>=this.food.unlock?cc.Color.WHITE:cc.Color.RED):(this.GetGameObject("node_unlock").active=!1,this.GetGameObject("node_condition").active=!0,this.SetText("lbl_need_lv",this.food.limit+""),this.GetGameObject("text_xxxdp").active=!0))},d.prototype.onBtnClicked=function(t,e){"node_unlock"===(s.prototype.onBtnClicked.call(this,t,e),u.default.Instance().playSFX(c.GAME_CONFIG.music_click),t.target.name)&&c.default.Instance().unlockFood(this.food.id)&&this.setData(this.shop_id,this.id)},o=__decorate([o],d);function d(){var t=null!==s&&s.apply(this,arguments)||this;return t.id=null,t.shop_id=null,t.food=null,t}a.default=o,cc._RF.pop()},{}],MgrCell:[function(t,e,n){"use strict";cc._RF.push(e,"abf5e/wX45Ex7FjQUHpb72v","MgrCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("UIManager"),h=o("AudioMgr"),l=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(d,s),d.prototype.setMgrData=function(t){var e=this;this.info=t,this.GetGameObject("text_sxdz").active=1==t.lv,this.GetGameObject("text_cjdz").active=2==t.lv,this.GetGameObject("text_zjdz").active=3==t.lv,this.GetGameObject("text_gjdz").active=4==t.lv,this.GetGameObject("text_zsdz").active=5==t.lv,this.SetText("lbl_desc",t.desc),this.SetText("lbl_effect","\u6bcf"+t.ddtime+"\u79d2\u63a5\u53d7\u4e00\u4efd\u8ba2\u5355"),this.SetText("lbl_price",l.default.formatCoin(t.cost)),this.GetGameObject("lbl_price").color=r.default.Instance().coin>=t.cost?cc.Color.WHITE:cc.Color.RED;var n=r.default.Instance().unlock_shop[u.default.Instance().shopID];this.GetGameObject("btn_yellow").active=n.dianzhanglv+1==t.lv&&r.default.Instance().unlock_shop[this.info.shop].lv>=this.info.limit,this.SetText("lbl_shop_limit",""+t.limit),this.GetGameObject("text_xxxdp").active=r.default.Instance().unlock_shop[this.info.shop].lv<this.info.limit,this.GetGameObject("text_yixuexi").active=t.lv<=n.dianzhanglv,this.GetGameObject("img_reddot").active=this.info.shop<r.default.Instance().unlock_shop.length&&r.default.Instance().unlock_shop[this.info.shop].lv>=this.info.limit&&r.default.Instance().coin>=this.info.cost,l.default.loadRes("spine/staff/"+t.res,sp.SkeletonData).then(function(t){e.GetSkeleton("qishou").skeletonData=t,e.GetSkeleton("qishou").setAnimation(0,"idle",!0)})},d.prototype.start=function(){var t=this;this.rigester("dianzhanglv_sj",function(){t.setMgrData(t.info)})},d.prototype.onBtnClicked=function(t,e){"btn_yellow"===(s.prototype.onBtnClicked.call(this,t,e),h.default.Instance().playSFX(r.GAME_CONFIG.music_click),t.target.name)&&r.default.Instance().upShopDZLV(u.default.Instance().shopID)},o=__decorate([o],d);function d(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],Model_Baozhuang:[function(t,e,n){"use strict";cc._RF.push(e,"d35a2QtQgFOLpbEAwX8PmmV","Model_Baozhuang");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(u,s),u.prototype.start=function(){},u.prototype.setConfig=function(t,e){this.shopID=t,this.ddid=e.id,this.curDingdan=e,e=r.default.Instance().getShopSYYLVByID(this.shopID),this.curDingdan.group<0&&this.SetSprite("baozhuang","texture/furniture/baozhuang_"+e)},o=__decorate([o],u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.shopID=0,t.ddid=0,t.curDingdan=null,t}a.default=o,cc._RF.pop()},{}],Model_Shop:[function(t,e,n){"use strict";cc._RF.push(e,"5f467t132BCvIMecUjmyjUO","Model_Shop");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("BaseUI"),r=i("ConfigManager"),u=i("DataManager"),h=i("AudioMgr"),l=i("UIManager"),d=i("Utils"),p=i("MsgHints");i=(o=cc._decorator).ccclass,o=o.property,s=c.default,__extends(f,s),f.prototype.start=function(){this.initBox()},f.prototype.initBox=function(){this.GetGameObject("bg_liang").active=this.shopID<u.default.Instance().unlock_shop.length,this.GetGameObject("bg_an").active=this.shopID>=u.default.Instance().unlock_shop.length,this.GetGameObject("img_lock").active=this.shopID>=u.default.Instance().unlock_shop.length,this.GetGameObject("bg_info").active=this.shopID<u.default.Instance().unlock_shop.length,this.GetButton("icon").interactable=this.shopID<u.default.Instance().unlock_shop.length;var t=r.default.Instance().getShopDataByIDLV(this.shopID,0);if(this.SetText("lbl_shop_name",t.name),this.GetGameObject("bg_info").active){var e=u.default.Instance().getShopLVByID(this.shopID);r.default.Instance().getShopDataByIDLV(this.shopID,e),this.SetText("lbl_coin",d.default.formatCoin(u.default.Instance().unlock_shop[this.shopID].income));for(var n=1;n<=e;++n)this.GetGameObject("img_star_"+n).active=!0}this.GetGameObject("text_hbd").active=this.shopID==r.ShopID.\u6c49\u5821\u5e97,this.GetGameObject("text_cfg").active=this.shopID==r.ShopID.\u7092\u996d\u9986,this.GetGameObject("text_hgd").active=this.shopID==r.ShopID.\u706b\u9505\u5e97,this.GetGameObject("text_mql").active=this.shopID==r.ShopID.\u7c73\u5176\u6797,this.GetGameObject("text_ncd").active=this.shopID==r.ShopID.\u5976\u8336\u5e97,this.GetGameObject("text_npd").active=this.shopID==r.ShopID.\u725b\u6392\u5e97,this.GetGameObject("text_xcg").active=this.shopID==r.ShopID.\u897f\u9910\u9986,this.GetGameObject("text_rlg").active=this.shopID==r.ShopID.\u65e5\u6599\u9986,this.GetGameObject("text_zcg").active=this.shopID==r.ShopID.\u4e2d\u9910\u9986,this.GetGameObject("text_zcg").active=this.shopID==r.ShopID.\u4e2d\u9910\u9986,this.GetGameObject("text_mg").active=this.shopID==r.ShopID.\u9762\u9986,t=r.default.Instance().getShopUnlockDataByShopID(this.shopID),this.GetGameObject("img_reddot").active=this.shopID>=u.default.Instance().unlock_shop.length&&u.default.Instance().unlock_shop[t.limitshop]&&t.limitshoplv<=u.default.Instance().unlock_shop[t.limitshop].lv&&u.default.Instance().coin>=t.cost,this.SetSprite("icon","texture/UI/shop/dianpu_"+(this.shopID+1))},f.prototype.onBtnClicked=function(t,e){t=t.target.name,"btn_go"===(h.default.Instance().playSFX(u.GAME_CONFIG.music_click),t)&&this.shopID!=l.default.Instance().shopID&&(this.shopID>u.default.Instance().unlock_shop.length?p.default.show("\u524d\u7f6e\u5e97\u94fa\u672a\u89e3\u9501\u65e0\u6cd5\u67e5\u770b"):(l.default.Instance().shopID=this.shopID,l.default.Instance().turnToShop(),this.dispatch("close_shop_layer")))},__decorate([o],f.prototype,"shopID",void 0),i=__decorate([i],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.shopID=0,t}a.default=i,cc._RF.pop()},{}],MsgBox:[function(t,e,n){"use strict";cc._RF.push(e,"48bfcsIztdDFa7xVRVrjx0i","MsgBox");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("Utils"),u=o("BaseUI"),h=o("AudioMgr"),l=o("DataManager");o=(i=cc._decorator).ccclass,i.property,s=u.default,__extends(d,s),(c=d).init=function(){null==c._instance&&cc.director.getScene().getChildByName("Canvas").addComponent("MsgBox")},d.findMsgBoxByName=function(t){return cc.director.getScene().getChildByName("Canvas").getChildByName(t)},d.showOnly=function(t,e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=3),c.findMsgBoxByName(t=void 0===t?"":t)||c.show(t,e,n,i,o,null,!1,t)},d.show=function(t,e,n,i,o,a,s,u){var h,l,d,p,f;void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=3),void 0===a&&(a=null),void 0===s&&(s=!1),void 0===u&&(u=""),null==c._instance&&cc.director.getScene().getChildByName("Canvas").addComponent("MsgBox"),null==a&&(a="prefab/common/alertWnd"),null!=cc.loader.getRes(a)?(h=cc.instantiate(cc.loader.getRes(a)),u&&(h.name=u),h.parent=cc.find("Canvas/UI/UI"),cc.find("main/bg/bg_set_bg/tips",h).getComponent(cc.Label).string=t,l=cc.find("btns/btn_ok1",h),d=cc.find("btns/btn_ok2",h),p=cc.find("btns/btn_cancel",h),f=cc.find("main/btn_close",h),l.active=!1,d.active=!1,p.active=!1,f&&(f.active=!1),l.callback=e,d.callback=e,p.callback=e,n?(d.active=!0,p.active=!0):l.active=!0,f&&(f.active=s),r.default.addClickEvent(l,c._instance.node,"MsgBox","onBtnClicked",l),r.default.addClickEvent(d,c._instance.node,"MsgBox","onBtnClicked",d),r.default.addClickEvent(p,c._instance.node,"MsgBox","onBtnClicked",p),f&&r.default.addClickEvent(f,c._instance.node,"MsgBox","onBtnClicked",f),i&&h.runAction(cc.sequence(cc.delayTime(o||2),cc.callFunc(function(){cc.isValid(h)&&(e&&e(c.Status.OK),h.destroy())})))):cc.loader.loadRes(a,function(r,h){c.show(t,e,n,i,o,a,s,u)})},d.prototype.onLoad=function(){c._instance=this,cc.loader.loadRes("prefab/common/alertWnd")},d.prototype.onDestroy=function(){c._instance=null},d.prototype.onBtnClicked=function(t,e){h.default.Instance().playSFX(l.GAME_CONFIG.music_click),e.callback&&("btn_ok1"==t.target.name||"btn_ok2"==t.target.name?e.callback(c.Status.OK):e.callback(c.Status.CANCLE)),cc.isValid(e)&&(e.parent.parent.stopAllActions(),e.parent.parent.destroy())},d.Status=cc.Enum({OK:0,CANCLE:1}),d._instance=null,o=c=__decorate([o],d);function d(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],MsgHints:[function(t,e,n){"use strict";cc._RF.push(e,"922a144cLRCbrDv5hv5JyP8","MsgHints");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=o("PoolMgr");o=(i=cc._decorator).ccclass,i.property,s=cc.Component,__extends(u,s),(c=u).show=function(t){var e;""!=t&&(null!=c._prefab?0!=r.default.Instance().pools[r.PoolType.MSGHINTS].size()&&((e=r.default.Instance().get(r.PoolType.MSGHINTS)).scaleY=0,e.parent=cc.find("Canvas/UI/UI"),e.getChildByName("label").getComponent(cc.Label).string=t,e.getComponent(cc.Animation).play("msghints",0),e.getComponent(cc.Animation).on("finished",function(){r.default.Instance().put(r.PoolType.MSGHINTS,e)})):cc.loader.loadRes("prefab/common/msg_hints",function(e,n){e||(c._prefab=n,r.default.Instance().initPool(r.PoolType.MSGHINTS,c._prefab,20),c.show(t))}))},u._prefab=null,o=c=__decorate([o],u);function u(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],NumberRoll:[function(t,e,n){"use strict";cc._RF.push(e,"7afd2vdphtCjKWi+cfBvmoW","NumberRoll");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(r,s),r.prototype.start=function(){this.label=this.node.getComponent(cc.Label)},Object.defineProperty(r.prototype,"vaule",{set:function(t){this._target=t,this._offset=Math.floor((this._target-this._cur)/Math.min(30,Math.abs(this._target-this._cur)))},enumerable:!0,configurable:!0}),r.prototype.update=function(t){1/t<cc.game.getFrameRate()/2?this.label.string=this._target+"":(this._cur!=this._target&&(this._cur+=this._offset,0<this._offset&&this._cur>this._target&&(this._cur=this._target),this._offset<0&&this._cur<this._target&&(this._cur=this._target)),this.label.string=this._cur+"")},o=__decorate([o],r);function r(){var t=null!==s&&s.apply(this,arguments)||this;return t._cur=0,t._target=0,t._offset=0,t}a.default=o,cc._RF.pop()},{}],OrderCell:[function(t,e,n){"use strict";cc._RF.push(e,"2df3dT5W0VE16uaOlcc40y7","OrderCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("DataManager"),r=o("BaseUI"),u=o("ConfigManager"),h=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=r.default,__extends(l,s),l.prototype.setData=function(t,e){var n=this;this.shop_id=t;var i=u.default.Instance().getFoodDataByID(e.foodID);cc.loader.loadRes("foods/"+i.icon,cc.SpriteFrame,function(t,e){t?console.log("\u6ca1\u6709\u627e\u5230food_icon:",i.icon):cc.isValid(n.node)&&(n.GetSprite("spr_icon").spriteFrame=e)}),this.GetGameObject("img_tuan").active=-1!=e.group;var o=c.default.Instance().getFoodDBPrice(this.shop_id,e.foodID);t=c.default.Instance().getFoodPSPrice(e.foodID,e.distance);this.SetText("lbl_order_name",i.name),this.SetText("lbl_dc_cost",h.default.formatCoin(o)),this.SetText("lbl_ps_cost",h.default.formatCoin(t)),1e3<=e.distance?this.SetText("lbl_distance",(e.distance/1e3).toFixed(1)+"km"):this.SetText("lbl_distance",e.distance+"m")},o=__decorate([o],l);function l(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],PackageCell:[function(t,e,n){"use strict";cc._RF.push(e,"a1185Dbn8FDkqnUfP8DZ8ge","PackageCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("UIManager"),h=o("AudioMgr"),l=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(d,s),d.prototype.setPackageData=function(t){var e=this;this.info=t,this.GetGameObject("pac_1").active=1==t.lv||2==t.lv,this.GetGameObject("pac_2").active=3==t.lv||4==t.lv,this.GetGameObject("pac_3").active=5==t.lv||6==t.lv,this.GetGameObject("pac_4").active=7==t.lv||8==t.lv,this.GetGameObject("pac_5").active=9==t.lv||10==t.lv,this.SetText("lbl_price",l.default.formatCoin(t.cost)),this.SetText("lbl_time",t.dbtime+"\u79d2"),this.SetText("lbl_cost",l.default.formatCoin(t.dbcost)),this.GetGameObject("lbl_price").color=r.default.Instance().coin>=t.cost?cc.Color.WHITE:cc.Color.RED;var n=r.default.Instance().unlock_shop[u.default.Instance().shopID];this.GetGameObject("btn_yellow").active=n.shouyinyuanlv+1==t.lv&&r.default.Instance().unlock_shop[this.info.shop].lv>=this.info.limit,this.SetText("lbl_shop_limit",""+t.limit),this.GetGameObject("text_xxxdp").active=r.default.Instance().unlock_shop[this.info.shop].lv<this.info.limit,this.GetGameObject("text_yixuexi").active=t.lv<=n.shouyinyuanlv,this.node.stopAllActions(),this.GetGameObject("img_reddot").active=this.info.shop<r.default.Instance().unlock_shop.length&&r.default.Instance().unlock_shop[this.info.shop].lv>=this.info.limit&&r.default.Instance().coin>=this.info.cost,cc.loader.loadRes("texture/furniture/baozhuang_"+t.lv,cc.SpriteFrame,function(t,n){t?console.log("\u6ca1\u6709\u627e\u5230\u56fe\u7247",t):e.GetSprite("img_canhe").spriteFrame=n})},d.prototype.start=function(){var t=this;this.rigester("shouyinyuanlv_sj",function(){t.setPackageData(t.info)})},d.prototype.onBtnClicked=function(t,e){"btn_yellow"===(s.prototype.onBtnClicked.call(this,t,e),h.default.Instance().playSFX(r.GAME_CONFIG.music_click),t.target.name)&&r.default.Instance().upShopSSYLV(u.default.Instance().shopID)},o=__decorate([o],d);function d(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],PeiSongCell:[function(t,e,n){"use strict";cc._RF.push(e,"e368bXAUw1MO4WNsetqrS5j","PeiSongCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("DataManager"),r=o("BaseUI"),u=o("ConfigManager"),h=o("UIManager"),l=o("GameManager"),d=o("Utils"),p=o("UIPeiSong");o=(i=cc._decorator).ccclass,i.property,s=r.default,__extends(f,s),f.prototype.start=function(){var t=this;this.rigester("DELETE_PEISONGCELL",function(e,n){e==t.shop_id&&t.dingdan.id==n&&(t.node.stopAllActions(),p.default.Instance().cell_count--,console.log("!!!!!!!!\u5220\u9664\u4e86",t.dingdan,"\u8fd8\u5269\u4e0bcell_count",p.default.Instance().cell_count),0==p.default.Instance().cell_count?p.default.Instance().closeUI():(t.node.active=!1,t.node.destroy()))}),this.node.runAction(cc.sequence(cc.callFunc(function(){t.updateInfo()}),cc.delayTime(1)).repeatForever())},f.prototype.setData=function(t,e){var n=this;this.dingdan=e,this.shop_id=t;var i,o=u.default.Instance().getFoodDataByID(e.foodID),a=l.default.Instance().getShopQishouByID(h.default.Instance().shopID,e.id);a&&(i=-1<this.dingdan.group?this.dingdan.price:c.default.Instance().getFoodDBPrice(this.shop_id,e.foodID),t=c.default.Instance().getFoodPSPrice(e.foodID,e.distance),this.SetText("lbl_order_name",-1==e.group?o.name:"\u56e2\u4f53\u8ba2\u5355"),this.SetText("lbl_dc_cost",d.default.formatCoin(i)),this.SetText("lbl_ps_cost",d.default.formatCoin(t)),d.default.loadRes("spine/staff/qishou_0"+e.qs,sp.SkeletonData).then(function(t){cc.isValid(n.node)&&(n.GetSkeleton("spine").skeletonData=t,n.GetSkeleton("spine").setAnimation(0,a.gongju.gjres,!0))}))},f.prototype.updateInfo=function(){var t,e=l.default.Instance().getShopQishouByID(h.default.Instance().shopID,this.dingdan.id);e&&(this.dingdan.state==u.FoodState.\u5916\u9001\u4e2d?((t=0)!=e.curpstime&&0!=e.pstime&&(t=e.curpstime/e.pstime*this.dingdan.distance),1e3<=(t=Math.ceil((this.dingdan.distance-t)/100*100))?this.SetText("lbl_distance",(t/1e3).toFixed(1)+"km"):this.SetText("lbl_distance",t+"m"),t=Math.floor(e.pstime-e.curpstime),this.SetText("lbl_time",d.default.getTimeStrByS(t)),this.GetGameObject("title_yisongda").active=!1,this.GetGameObject("text_peisongzhong").active=!0):this.dingdan.state==u.FoodState.\u56de\u7a0b\u4e2d&&(t=Math.floor(e.pstime-e.curpstime),this.SetText("lbl_time",d.default.getTimeStrByS(t)),this.SetText("lbl_distance","\u8fd4\u7a0b\u4e2d"),this.GetGameObject("title_yisongda").active=!0,this.GetGameObject("text_peisongzhong").active=!1))},o=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.dingdan=null,t.shop_id=null,t}a.default=o,cc._RF.pop()},{}],PoolMgr:[function(t,e,n){"use strict";cc._RF.push(e,"96c22QZQoJEzrsdfStlsM1E","PoolMgr");var i=e,o=n;Object.defineProperty(o,"__esModule",{value:!0}),(i=c=c||{})[i.Enemy=0]="Enemy",i[i.Platform=1]="Platform",i[i.MSGHINTS=2]="MSGHINTS",o.PoolType=c;var a,s,c=(i=cc._decorator).ccclass;i.property,a=cc.Component,__extends(r,a),(s=r).Instance=function(){return s._instance},r.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),s._instance=this},r.prototype.loadPrefabs=function(){var t=this;cc.loader.loadRes("prefab/base_qishou",cc.Prefab,function(e,n){e||t.initPool("base_qishou",n,20)}),cc.loader.loadRes("prefab/base_qishou1",cc.Prefab,function(e,n){e||t.initPool("base_qishou1",n,20)}),cc.loader.loadRes("prefab/base_qishou2",cc.Prefab,function(e,n){e||t.initPool("base_qishou2",n,20)}),cc.loader.loadRes("prefab/UI/DingDanCell",cc.Prefab,function(e,n){e||t.initPool("DingDanCell",n,30)})},r.prototype.initPool=function(t,e,n){this.prefabs[t]=e,this.pools[t]=new cc.NodePool;for(var i=0;i<n;++i)this.pools[t].put(cc.instantiate(e))},r.prototype.get=function(t){if(null==this.pools[t])return cc.error("\u6ca1\u6709"+t),null;if(0<this.pools[t].size()){var e=this.pools[t].get(),n=e.getChildByName("spine");return n&&(n.getComponent(sp.Skeleton).paused=!1),e}return cc.instantiate(this.prefabs[t])},r.prototype.put=function(t,e){this.pools[t].put(e),(e=e.getChildByName("spine"))&&(e.getComponent(sp.Skeleton).paused=!0)},r._instance=null,c=s=__decorate([c],r);function r(){var t=null!==a&&a.apply(this,arguments)||this;return t.pools={},t.prefabs={},t.pre_bullets=[],t}o.default=c,cc._RF.pop()},{}],Pos_Base:[function(t,e,n){"use strict";cc._RF.push(e,"735d2GrPhlHtIJZhJbP8mzk","Pos_Base");var i=e,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator;i=s.ccclass,s.property,a=cc.Component,__extends(c,a),c.prototype.start=function(){this.node.getComponent(cc.Sprite).enabled=!1},i=__decorate([i],c);function c(){return null!==a&&a.apply(this,arguments)||this}o.default=i,cc._RF.pop()},{}],Setup:[function(t,e,n){"use strict";cc._RF.push(e,"4b80fSKEX5LgbYxVQ9y12Gt","Setup");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("BaseUI"),r=i("AudioMgr"),u=i("AdCenter"),h=i("DataManager"),l=i("MsgBox"),d=i("WXTTUtils"),p=i("Utils");i=(o=cc._decorator).ccclass,o=o.property,s=c.default,__extends(f,s),f.prototype.onLoad=function(){s.prototype.onLoad.call(this),u.default.Instance().showBanner(),this.btn_music=this.GetGameObject("btn_music_h"),this.btn_music_close=this.GetGameObject("btn_music"),this.btn_sound=this.GetGameObject("btn_yinxiao_h"),this.btn_sound_close=this.GetGameObject("btn_yinxiao")},f.prototype.start=function(){this.btn_music.active=1==r.default.Instance().bgmVolume,this.btn_music_close.active=0==r.default.Instance().bgmVolume,this.btn_sound.active=1==r.default.Instance().sfxVolume,this.btn_sound_close.active=0==r.default.Instance().sfxVolume;var t=cc.sys.localStorage.getItem("server_save_time");this.SetText("lbl_time",t?"\u6700\u8fd1\u5b58\u6863\u65f6\u95f4\uff1a"+p.default.getDate(Math.floor(t)):"\u4e91\u5b58\u6863\u6570\u636e\u7f3a\u5c11\uff0c\u8bf7\u4e0a\u4f20\u6570\u636e")},f.prototype.onDestroy=function(){s.prototype.onDestroy.call(this),this.wxButton&&this.wxButton.destroy(),u.default.Instance().hideBanner()},f.prototype.onBtnClicked=function(t,e){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(i){switch(i.label){case 0:switch(s.prototype.onBtnClicked.call(this,t,e),r.default.Instance().playSFX(h.GAME_CONFIG.music_click),t.target.name){case"btn_close":return[3,1];case"btn_music_node":return[3,2];case"btn_sound_node":return[3,3];case"btn_upload":return[3,4];case"btn_download":return[3,6]}return[3,8];case 1:return this.closeUI(),[3,8];case 2:return this.btn_music.active=!this.btn_music.active,this.btn_music_close.active=!this.btn_music_close.active,r.default.Instance().setBGMVolume(this.btn_music.active?1:0,!0),[3,8];case 3:return this.btn_sound.active=!this.btn_sound.active,this.btn_sound_close.active=!this.btn_sound_close.active,r.default.Instance().setSFXVolume(this.btn_sound.active?1:0,!0),[3,8];case 4:return[4,d.default.Instance().tryAuthorize()];case 5:return i.sent(),t.target.getComponent(cc.Button).interactable=!1,l.default.show("\u4e0a\u4f20\u6570\u636e\u5c06\u8986\u76d6\u670d\u52a1\u5668\u6570\u636e\uff0c\u786e\u8ba4\u4e0a\u4f20?",function(e){l.default.Status.OK==e?(d.default.Instance().show_upload_tip=!0,d.default.Instance().dealData(d.WXTT_ACTION.UPLOAD,h.default.Instance().getUploadData(),["nickname","headimg","coin","yuanbao","gongxun","mapLV"]),n.closeUI()):t.target.getComponent(cc.Button).interactable=!0},!0),[3,8];case 6:return[4,d.default.Instance().tryAuthorize()];case 7:return i.sent(),t.target.getComponent(cc.Button).interactable=!1,l.default.show("\u4e0b\u8f7d\u6570\u636e\u5c06\u8986\u76d6\u672c\u5730\u6570\u636e\uff0c\u786e\u8ba4\u4e0b\u8f7d?",function(e){l.default.Status.OK==e?(d.default.Instance().dealData(d.WXTT_ACTION.DOWNLOAD),n.closeUI()):t.target.getComponent(cc.Button).interactable=!0},!0),[3,8];case 8:return[2]}})})},__decorate([o(cc.Node)],f.prototype,"img_shouquan",void 0),i=__decorate([i],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.btn_music=null,t.btn_music_close=null,t.btn_sound=null,t.btn_sound_close=null,t.wxButton=null,t.img_shouquan=null,t}a.default=i,cc._RF.pop()},{}],Shake:[function(t,e,n){"use strict";cc._RF.push(e,"776856yN0hDUJ9tpRE0AmLJ","Shake");var i=e,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a,s,c=cc._decorator;i=c.ccclass,c.property,a=cc.ActionInterval,__extends(r,a),(s=r).create=function(t,e,n){var i=new s;return i.initWithDuration(t,e,n),i},r.prototype.initWithDuration=function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=n,!0},r.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},r.prototype.update=function(t){var e=this.fgRangeRand(-this._strength_x,this._strength_x),n=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(e+this._initial_x,n+this._initial_y)},r.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},r.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},i=s=__decorate([i],r);function r(){var t=null!==a&&a.apply(this,arguments)||this;return t._initial_x=0,t._initial_y=0,t._strength_x=0,t._strength_y=0,t}o.Shake=i,cc._RF.pop()},{}],ShopLayer:[function(t,e,n){"use strict";cc._RF.push(e,"77064sTfOFJRbd1i2cueBRz","ShopLayer");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("BaseUI"),r=i("Model_Shop"),u=i("ConfigManager"),h=i("DataManager");i=(o=cc._decorator).ccclass,o=o.property,s=c.default,__extends(l,s),l.redDot=function(){for(var t=0;t<10;++t){var e=u.default.Instance().getShopUnlockDataByShopID(t);if(t>=h.default.Instance().unlock_shop.length&&h.default.Instance().unlock_shop[e.limitshop]&&e.limitshoplv<=h.default.Instance().unlock_shop[e.limitshop].lv&&h.default.Instance().coin>=e.cost)return!0}return!1},l.prototype.start=function(){var t=this;this.rigester("close_shop_layer",function(){t.closeUI()});for(var e=this,n=0;n<10;++n)!function(n){e.node.runAction(cc.sequence(cc.delayTime(.02*n),cc.callFunc(function(){var e=cc.instantiate(t.cell);e.parent=t.GetGameObject(""+n),e.getComponent(r.default).shopID=n,e.position=cc.Vec2.ZERO})))}(n)},__decorate([o(cc.Prefab)],l.prototype,"cell",void 0),i=__decorate([i],l);function l(){var t=null!==s&&s.apply(this,arguments)||this;return t.cell=null,t}a.default=i,cc._RF.pop()},{}],Singleton:[function(t,e,n){"use strict";cc._RF.push(e,"b3524d7zH9PiqxWDRneLvf8","Singleton");var i=n;function o(){}Object.defineProperty(i,"__esModule",{value:!0}),o.Instance=function(){return this.instance||(this.instance=new this),this.instance},i.default=o,cc._RF.pop()},{}],SlowDownLayer:[function(t,e,n){"use strict";cc._RF.push(e,"d69a6yt0fJDIKTr4SUZU/Ji","SlowDownLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("AudioMgr"),h=o("UIManager"),l=o("AdCenter"),d=o("Utils"),p=o("MsgHints");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(f,s),f.prototype.start=function(){var t;r.default.Instance().shop_day_data&&(t=r.default.Instance().shop_day_data,this.SetText("lbl_bonus",""+d.default.formatCoin(t.day_bonus)),this.bonus=t.day_bonus)},f.prototype.onBtnClicked=function(t,e){var n=t.target.name;switch(u.default.Instance().playSFX(r.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),n){case"btn_ok":if(r.default.Instance().coin<this.bonus)return void p.default.show("\u91d1\u94b1\u4e0d\u8db3");r.default.Instance().changeGameCoin(-this.bonus),r.default.Instance().closeBusyBlowDown(),this.closeUI();break;case"btn_ad":this.reward7("btn_ad")}},f.prototype.reward7=function(t,e){var n=this;t.target.name;l.default.Instance().play(0,function(t){t&&(r.default.Instance().closeBusyBlowDown(),cc.isValid(n.node)&&n.closeUI())})},f.prototype.onDestroy=function(){s.prototype.onDestroy.call(this),h.default.Instance().openBonusLayer=!1},o=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.bonus=0,t}a.default=o,cc._RF.pop()},{}],StaffCell:[function(t,e,n){"use strict";cc._RF.push(e,"2ce11qsMx5O2ZFwM+VFk9av","StaffCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("DataManager"),r=o("BaseUI"),u=o("AudioMgr"),h=o("UIManager"),l=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=r.default,__extends(d,s),d.prototype.setData=function(t){this.info=t,this.GetSkeleton("qishou").setAnimation(0,t.gjres,!0),this.GetGameObject("pc_1").active=0==t.lv,this.GetGameObject("pc_2").active=1==t.lv,this.GetGameObject("pc_3").active=2==t.lv,this.GetGameObject("pc_4").active=3==t.lv,this.GetGameObject("pc_5").active=4==t.lv,this.GetGameObject("pc_6").active=5==t.lv,this.GetGameObject("pc_7").active=6==t.lv,this.SetText("lbl_pssd",t.speed+""),1e3<t.psmax?this.SetText("lbl_psfw",Math.floor(t.psmin/1e3).toFixed(0)+"~"+Math.floor(t.psmax/1e3).toFixed(0)+"km"):this.SetText("lbl_psfw",t.psmin+"~"+t.psmax+"m"),this.SetText("lbl_price",l.default.formatCoin(t.cost)),this.GetGameObject("lbl_price").color=c.default.Instance().coin>=t.cost?cc.Color.WHITE:cc.Color.RED;var e=c.default.Instance().unlock_shop[h.default.Instance().shopID];e&&(this.GetGameObject("btn_yellow").active=e.waimaiyuanlv+1==t.lv&&c.default.Instance().unlock_shop[this.info.shop].lv>=this.info.limit,this.SetText("lbl_shop_limit",""+t.limit),this.GetGameObject("text_xxxdp").active=c.default.Instance().unlock_shop[this.info.shop].lv<this.info.limit,this.GetGameObject("text_yixuexi").active=t.lv<=e.waimaiyuanlv,this.GetGameObject("img_reddot").active=this.info.shop<c.default.Instance().unlock_shop.length&&c.default.Instance().unlock_shop[this.info.shop].lv>=this.info.limit&&c.default.Instance().coin>=this.info.cost)},d.prototype.start=function(){var t=this;this.rigester("waimaiyuanlv_sj",function(){t.setData(t.info)})},d.prototype.onBtnClicked=function(t,e){"btn_yellow"===(s.prototype.onBtnClicked.call(this,t,e),u.default.Instance().playSFX(c.GAME_CONFIG.music_click),t.target.name)&&(console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxssss"),c.default.Instance().upShopWMYLV(h.default.Instance().shopID))},o=__decorate([o],d);function d(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],TaskCell:[function(t,e,n){"use strict";cc._RF.push(e,"21e867+e+pG7p+Z0L0ghLeB","TaskCell");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("AudioMgr"),u=o("Utils"),h=o("DataManager"),l=o("ConfigManager"),d=o("UITaskReward"),p=o("ConfigManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(f,s),f.prototype.setData=function(t,e){this.type=t,this.SetText("lbl_name",e.title),this.SetText("lbl_desc",e.desc);var n=0,i=e["r"+h.default.Instance().unlock_shop[h.default.Instance().unlock_shop.length-1].id];if(this.SetText("lbl_coin",u.default.formatCoin(i)),this.coin=i,i=new Date(u.default.getServerTime()).getHours(),"zaoc"==t)7<=i&&i<11&&(n=1);else if("wuc"==t)11<=i&&i<15&&(n=1);else if("wanc"==t)17<=i&&i<21&&(n=1);else if(0<=t.indexOf("dd"))for(var o in n=0,h.default.Instance().sellfood)n+=h.default.Instance().sellfood[o];else{var a=h.default.Instance().taskInfo[t].foodid,s=l.default.Instance().getFoodDataByID(a);console.log(a,s),n=h.default.Instance().sellfood[a]||0,s&&this.SetText("lbl_desc",e.desc.replace("xxx",s.name))}(a=0)<=t.indexOf("mg")&&(a=p.ShopID.\u9762\u9986),0<=t.indexOf("cf")&&(a=p.ShopID.\u7092\u996d\u9986),0<=t.indexOf("ncc")&&(a=p.ShopID.\u5976\u8336\u5e97),0<=t.indexOf("hb")&&(a=p.ShopID.\u6c49\u5821\u5e97),0<=t.indexOf("np")&&(a=p.ShopID.\u725b\u6392\u5e97),0<=t.indexOf("rl")&&(a=p.ShopID.\u65e5\u6599\u9986),0<=t.indexOf("hg")&&(a=p.ShopID.\u706b\u9505\u5e97),0<=t.indexOf("xc")&&(a=p.ShopID.\u897f\u9910\u9986),0<=t.indexOf("zc")&&(a=p.ShopID.\u4e2d\u9910\u9986),0<=t.indexOf("mql")&&(a=p.ShopID.\u7c73\u5176\u6797),s=!1,-1!=h.default.Instance().getShopLVByID(a)&&(s=!0),this.GetGameObject("text_xxjs").active=!s,this.GetGameObject("text_hbd").active=a==p.ShopID.\u6c49\u5821\u5e97,this.GetGameObject("text_cfg").active=a==p.ShopID.\u7092\u996d\u9986,this.GetGameObject("text_hgd").active=a==p.ShopID.\u706b\u9505\u5e97,this.GetGameObject("text_mql").active=a==p.ShopID.\u7c73\u5176\u6797,this.GetGameObject("text_ncd").active=a==p.ShopID.\u5976\u8336\u5e97,this.GetGameObject("text_npd").active=a==p.ShopID.\u725b\u6392\u5e97,this.GetGameObject("text_xcg").active=a==p.ShopID.\u897f\u9910\u9986,this.GetGameObject("text_rlg").active=a==p.ShopID.\u65e5\u6599\u9986,this.GetGameObject("text_zcg").active=a==p.ShopID.\u4e2d\u9910\u9986,2!=(t=h.default.Instance().taskInfo[t].status)&&(t=n>=e.need?1:0),this.SetText("lbl_pro",n+"/"+e.need),this.SetProgressBar("ProgressBar",n/e.need),this.GetGameObject("btn_yellow").active=1==t&&s,this.GetGameObject("btn_gray").active=0==t&&s},f.prototype.onBtnClicked=function(t,e){var n=this;t=t.target.name;"btn_yellow"===(r.default.Instance().playSFX("click"),t)&&u.default.createUI("prefab/UI/UITaskReward").then(function(t){t.getComponent(d.default).setReward(n.coin,n.type)}).catch(console.error)},o=__decorate([o],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.coin=0,t.type="",t}a.default=o,cc._RF.pop()},{}],TaskLayer:[function(t,e,n){"use strict";cc._RF.push(e,"66000EoZiRGq7sHvLtpUUrP","TaskLayer");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("TaskCell"),r=i("BaseUI"),u=i("DataManager"),h=i("ConfigManager"),l=i("Utils");i=(o=cc._decorator).ccclass,o=o.property,s=r.default,__extends(d,s),d.redDot=function(){var t,e=h.default.Instance().TaskCfgs,n=new Date(l.default.getServerTime()).getHours();for(t in e){var i=e[t],o=i.type;if(!u.default.Instance().taskInfo[o])return;if(2!=u.default.Instance().taskInfo[o].status)if("zaoc"==o){if(7<=n&&n<11)return!0}else if("wuc"==o){if(11<=n&&n<15)return!0}else if("wanc"==o){if(17<=n&&n<21)return!0}else if(0<=o.indexOf("dd")){var a,s=0;for(a in u.default.Instance().sellfood)s+=u.default.Instance().sellfood[a];if(s>=i.need)return!0}else if(o=u.default.Instance().taskInfo[o].foodid,(s=u.default.Instance().sellfood[o]||0)>=i.need)return!0}return!1},d.prototype.start=function(){var t=this;this.upateList(),this.rigester("UPDATE_TASK_LIST",function(){t.upateList()})},d.prototype.upateList=function(){this.GetGameObject("content").removeAllChildren();for(var t=h.default.Instance().TaskCfgs,e=!0,n=!1,i=!1,o=!1,a=!1,s=!1,r=!1,l=!1,d=!1,p=!1,f=!1,_=!1,m=!1,g=!1,y=!1,I=0;I<t.length;++I){var v,b=t[I].type;2!=u.default.Instance().taskInfo[b].status&&(0<=b.indexOf("zaoc")&&n||0<=b.indexOf("wuc")&&i||0<=b.indexOf("wanc")&&o||0<=b.indexOf("dd")&&a||0<=b.indexOf("mg")&&s||0<=b.indexOf("cf")&&r||0<=b.indexOf("ncc")&&l||0<=b.indexOf("hb")&&d||0<=b.indexOf("np")&&p||0<=b.indexOf("rl")&&f||0<=b.indexOf("hg")&&_||0<=b.indexOf("xc")&&g||0<=b.indexOf("zc")&&m||0<=b.indexOf("mql")&&y||(0<=b.indexOf("zaoc")&&(n=!0),0<=b.indexOf("wuc")&&(i=!0),0<=b.indexOf("wanc")&&(o=!0),0<=b.indexOf("dd")&&(a=!0),0<=b.indexOf("mg")&&(s=!0),0<=b.indexOf("cf")&&(r=!0),0<=b.indexOf("ncc")&&(l=!0),0<=b.indexOf("hb")&&(d=!0),0<=b.indexOf("np")&&(p=!0),0<=b.indexOf("rl")&&(f=!0),0<=b.indexOf("hg")&&(_=!0),0<=b.indexOf("xc")&&(g=!0),0<=b.indexOf("mql")&&(y=!0),0<=b.indexOf("zc")&&(m=!0),(v=cc.instantiate(this.cell_fab)).parent=this.GetGameObject("content"),v.getComponent(c.default).setData(b,t[I]),e=!1))}this.GetGameObject("text_syrwdywc").active=e},d.prototype.onBtnClicked=function(t,e){"btn_close"===t.target.name&&this.closeUI()},__decorate([o(cc.Prefab)],d.prototype,"cell_fab",void 0),i=__decorate([i],d);function d(){var t=null!==s&&s.apply(this,arguments)||this;return t.cell_fab=null,t}a.default=i,cc._RF.pop()},{}],TitleLayer:[function(t,e,n){"use strict";cc._RF.push(e,"f6db1/fLp5GI5a3kgxR0mUn","TitleLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("DataManager"),h=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(l,s),l.prototype.start=function(){for(var t=r.default.Instance().Titles,e=t[0],n=null,i=0;i<t.length;++i)t[i].coin<=u.default.Instance().total_coin&&(e=t[i],n=t[i+1]);this.GetGameObject("title_set").active=n,this.GetGameObject("text_zgchydc").active=!n,n?(this.SetText("lbl_name",n.name),this.SetText("lbl_need_coin","\u9700\u8981\u79ef\u7d2f\u91d1\u94b1\u8fbe\u5230:"+h.default.formatCoin(n.coin)),this.SetText("lbl_coin_pro",h.default.formatCoin(u.default.Instance().total_coin)+"/"+h.default.formatCoin(n.coin)),this.SetProgressBar("New ProgressBar",u.default.Instance().total_coin/n.coin)):(this.GetGameObject("New ProgressBar").active=!1,this.SetText("lbl_name",e.name))},o=__decorate([o],l);function l(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],UIDecor:[function(t,e,n){"use strict";cc._RF.push(e,"996a1gaHZJDfLS+YD11Rb2J","UIDecor");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=i("DataManager"),u=i("BaseUI"),h=i("AudioMgr"),l=i("ConfigManager"),d=i("DecorCell"),p=i("UIManager"),f=i("Utils"),_=i("dengjitisheng");i=(o=cc._decorator).ccclass,o=o.property,s=u.default,__extends(m,s),(c=m).redDot=function(){var t=l.default.Instance().getShopAllJiajuIDByShopID(p.default.Instance().shopID),e=r.default.Instance().getShopLVByID(p.default.Instance().shopID);if(5==e)return!1;for(var n=0,i=0;i<t.length;++i){var o=l.default.Instance().getJiajuDataByID(t[i]),a=r.default.Instance().getJiajuLVByID(t[i]);-1==a&&(a=0);var s=r.default.Instance().getJiajuLVByID(t[i]);if(r.default.Instance().unlock_jiaju[t[i]]){if(4!=a&&r.default.Instance().unlock_jiaju[t[i]]<e&&r.default.Instance().coin>=o["cost"+a])return!0}else if(r.default.Instance().coin>=o["cost"+a]&&s<e)return!0;e<=s&&n++}var c=l.default.Instance().getShopDataByIDLV(p.default.Instance().shopID,e+1);return r.default.Instance().coin>=c.cost&&n==t.length},m.Instance=function(){return c._uimenu},m.prototype.onDestroy=function(){s.prototype.onDestroy.call(this),4==r.default.Instance().guideIndex&&p.default.Instance().node.getComponent("LoadGuide").runTask(5)},m.prototype.start=function(){var t=this,e=(c._uimenu=this).GetGameObject("content_node");this.shop_id=p.default.Instance().shopID;var n=l.default.Instance().getShopDataByIDLV(this.shop_id,0);this.GetGameObject("text_hbd").active=this.shop_id==l.ShopID.\u6c49\u5821\u5e97,this.GetGameObject("text_cfg").active=this.shop_id==l.ShopID.\u7092\u996d\u9986,this.GetGameObject("text_hgd").active=this.shop_id==l.ShopID.\u706b\u9505\u5e97,this.GetGameObject("text_mql").active=this.shop_id==l.ShopID.\u7c73\u5176\u6797,this.GetGameObject("text_ncd").active=this.shop_id==l.ShopID.\u5976\u8336\u5e97,this.GetGameObject("text_npd").active=this.shop_id==l.ShopID.\u725b\u6392\u5e97,this.GetGameObject("text_xcg").active=this.shop_id==l.ShopID.\u897f\u9910\u9986,this.GetGameObject("text_rlg").active=this.shop_id==l.ShopID.\u65e5\u6599\u9986,this.GetGameObject("text_zcg").active=this.shop_id==l.ShopID.\u4e2d\u9910\u9986,this.GetGameObject("text_zcg").active=this.shop_id==l.ShopID.\u4e2d\u9910\u9986,this.GetGameObject("text_mg").active=this.shop_id==l.ShopID.\u9762\u9986,this.zhuangxiu_ids=l.default.Instance().getShopAllJiajuIDByShopID(this.shop_id),this.updateDecorData();for(var i=this,o=0;o<this.zhuangxiu_ids.length;++o)!function(n){i.node.runAction(cc.sequence(cc.delayTime(.05*n),cc.callFunc(function(){var i=cc.instantiate(t.decor_cell);i.parent=e,i.getComponent(d.default).setData(t.shop_id,t.zhuangxiu_ids[n])})))}(o);this.SetSprite("img_mianguan","texture/UI/menu/"+n.shop_icon)},m.prototype.onBtnClicked=function(t,e){var n=this;"btn_green"===(s.prototype.onBtnClicked.call(this,t,e),h.default.Instance().playSFX(r.GAME_CONFIG.music_click),t.target.name)&&r.default.Instance().upShopLV(this.shop_id)&&(this.updateDecorData(),this.closeUI(),f.default.createUI("prefab/UI/dengjitisheng").then(function(t){t.getComponent(_.default).setData(n.shop_id,r.default.Instance().getShopLVByID(n.shop_id))}))},m.prototype.updateDecorData=function(){var t=r.default.Instance().getShopLVByID(this.shop_id),e=this.GetGameObject("node_no_max"),n=this.GetGameObject("text_yimanji_1");if(5==t){e.active=!1,n.active=!0;for(var i=this.GetGameObject("star_node").children,o=0;o<i.length;++o)i[o].active=!0}else if(e.active=!0,n.active=!1,0==t||-1==t)this.GetGameObject("star_node").active=!1;else{for(this.GetGameObject("star_node").active=!0,i=this.GetGameObject("star_node").children,o=0;o<i.length;++o)i[o].active=!0;for(o=0;o<5-t;++o)i[o].active=!1}this.updateProgess()},m.prototype.updateProgess=function(){if(5==r.default.Instance().getShopLVByID(this.shop_id))return this.SetProgressBar("New ProgressBar",1),void(this.GetGameObject("img_reddot").active=!1);for(var t=r.default.Instance().getShopLVByID(this.shop_id),e=0,n=0;n<this.zhuangxiu_ids.length;++n)r.default.Instance().getJiajuLVByID(this.zhuangxiu_ids[n])>=t&&e++;var i=l.default.Instance().getShopDataByIDLV(this.shop_id,t+1);this.GetGameObject("img_reddot").active=r.default.Instance().coin>=i.cost&&e==this.zhuangxiu_ids.length,this.SetProgressBar("New ProgressBar",e/this.zhuangxiu_ids.length),this.SetText("lbl_cost",i.cost.toString()),this.GetGameObject("lbl_cost").color=r.default.Instance().coin>=i.cost?cc.Color.WHITE:cc.Color.RED,this.GetGameObject("img_reddot").active&&!r.default.Instance().bGuideIndex4Over&&(p.default.Instance().node.getComponent("LoadGuide").runTask(4),r.default.Instance().bGuideIndex4Over=!0)},m._uimenu=null,__decorate([o(cc.Prefab)],m.prototype,"decor_cell",void 0),i=c=__decorate([i],m);function m(){var t=null!==s&&s.apply(this,arguments)||this;return t.decor_cell=null,t.shop_id=null,t.zhuangxiu_ids=null,t}a.default=i,cc._RF.pop()},{}],UIJiJingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"c66a4hOk5ZBVY9+9p831IGT","UIJiJingLayer");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("DataManager"),u=o("AudioMgr"),h=o("AdCenter"),l=o("Utils");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(d,s),d.prototype.start=function(){},d.prototype.initBox=function(t){this.ShopID=t,this.coin=r.default.Instance().getShopIncomeByM(this.ShopID,r.GAME_CONFIG.tianshi_time),this.coin<r.GAME_CONFIG.tianshi_coin_min&&(this.coin=r.GAME_CONFIG.tianshi_coin_min),this.SetText("lbl_coin",l.default.formatCoin(this.coin))},d.prototype.onBtnClicked=function(t,e){var n=this,i=t.target.name;"btn_get"===(u.default.Instance().playSFX(r.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),i)&&h.default.Instance().play(0,function(t){t&&(r.default.Instance().changeGameCoin(n.coin),n.dispatch("GAME_TIANSHI_OVER",{ShopID:n.ShopID}),l.default.createUI("prefab/GetAward"),n.closeUI())})},d.prototype.reward1=function(t,e){var n=this,i=t.target.name;"btn_get"===(u.default.Instance().playSFX(r.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e),i)&&h.default.Instance().play(0,function(t){t&&(r.default.Instance().changeGameCoin(n.coin),n.dispatch("GAME_TIANSHI_OVER",{ShopID:n.ShopID}),l.default.createUI("prefab/GetAward"),n.closeUI())})},o=__decorate([o],d);function d(){var t=null!==s&&s.apply(this,arguments)||this;return t.ShopID=0,t.coin=0,t}a.default=o,cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"56ce3s5k3pDW7mJJO5djg9j","UIManager");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=i("BaseUI"),u=i("ConfigManager"),h=i("DataManager"),l=i("MsgHints"),d=i("Utils"),p=i("AudioMgr"),f=i("NumberRoll"),_=i("WXTTUtils"),m=i("DingDanCell"),g=i("GameManager"),y=i("TaskLayer"),I=i("UIStaff"),v=i("UIMenu"),b=i("UIDecor"),G=i("ShopLayer"),S=i("huodexindianpu"),D=i("PoolMgr"),O=i("ZhuanpanLayer"),T=i("LuPinResult"),k=(i=(o=cc._decorator).ccclass,o=o.property,window.wx||window.tt);s=r.default,__extends(x,s),(c=x).prototype.start=function(){var t=this;(c._instance=this).UI=this.GetGameObject("UI"),this.camera=this.GetGameObject("Main Camera"),this.initView(),this.updateGameCoin(),this.fitScence(),this.addTouch(),this.turnToShop(),this.rigester("UI_BTNWAIMAIYUAN_SHOW",function(e){c.Instance().shopID==e.ShopID&&(e&&e.show&&!t.GetGameObject("btn_waimaiyuan").active&&t.showBtnWaimaiyuan(!0),e&&!e.show&&t.GetGameObject("btn_waimaiyuan").active&&t.showBtnWaimaiyuan(!1))}),this.rigester("GAME_BUSY_CLOSE",function(e){for(var n=0;n<10;++n)t.GetGameObject("layout_dingdan_"+n).children.map(function(t){D.default.Instance().put("DingDanCell",t)}),t.GetGameObject("layout_dingdan_"+n).removeAllChildren(),t.GetGameObject("layout_baozhuang_"+n).removeAllChildren(),t._dingdancount[n]=0;t.showBtnBonus(!0),t.showBtnWaimaiyuan(!1)}),this.rigester("UI_SHOW_DAYTIME",function(e){t.showDayTime(e&&e.show)}),1!=h.default.Instance().guideIndex&&2!=h.default.Instance().guideIndex&&4!=h.default.Instance().guideIndex&&3!=h.default.Instance().guideIndex||c.Instance().node.getComponent("LoadGuide").runTask(4==h.default.Instance().guideIndex?5:h.default.Instance().guideIndex),0<h.default.Instance().bonusTime&&this.showBtnBonus(!0),h.default.Instance().isBonus&&this.showBtnBonus(!0),this.GetGameObject("img_bg").y=cc.winSize.height/2,this.rigester("GAME_BUSYBLOWDOWN_STATE",function(e){t.showBtnBonus(e&&e.show)})},x.prototype.fitScence=function(){var t,e=this;cc.sys.platform==cc.sys.WECHAT_GAME?k.getSystemInfo({success:function(t){t.windowWidth/t.windowHeight<.562&&setTimeout(function(){e.GetGameObject("top").y-=h.GAME_CONFIG.scence_fit_height},1e3)}}):!cc.sys.isNative||cc.sys.platform!=cc.sys.IPHONE||(t=cc.view.getFrameSize()).width/t.height<.562&&setTimeout(function(){e.GetGameObject("top").y-=h.GAME_CONFIG.scence_fit_height},1e3)},x.Instance=function(){return c._instance},x.prototype.initView=function(){var t,e,n=this;this.rigester("EVENT_CHANGE_COIN",function(t){n.updateGameCoin()}),this.GetGameObject("btn_Recorder")&&(this.GetGameObject("btn_Recorder").active=window.tt),window.tt&&(t=0,(e=window.tt.getGameRecorderManager()).onStart(function(e){n.GetGameObject("btn_VCR").active=!1,n.GetGameObject("btn_end").active=!0,n.GetGameObject("btn_Recorder").stopAllActions(),n.GetGameObject("btn_Recorder").runAction(cc.sequence(cc.scaleTo(.5,.9),cc.scaleTo(.5,1)).repeatForever()),console.log("tt\u5f55\u5c4f\u5f00\u59cb"),t=d.default.getServerTime()}),e.onStop(function(e){n.bRecorder=!1,n.GetGameObject("btn_Recorder").stopAllActions(),n.GetGameObject("btn_Recorder").scale=1,n.GetGameObject("btn_VCR").active=!0,n.GetGameObject("btn_end").active=!1,console.log("tt\u5f55\u5c4f\u7ed3\u675f"),console.log(e.videoPath),d.default.getServerTime()-t<3e3?l.default.show("\u5f55\u5c4f\u65f6\u95f4\u8fc7\u77ed"):d.default.createUI("prefab/UI/LuPinResult",null,function(t){t.getComponent(T.default).setData(e)})})),this.GetGameObject("btn_moreGame")&&(this.GetGameObject("btn_moreGame").active=cc.sys.os==cc.sys.OS_ANDROID);for(var i=0;i<10;++i)this.GetGameObject("layout_dingdan_"+i).children.map(function(t){n.dingdanpos[i].push(t.position)}),this.GetGameObject("layout_dingdan_"+i)&&(this.GetGameObject("layout_dingdan_"+i).removeComponent(cc.Layout),this.GetGameObject("layout_dingdan_"+i).removeAllChildren());this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.update_red_dot(),n.updatedingpos(n.shopID),n.updateGameCoin(),h.default.Instance().checkNewTody();for(var t=0;t<h.default.Instance().unlock_shop.length;++t)n.ani_dingdan(t,null,!0)})).repeatForever()),this.GetSkeleton("jiedananniu").setAnimation(0,"idle",!0)},x.prototype.updateGameCoin=function(){this.GetGameObject("lbl_coin").getComponent(f.default).vaule=h.default.Instance().coin;for(var t=null,e=u.default.Instance().Titles,n=0;n<e.length;++n)e[n].coin<=h.default.Instance().total_coin&&(t=e[n]);this.SetText("lbl_title",t.name)},x.prototype.onBtnClicked=function(t,e){var n=this,i=t.target.name;if(!this.GetGameObject("GodGuide")||6!=h.default.Instance().guideIndex||!this.GetGameObject("GodGuide").getComponent("GodGuide").isGuiding||"btn_jiesuo_shop"==i){p.default.Instance().playSFX(h.GAME_CONFIG.music_click),s.prototype.onBtnClicked.call(this,t,e);var o=t.target.getComponent(cc.Button);switch("btn_jiedan"!=o.name&&"btn_left"!=o.name&&"btn_right"!=o.name&&(o.interactable=!1,this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){cc.isValid(o)&&(o.interactable=!0)})))),i){case"btn_Recorder":0==this.bRecorder?(cc.log("\u5f00\u59cb\u5f55\u5c4f"),this.bRecorder=!0,window.tt&&window.tt.getGameRecorderManager().start({duration:30})):(cc.log("\u7ed3\u675f\u5f55\u5c4f"),this.bRecorder=!1,window.tt&&window.tt.getGameRecorderManager().stop());break;case"btn_moreGame":_.default.showMoreGame();break;case"btn_title":d.default.createUI("prefab/TitleLayer",null);break;case"btn_caipin":if(this.shopID>=h.default.Instance().unlock_shop.length)return;d.default.createUI("prefab/UI/UIMenu",null);break;case"btn_dianpu":if(this.shopID>=h.default.Instance().unlock_shop.length)return;d.default.createUI("prefab/shopLayer",null);break;case"btn_jiedan":if(g.default.Instance().ShopState==u.ShopState.\u51cc\u6668\u505c\u4e1a)return void l.default.show("\u6df1\u66f4\u534a\u591c\uff0c\u8ba9\u4e0d\u8ba9\u4eba\u6d3b\u4e86\uff0c\u4e0d\u63a5\u4e0d\u63a5!");if(this.shopID>=h.default.Instance().unlock_shop.length)return;if(o.interactable=!1,o.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){o.interactable=!0}))),10<=this._dingdancount[this.shopID]+h.default.Instance().tuanTiOrders[this.shopID].length)return void(o&&l.default.show("\u8ba2\u5355\u592a\u591a\uff0c\u5904\u7406\u5b8c\u518d\u63a5\u5427"));h.default.Instance().checkTuanTiOrder(this.shopID)||this.ani_dingdan(this.shopID,o);break;case"btn_yuangong":if(this.shopID>=h.default.Instance().unlock_shop.length)return;d.default.createUI("prefab/UI/UIStaff",null);break;case"btn_zhuangxiu":if(this.shopID>=h.default.Instance().unlock_shop.length)return;d.default.createUI("prefab/UI/UIDecor",null);break;case"btn_jiesuo_shop":h.default.Instance().upShopLV(this.shopID)&&(d.default.createUI("prefab/UI/huodexindianpu").then(function(t){t.getComponent(S.default).setData(n.shopID)}),this.turnToShop());break;case"btn_set":d.default.createUI("prefab/Setup",null);break;case"btn_task":d.default.createUI("prefab/TaskLayer",null);break;case"btn_sub_menu_jiantou":this.click_sub_menu();break;case"dingdan":case"dingdan copy":d.default.createUI("prefab/UI/UIOrder",null);break;case"btn_waimaiyuan":d.default.createUI("prefab/UI/UIPeiSong",null);break;case"btn_left":this.shopID>u.ShopID.\u9762\u9986&&(this.shopID--,this.turnToShop());break;case"btn_right":if(this.shopID>=h.default.Instance().unlock_shop.length)return void l.default.show("\u524d\u7f6e\u5e97\u94fa\u672a\u89e3\u9501\u65e0\u6cd5\u67e5\u770b");this.shopID<u.ShopID.MAX_ID-1&&(this.shopID++,this.turnToShop());break;case"btn_bonus":if(this.openBonusLayer)return;h.default.Instance().isBonus?d.default.createUI("prefab/SlowDownLayer",null):d.default.createUI("prefab/BonusLayer",null),this.openBonusLayer=!0;break;case"bg_game_time":d.default.createUI("prefab/UI/UIOpenTime");break;case"btn_zhuanpan_0":case"btn_zhuanpan_1":case"btn_zhuanpan_2":case"btn_zhuanpan_3":case"btn_zhuanpan_4":case"btn_zhuanpan_5":case"btn_zhuanpan_6":case"btn_zhuanpan_7":case"btn_zhuanpan_8":case"btn_zhuanpan_9":this.GetGameObject(i).children[0].getComponent(sp.Skeleton).setAnimation(0,"dianji",!1),this.GetGameObject(i).children[0].getComponent(sp.Skeleton).addAnimation(0,"idle",!0),d.default.createUI("prefab/ZhuanpanLayer").then(function(t){t.getComponent(O.default).initBox(n.shopID)})}}},x.prototype.click_sub_menu=function(){var t=this.GetGameObject("sub_menu").y;this.GetGameObject("sub_menu").stopAllActions(),this.GetGameObject("sub_menu").x<-cc.winSize.width/2?(this.GetGameObject("sub_menu").runAction(cc.moveTo(.3,cc.v2(-cc.winSize.width/2+50,t))),this.GetGameObject("jiantou").scale=1,this.GetGameObject("img_reddot_rw2").active=!1):(this.GetGameObject("sub_menu").runAction(cc.moveTo(.3,cc.v2(-cc.winSize.width/2-28,t))),this.GetGameObject("jiantou").scale=-1)},x.prototype.update=function(t){this.fps=1/t,this.fps<30?cc.game.setFrameRate(30):cc.game.setFrameRate(60)},x.prototype.update_red_dot=function(){var t;!h.default.Instance().bGuideIndex6Over&&this.GetGameObject("btn_dianpu").children[0].active&&(h.default.Instance().bGuideIndex6Over=!0,d.default.closeAllUI(),c.Instance().shopID=u.ShopID.\u7092\u996d\u9986,c.Instance().turnToShop(),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){c.Instance().node.getComponent("LoadGuide").runTask(6)})))),this.fps<cc.game.getFrameRate()/2&&d.default.getServerTime()-this.last_red_dot_time<3||(this.GetGameObject("btn_bonus").active&&0<h.default.Instance().bonusTime&&(t=h.GAME_CONFIG.bonus_show_time-Math.floor((d.default.getServerTime()-h.default.Instance().bonusTime)/1e3),this.SetText("lbl_bonus_time",d.default.getTimeStrByS(t))),this.SetText("lbl_game_time",d.default.getClockStrByS(h.default.Instance().shopTick)),this.GetGameObject("img_reddot_rw").active=y.default.redDot(),this.GetGameObject("img_reddot_rw2").active=this.GetGameObject("img_reddot_rw").active&&-1==this.GetGameObject("jiantou").scale,this.GetGameObject("img_reddot_yg").active=I.default.redDot().yg,this.GetGameObject("btn_caipin").children[0].active=v.default.redDot(),this.GetGameObject("btn_zhuangxiu").children[0].active=b.default.redDot(),this.GetGameObject("btn_dianpu").children[0].active=G.default.redDot(),this.last_red_dot_time=d.default.getServerTime())},x.prototype.updatedingpos=function(t){var e=this;t>=h.default.Instance().unlock_shop.length||this.GetGameObject("layout_dingdan_"+t).children.map(function(n,i){n.position=e.dingdanpos[t][i]})},x.prototype.del_dingdan_icon=function(t,e){var n=this.GetGameObject("layout_dingdan_"+t).children.find(function(t){return t.getComponent(m.default).did==e});n&&(this._dingdancount[t]--,D.default.Instance().put("DingDanCell",n),this.updatedingpos(t))},x.prototype.ani_dingdan=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var i,o,a=this.GetGameObject("layout_dingdan_"+t);if(!n&&10<=this._dingdancount[t]+h.default.Instance().tuanTiOrders[t].length)return!1;function s(t,e){t.state=u.FoodState.\u672a\u5904\u7406;var n=D.default.Instance().get("DingDanCell");n.position=e,n.parent=a,n.scale=.6,n.getComponent(m.default).setDingDan(t)}if(n)for(;this._dingdancount[t]<10&&0<h.default.Instance().tuanTiOrders[t].length;){g.default.Instance().createDDByShopID(t,h.default.Instance().tuanTiOrders[t].shift());var c=(i=g.default.Instance().getShopDDListByShopID(t))[i.length-1];this._dingdancount[t]++,s(c,this.dingdanpos[t][a.childrenCount])}else{if(0<h.default.Instance().tuanTiOrders[t].length)return;g.default.Instance().createDDByShopID(t),c=(i=g.default.Instance().getShopDDListByShopID(t))[i.length-1],this._dingdancount[t]++,e?(g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_count<h.GAME_CONFIG.zhuanpan_counts_max&&!g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_show&&(g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_random+=h.GAME_CONFIG.zhuanpan_random_base),this.GetSkeleton("jiedananniu").setAnimation(0,"jiedan",!1),this.GetSkeleton("jiedananniu").addAnimation(0,"idle",!0),(o=D.default.Instance().get("DingDanCell")).parent=this.node,o.getComponent(m.default).setDingDan(c),e=this.GetGameObject("btn_jiedan").parent.convertToWorldSpaceAR(this.GetGameObject("btn_jiedan").position.add(cc.v2(80,30))),o.position=this.node.convertToNodeSpaceAR(e),e=a.convertToWorldSpaceAR(this.dingdanpos[t][a.childrenCount]),e=this.node.convertToNodeSpaceAR(e),o.scale=1,o.runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,30)),cc.delayTime(.8),cc.callFunc(function(){o.removeFromParent(),D.default.Instance().put("DingDanCell",o)})))):g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_count<h.GAME_CONFIG.zhuanpan_counts_max&&!g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_show&&(g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_random+=h.GAME_CONFIG.zhuanpan_random_dianzhang),g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_count<h.GAME_CONFIG.zhuanpan_counts_max&&!g.default.Instance().getGameMGRByShopID(t).Instance().zhuanpan_show&&g.default.Instance().getGameMGRByShopID(t).Instance().checkForLunpan(),s(c,this.dingdanpos[t][a.childrenCount])}return!0},x.prototype.ani_cs_dingdan=function(t,e,n,i){for(var o,a=this.GetGameObject("layout_dingdan_"+t).children,s=this,c=0;c<a.length;++c)!function(){var r;a[c].active&&a[c].getComponent(m.default).did==e.id&&(r=D.default.Instance().get("DingDanCell"),o=s.GetGameObject("hotel_"+t).getChildByName("pos_chushi_"+(n-1)),r.parent=o,r.getComponent(m.default).setDingDan(e),o=o.convertToNodeSpaceAR(a[0].parent.convertToWorldSpaceAR(a[0].position)),r.position=o,r.scale=.6,i(),r.runAction(cc.sequence(cc.moveTo(.5,0,100),cc.callFunc(function(){r.removeFromParent(),D.default.Instance().put("DingDanCell",r)}))))}()},x.prototype.addTouch=function(){var t=this;this.UI.on(cc.Node.EventType.TOUCH_START,function(e){1<e.getTouches().length||(t.startPos=t.UI.position)},this),this.UI.on(cc.Node.EventType.TOUCH_MOVE,function(e){1<e.getTouches().length||t.GetGameObject("GodGuide")&&t.GetGameObject("GodGuide").getComponent("GodGuide").isGuiding||0<t.GetGameObject("UI").getChildByName("UI").childrenCount||(t.camera.x-=e.getDelta().x,t.UI.x-=e.getDelta().x,e=h.default.Instance().unlock_shop.length,10==h.default.Instance().unlock_shop.length&&e--,e*=750,t.camera.x<0?(t.camera.x=0,t.UI.x=0):t.camera.x>e&&(t.camera.x=e,t.UI.x=e))},this),this.UI.on(cc.Node.EventType.TOUCH_END,this.touchOver,this),this.UI.on(cc.Node.EventType.TOUCH_CANCEL,this.touchOver,this),this.UI._touchListener.setSwallowTouches(!1)},x.prototype.touchOver=function(){if(!(0<this.GetGameObject("UI").getChildByName("UI").childrenCount)){var t=this.UI.x-this.startPos.x;if(t<0&&100<=Math.abs(t))this.shopID>u.ShopID.\u9762\u9986&&(this.shopID=Math.floor(this.UI.x/750));else if(0<=t&&100<=Math.abs(t)){if(this.shopID>h.default.Instance().unlock_shop.length)return l.default.show("\u524d\u7f6e\u5e97\u94fa\u672a\u89e3\u9501\u65e0\u6cd5\u67e5\u770b"),void(this.shopID=h.default.Instance().unlock_shop.length-1);this.shopID<u.ShopID.MAX_ID-1&&(this.shopID=Math.floor(this.UI.x/750)+1)}this.turnToShop()}},x.prototype.turnToShop=function(){this.camera.position=this.GetGameObject("hotel_"+this.shopID).position,this.UI.position=this.GetGameObject("hotel_"+this.shopID).position,this.GetGameObject("UnlockLayer").active=this.shopID>=h.default.Instance().unlock_shop.length,this.GetGameObject("bottom").active=!this.GetGameObject("UnlockLayer").active,this.GetGameObject("UnlockLayer").active&&(this.GetGameObject("UnlockLayer").position=this.GetGameObject("hotel_"+this.shopID).position,this.updateShopUnlockLayer()),this.updateBtnArrow(),this.GetGameObject("btn_waimaiyuan").active=!this.GetGameObject("UnlockLayer").active&&!g.default.Instance().getGameMGRByShopID(this.shopID).Instance().checkForDDOver(),this.fps<cc.game.getFrameRate()/2?0==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1023:1==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1022:2==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1020:3==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1016:4==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1008:5==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-992:6==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-960:7==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-896:8==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-768:9==this.shopID&&(this.camera.getComponent(cc.Camera).cullingMask=-512):0==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1021:1==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1017:2==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-1010:3==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-996:4==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-968:5==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-912:6==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-800:7==this.shopID?this.camera.getComponent(cc.Camera).cullingMask=-576:this.camera.getComponent(cc.Camera).cullingMask=-128},x.prototype.updateShopUnlockLayer=function(){var t=u.default.Instance().getShopUnlockDataByShopID(this.shopID);this.GetGameObject("text_mianguan").active=c.Instance().shopID==u.ShopID.\u9762\u9986,this.GetGameObject("text_chaofanguan").active=c.Instance().shopID==u.ShopID.\u7092\u996d\u9986,this.GetGameObject("text_hanbaodian").active=c.Instance().shopID==u.ShopID.\u6c49\u5821\u5e97,this.GetGameObject("text_huoguodian").active=c.Instance().shopID==u.ShopID.\u706b\u9505\u5e97,this.GetGameObject("text_naichadian").active=c.Instance().shopID==u.ShopID.\u5976\u8336\u5e97,this.GetGameObject("text_niupaidian").active=c.Instance().shopID==u.ShopID.\u725b\u6392\u5e97,this.GetGameObject("text_xicanguan").active=c.Instance().shopID==u.ShopID.\u897f\u9910\u9986,this.GetGameObject("text_riliaoguan").active=c.Instance().shopID==u.ShopID.\u65e5\u6599\u9986,this.GetGameObject("text_zhongcanguan").active=c.Instance().shopID==u.ShopID.\u4e2d\u9910\u9986,this.GetGameObject("text_miqilin").active=c.Instance().shopID==u.ShopID.\u7c73\u5176\u6797,this.GetGameObject("text_mianguan_a").active=t.limitshop==u.ShopID.\u9762\u9986,this.GetGameObject("text_chaofanguan_a").active=t.limitshop==u.ShopID.\u7092\u996d\u9986,this.GetGameObject("text_hanbaodian_a").active=t.limitshop==u.ShopID.\u6c49\u5821\u5e97,this.GetGameObject("text_huoguodian_a").active=t.limitshop==u.ShopID.\u706b\u9505\u5e97,this.GetGameObject("text_naichadian_a").active=t.limitshop==u.ShopID.\u5976\u8336\u5e97,this.GetGameObject("text_niupaidian_a").active=t.limitshop==u.ShopID.\u725b\u6392\u5e97,this.GetGameObject("text_xicanguan_a").active=t.limitshop==u.ShopID.\u897f\u9910\u9986,this.GetGameObject("text_riliaoguan_a").active=t.limitshop==u.ShopID.\u65e5\u6599\u9986,this.GetGameObject("text_zhongcanguan_a").active=t.limitshop==u.ShopID.\u4e2d\u9910\u9986,this.GetGameObject("text_miqilin_a").active=t.limitshop==u.ShopID.\u7c73\u5176\u6797,this.SetText("lbl_shopunlock_limit",t.limitshoplv+""),this.SetText("lbl_shopunlock_coin",""+d.default.formatCoin(t.cost)),this.GetGameObject("lbl_shopunlock_coin").color=h.default.Instance().coin>=t.cost?cc.Color.WHITE:cc.Color.RED,h.default.Instance().unlock_shop[t.limitshop]&&h.default.Instance().unlock_shop[t.limitshop].lv>=t.limitshoplv?(this.GetGameObject("btn_jiesuo_shop").active=!0,this.GetGameObject("node_desc").active=!1):(this.GetGameObject("btn_jiesuo_shop").active=!1,this.GetGameObject("node_desc").active=!0)},x.prototype.showBtnWaimaiyuan=function(t){this.GetGameObject("btn_waimaiyuan").active=t},x.prototype.updateBtnArrow=function(){this.GetGameObject("btn_left").active=this.shopID>u.ShopID.\u9762\u9986,10==h.default.Instance().unlock_shop.length?this.GetGameObject("btn_right").active=this.shopID<h.default.Instance().unlock_shop.length-1:this.GetGameObject("btn_right").active=this.shopID<h.default.Instance().unlock_shop.length},x.prototype.showBtnBonus=function(t){this.GetGameObject("btn_bonus").active=t&&h.default.Instance().bonusDays<=h.default.Instance().busyDays,this.GetGameObject("btn_bonus").active&&(this.GetGameObject("lbl_bonus_time").active=0==h.default.Instance().isBonus,this.GetGameObject("img_bonus_xjdgz").active=0<h.default.Instance().isBonus)},x.prototype.showDayTime=function(t){this.GetGameObject("bg_game_time")&&(this.GetGameObject("bg_game_time").active=t)},x._instance=null,__decorate([o(cc.Prefab)],x.prototype,"dingdancell",void 0),i=c=__decorate([i],x);function x(){var t=null!==s&&s.apply(this,arguments)||this;return t.camera=null,t.UI=null,t.bRecorder=!1,t.bChoosed=!1,t.shopID=u.ShopID.\u9762\u9986,t.openBonusLayer=!1,t.dingdancell=null,t.startPos=cc.Vec2.ZERO,t.dingdanpos=[[],[],[],[],[],[],[],[],[],[]],t.fps=0,t.last_red_dot_time=0,t._dingdancount=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],t}a.default=i,cc._RF.pop()},{}],UIMenu:[function(t,e,n){"use strict";cc._RF.push(e,"b5f3dBc4cND1q7Rkj0q//X+","UIMenu");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("DataManager"),r=i("BaseUI"),u=i("AudioMgr"),h=i("ConfigManager"),l=i("MenuCell"),d=i("UIManager");i=(o=cc._decorator).ccclass,o=o.property,s=r.default,__extends(p,s),p.redDot=function(){for(var t=d.default.Instance().shopID,e=h.default.Instance().getShopAllFoodsIDByShopID(t),n=0;n<e.length;++n){var i=h.default.Instance().getFoodDataByID(e[n]);if(!c.default.Instance().checkForFoodUnlock(e[n])&&c.default.Instance().getShopLVByID(t)>=i.limit&&c.default.Instance().coin>=i.unlock)return!0}return!1},p.prototype.start=function(){var t=this;this.conent_node=this.GetGameObject("content");for(var e=d.default.Instance().shopID,n=h.default.Instance().getShopAllFoodsIDByShopID(e),i=this,o=0;o<n.length;++o)!function(o){i.node.runAction(cc.sequence(cc.delayTime(.05*o),cc.callFunc(function(){var i=cc.instantiate(t.pre_cell);i.parent=t.conent_node,i.name="MenuCell"+o,i.getComponent(l.default).setData(e,n[o])})))}(o)},p.prototype.onBtnClicked=function(t,e){s.prototype.onBtnClicked.call(this,t,e),u.default.Instance().playSFX(c.GAME_CONFIG.music_click)},__decorate([o(cc.Prefab)],p.prototype,"pre_cell",void 0),i=__decorate([i],p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.pre_cell=null,t.conent_node=null,t}a.default=i,cc._RF.pop()},{}],UIOrder:[function(t,e,n){"use strict";cc._RF.push(e,"c32a68oTVlAlIqJqEpB10SZ","UIOrder");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("DataManager"),r=i("BaseUI"),u=i("AudioMgr"),h=i("ConfigManager"),l=i("GameManager"),d=i("UIManager"),p=i("OrderCell");i=(o=cc._decorator).ccclass,o=o.property,s=r.default,__extends(f,s),f.prototype.start=function(){var t=this;this.conent_node=this.GetGameObject("content"),this.node.runAction(cc.sequence(cc.callFunc(function(){t.updateAllOrderInfo()}),cc.delayTime(this.UPDATE_TIME)).repeatForever()),this.rigester("GAME_BUSY_CLOSE",function(){t.closeUI()})},f.prototype.onBtnClicked=function(t,e){s.prototype.onBtnClicked.call(this,t,e),u.default.Instance().playSFX(c.GAME_CONFIG.music_click)},f.prototype.updateAllOrderInfo=function(){for(var t=this,e=d.default.Instance().shopID,n=l.default.Instance().getShopDDListByShopID(e),i=[],o=0;o<n.length;++o){var a=n[o];a.state<=h.FoodState.\u6253\u5305\u4e2d&&a.state!=h.FoodState.\u56e2\u4f53\u70f9\u996a\u5b8c\u6210&&i.push(a)}this.conent_node.children.map(function(t){t.active=!1});for(var s=0,c=this,r=0;r<Math.min(i.length,10);++r)!function(n){var o=i[n];c.conent_node.children[n]?(c.conent_node.children[n].active=!0,c.conent_node.children[n].getComponent(p.default).setData(e,o)):(c.node.runAction(cc.sequence(cc.delayTime(.05*s),cc.callFunc(function(){cc.instantiate(t.pre_cell).parent=t.conent_node,t.conent_node.children[n].getComponent(p.default).setData(e,o)}))),++s)}(r);this.GetGameObject("text_zwrhdd").active=0==i.length},__decorate([o(cc.Prefab)],f.prototype,"pre_cell",void 0),i=__decorate([i],f);function f(){var t=null!==s&&s.apply(this,arguments)||this;return t.pre_cell=null,t.conent_node=null,t.UPDATE_TIME=3,t}a.default=i,cc._RF.pop()},{}],UIPeiSong:[function(t,e,n){"use strict";cc._RF.push(e,"d2f68KHsa9FQZ2O/ga88HoS","UIPeiSong");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=i("DataManager"),u=i("BaseUI"),h=i("AudioMgr"),l=i("ConfigManager"),d=i("GameManager"),p=i("UIManager"),f=i("PeiSongCell");i=(o=cc._decorator).ccclass,o=o.property,s=u.default,__extends(_,s),(c=_).Instance=function(){return c._uipeisong},_.prototype.start=function(){var t=this;(c._uipeisong=this).cell_count=0,this.conent_node=this.GetGameObject("content"),this.rigester("ADD_PEISONGCELL",function(e,n){if(!(10<t.cell_count)&&e==p.default.Instance().shopID){for(var i=t.conent_node.children,o=0;o<i.length;++o)if(i[o].getComponent(f.default).dingdan.id==n.id)return;var a=cc.instantiate(t.pre_cell);a.parent=t.conent_node,a.getComponent(f.default).setData(e,n),t.cell_count++,console.log("!!!!!!!!!\u6dfb\u52a0\u4e86",n)}}),this.updateAllOrderInfo(),this.rigester("GAME_BUSY_CLOSE",function(){t.closeUI()})},_.prototype.onBtnClicked=function(t,e){s.prototype.onBtnClicked.call(this,t,e),h.default.Instance().playSFX(r.GAME_CONFIG.music_click)},_.prototype.updateAllOrderInfo=function(){for(var t=this,e=p.default.Instance().shopID,n=d.default.Instance().getShopDDListByShopID(e),i=this,o=0;o<Math.min(n.length,10);++o)!function(o){n[o].state>=l.FoodState.\u6253\u5305\u5b8c\u6210&&n[o].state<l.FoodState.\u8fdb\u95e8\u4e2d&&i.node.runAction(cc.sequence(cc.delayTime(.05*o),cc.callFunc(function(){var i;cc.isValid(t.node)&&n[o]&&((i=cc.instantiate(t.pre_cell)).parent=t.conent_node,i.getComponent(f.default).setData(e,n[o]),t.cell_count++)})))}(o)},_._uipeisong=null,__decorate([o(cc.Prefab)],_.prototype,"pre_cell",void 0),i=c=__decorate([i],_);function _(){var t=null!==s&&s.apply(this,arguments)||this;return t.pre_cell=null,t.conent_node=null,t.cell_count=null,t}a.default=i,cc._RF.pop()},{}],UIStaff:[function(t,e,n){"use strict";cc._RF.push(e,"f2abdg4Y6VHGrfq5vqhhv98","UIStaff");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c,r=i("DataManager"),u=i("BaseUI"),h=i("AudioMgr"),l=i("ConfigManager"),d=i("StaffCell"),p=i("CookCell"),f=i("PackageCell"),_=i("MgrCell"),m=i("UIManager");i=(o=cc._decorator).ccclass,o=o.property,s=u.default,__extends(g,s),(c=g).redDot=function(){var t=!1,e=!1,n=!1,i=!1;if(s=r.default.Instance().unlock_shop[m.default.Instance().shopID]){for(var o=l.default.Instance().Waimaiyuan.filter(function(t){return t.shop==m.default.Instance().shopID}),a=0;a<o.length;++a)if(o[a].lv==s.waimaiyuanlv+1){r.default.Instance().coin>=o[a].cost&&r.default.Instance().unlock_shop[m.default.Instance().shopID].lv>=o[a].limit&&(t=!0);break}var s=r.default.Instance().unlock_shop[m.default.Instance().shopID];for(a=0;a<3;++a){var c,u=r.default.Instance().getShopCSLVByID(m.default.Instance().shopID,a+1);0==u?(c=l.default.Instance().getShopChushiDataByShopID(m.default.Instance().shopID,u,a+1),r.default.Instance().coin>=c.unlockcost&&s.lv>=c.unlocklimit&&(e=!0)):(u=l.default.Instance().getShopChushiDataByShopID(m.default.Instance().shopID,u+1,a+1))&&r.default.Instance().coin>=u.cost&&s.lv>=u.limit&&(e=!0)}var h=l.default.Instance().Shouyinyuan.filter(function(t){return t.shop==m.default.Instance().shopID});for(a=0;a<h.length;++a)if(h[a].lv==s.shouyinyuanlv+1){r.default.Instance().coin>=h[a].cost&&r.default.Instance().unlock_shop[m.default.Instance().shopID].lv>=h[a].limit&&(n=!0);break}var d=l.default.Instance().Dianzhang.filter(function(t){return t.shop==m.default.Instance().shopID});for(a=0;a<d.length;++a)if(d[a].lv==s.dianzhanglv+1){r.default.Instance().coin>=d[a].cost&&r.default.Instance().unlock_shop[m.default.Instance().shopID].lv>=d[a].limit&&(i=!0);break}}return{sy:n,dz:i,cs:e,wm:t,yg:n||i||e||t}},g.prototype.onDestroy=function(){s.prototype.onDestroy.call(this),3==r.default.Instance().guideIndex&&m.default.Instance().node.getComponent("LoadGuide").runTask(r.default.Instance().guideIndex)},g.prototype.start=function(){var t=this;this.page_1=this.GetGameObject("page_1"),this.page_2=this.GetGameObject("page_2"),this.page_3=this.GetGameObject("page_3"),this.page_4=this.GetGameObject("page_4"),this.clickPage_waimai(),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){var e=(o=c.redDot()).sy,n=o.dz,i=o.cs,o=o.wm;t.GetGameObject("img_reddot_wm").active=o,t.GetGameObject("img_reddot_cs").active=i,t.GetGameObject("img_reddot_syw").active=e,t.GetGameObject("img_reddot_dz").active=n})).repeatForever())},g.prototype.onBtnClicked=function(t,e){switch(s.prototype.onBtnClicked.call(this,t,e),h.default.Instance().playSFX(r.GAME_CONFIG.music_click),t.target.name){case"btn_waimaiyuan":this.clickPage_waimai();break;case"btn_chushi":this.clickPage_chushi();break;case"btn_shouyingyuan":this.clickPage_shouying();break;case"btn_dianzhang":this.clickPage_dianzhang()}},g.prototype.setAllButton=function(){this.GetButton("btn_waimaiyuan").interactable=!0,this.GetButton("btn_chushi").interactable=!0,this.GetButton("btn_shouyingyuan").interactable=!0,this.GetButton("btn_dianzhang").interactable=!0,this.page_1.active=!1,this.page_2.active=!1,this.page_3.active=!1,this.page_4.active=!1},g.prototype.clickPage_waimai=function(){var t=this;this.setAllButton(),this.GetButton("btn_waimaiyuan").interactable=!1,this.page_1.active=!0;var e=this.GetGameObject("content_waimai");e.removeAllChildren();for(var n=l.default.Instance().Waimaiyuan.filter(function(t){return t.shop==m.default.Instance().shopID}),i=this,o=0;o<n.length;++o)!function(o){i.node.runAction(cc.sequence(cc.delayTime(.05*o),cc.callFunc(function(){var i;e.activeInHierarchy&&((i=cc.instantiate(t.pre_cell)).parent=e,i.name="StaffCell"+o,i.getComponent(d.default).setData(n[o]))})))}(o)},g.prototype.clickPage_chushi=function(){var t=this;this.setAllButton(),this.GetButton("btn_chushi").interactable=!1,this.page_2.active=!0;var e=this.GetGameObject("content_chushi");e.removeAllChildren(),l.default.Instance().Chushi.filter(function(t){return t.shop==m.default.Instance().shopID});for(var n=this,i=0;i<3;++i)!function(i){n.node.runAction(cc.sequence(cc.delayTime(.05*i),cc.callFunc(function(){var n;e.activeInHierarchy&&((n=cc.instantiate(t.pre_cell_cook)).parent=e,n.getComponent(p.default).setCookData(i))})))}(i)},g.prototype.clickPage_shouying=function(){var t=this;this.setAllButton(),this.GetButton("btn_shouyingyuan").interactable=!1,this.page_3.active=!0;var e=this.GetGameObject("content_shouying");e.removeAllChildren();for(var n=l.default.Instance().Shouyinyuan.filter(function(t){return t.shop==m.default.Instance().shopID}),i=this,o=0;o<n.length;++o)!function(o){i.node.runAction(cc.sequence(cc.delayTime(.05*o),cc.callFunc(function(){var i;e.activeInHierarchy&&((i=cc.instantiate(t.pre_cell_package)).parent=e,i.getComponent(f.default).setPackageData(n[o]))})))}(o)},g.prototype.clickPage_dianzhang=function(){var t=this;this.setAllButton(),this.GetButton("btn_dianzhang").interactable=!1,this.page_4.active=!0;var e=this.GetGameObject("content_dianzhang");e.removeAllChildren();for(var n=l.default.Instance().Dianzhang.filter(function(t){return t.shop==m.default.Instance().shopID}),i=this,o=0;o<n.length;++o)!function(o){i.node.runAction(cc.sequence(cc.delayTime(.05*o),cc.callFunc(function(){var i;e.activeInHierarchy&&((i=cc.instantiate(t.pre_cell_mgr)).parent=e,i.name="MgrCell"+o,i.getComponent(_.default).setMgrData(n[o]))})))}(o)},__decorate([o(cc.Prefab)],g.prototype,"pre_cell",void 0),__decorate([o(cc.Prefab)],g.prototype,"pre_cell_cook",void 0),__decorate([o(cc.Prefab)],g.prototype,"pre_cell_package",void 0),__decorate([o(cc.Prefab)],g.prototype,"pre_cell_mgr",void 0),i=c=__decorate([i],g);function g(){var t=null!==s&&s.apply(this,arguments)||this;return t.pre_cell=null,t.pre_cell_cook=null,t.pre_cell_package=null,t.pre_cell_mgr=null,t.page_1=null,t.page_2=null,t.page_3=null,t.page_4=null,t}a.default=i,cc._RF.pop()},{}],UITaskReward:[function(t,e,n){"use strict";cc._RF.push(e,"24cfcFLb2FDvozCVLwr2NE7","UITaskReward");var i,o=t,a=n,s=t("Advertisement_API");Object.defineProperty(a,"__esModule",{value:!0});var c,r=o("BaseUI"),u=o("Utils"),h=o("DataManager"),l=o("MsgHints"),d=o("AdCenter");o=(i=cc._decorator).ccclass,i.property,c=r.default,__extends(p,c),p.prototype.setReward=function(t,e){this.value=t,this.key=e,this.SetText("lbl_coin",u.default.formatCoin(t)),this.SetText("lbl_coin_x2",u.default.formatCoin(2*t))},p.prototype.onBtnClicked=function(t,e){var n=this;switch(t.target.name){case"btn_close":this.closeUI();break;case"btn_get":h.default.Instance().taskInfo[this.key].status=2,h.default.Instance().savedata(),this.dispatch("UPDATE_TASK_LIST"),h.default.Instance().changeGameCoin(this.value),l.default.show("\u9886\u53d6\u6210\u529f"),this.closeUI();break;case"btn_get_double":null==s.videoAd&&(s.videoAd=qg.createRewardedVideoAd({posId:shipinID}),s.videoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5df2\u52a0\u8f7d"),cc.audioEngine.pauseAll();var t=s.videoAd.show();s.reward=!0,t&&t.then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u5931\u8d25",t)})}),s.videoAd.onError(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38",t)}),s.videoAd.onClose(function(t){t&&t.isEnded?s.reward&&d.default.Instance().play(0,function(t){t&&(h.default.Instance().taskInfo[n.key].status=2,h.default.Instance().savedata(),n.dispatch("UPDATE_TASK_LIST"),h.default.Instance().changeGameCoin(2*n.value),l.default.show("\u9886\u53d6\u6210\u529f"),n.closeUI())}):(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),cc.audioEngine.resumeAll())}));var i=s.videoAd.load();i&&i.then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)})}},o=__decorate([o],p);function p(){var t=null!==c&&c.apply(this,arguments)||this;return t.key="",t.value=0,t}a.default=o,cc._RF.pop()},{Advertisement_API:"Advertisement_API"}],UITuanTiOrder:[function(t,e,n){"use strict";cc._RF.push(e,"78a5dKrdTxM8412+95DLo3u","UITuanTiOrder");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("Utils"),h=o("DataManager"),l=o("AdCenter");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(d,s),d.prototype.setTuanTiOrder=function(t){return __awaiter(this,void 0,void 0,function(){var e,n,i,o,a,s,c,h,l,d,p=this;return __generator(this,function(f){switch(f.label){case 0:for(this._opentime=u.default.getServerTime(),this.shopid=t,e=r.default.Instance().getShopAllFoodsIDByShopID(t,!0),n=u.default.getRandomInt(3,5),n=Math.min(n,e.length),u.default.shuffle(e),i=0;i<4;++i)this.GetGameObject("New Node").children[i].active=!1;o=0,f.label=1;case 1:return o<n?(a=e[o],s=u.default.getRandomInt(10,31),(h=this.GetGameObject("New Node").children[o]).active=!0,c=r.default.Instance().getFoodDataByID(a),h.getChildByName("New Label").getComponent(cc.Label).string=c.name,h.getChildByName("text_ddsl").getChildByName("font1").getComponent(cc.Label).string=s+"",h=h.getChildByName("spr_icon").getComponent(cc.Sprite),[4,u.default.loadRes("foods/"+c.icon,cc.SpriteFrame)]):[3,4];case 2:for(h.spriteFrame=f.sent(),l=0;l<s;++l)this.tmporders.push(a);f.label=3;case 3:return++o,[3,1];case 4:return d=3,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){--d<0?p.GetGameObject("lbl_close_time").active=!1:p.SetText("lbl_close_time",d+"\u79d2\u540e\u53ef\u5173\u95ed")})).repeatForever()),[2]}})})},d.prototype.onBtnClicked=function(t,e){var n=this;t=t.target.name;switch(h.default.Instance().tuanTiStatus[this.shopid]=1,t){case"btn_close":if(u.default.getServerTime()-this._opentime<3e3)return;this.closeUI();break;case"btn_yellow":l.default.Instance().play(0,function(t){t&&((t=h.default.Instance().tuanTiOrders[n.shopid]).push.apply(t,n.tmporders),n.closeUI())}),this.reward3("btn_yellow")}},d.prototype.reward3=function(t,e){var n=this;t=t.target.name;l.default.Instance().play(0,function(t){t&&((t=h.default.Instance().tuanTiOrders[n.shopid]).push.apply(t,n.tmporders),n.closeUI())})},o=__decorate([o],d);function d(){var t=null!==s&&s.apply(this,arguments)||this;return t.tmporders=[],t._opentime=0,t}a.default=o,cc._RF.pop()},{}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"ff748PS7+hEIIiRCFvCwbSy","Utils");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s=o("Shake"),c=o("lzw"),r=o("DataManager"),u=o("BaseUI"),h=window.wx||window.tt;l.createUI=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new Promise(function(i,o){cc.loader.loadRes(t,cc.Prefab,function(t,a){var s;t?o():(s=cc.instantiate(a),null==e&&(e=cc.find("Canvas/UI/UI")),s.opacity=0,s.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){s.opacity=255}))),s.parent=e,n&&n(s),i(s))})})},l.closeAllUI=function(){for(var t=cc.find("Canvas/UI/UI"),e=0;e<t.childrenCount;++e){var n=t.children[e].getComponent(u.default);n&&n.closeUI()}},l.getRandom=function(t,e){return Math.random()*(e-t)+t},l.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},l.seedRandom=function(){return l.getRandom(0,1)},l.seedRandomInt=function(t,e){return l.getRandomInt(t,e)},l.rnd=function(t){return(9301*t+49297)%233280/233280},l.formatNumber=function(t,e){void 0===e&&(e=1),t=Math.floor(t);for(var n,i,o="",a=[],s=["k","m","b","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","ba","bb","bc","bd","be","bf","bg","bh","bi","bk","bl","bm","bn","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","ca","cb","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","cn"],c=1;c<69;c++){var r=[];r.push(3*c),r.push(3*c+3),a.push(r)}if(t<this.getPowNum(3))return t.toString();for(c=0;c<a.length;c++)if(t>=this.getPowNum(a[c][0])&&t<this.getPowNum(a[c][1])){i=a[c][0],o=s[c];break}return n=t/this.getPowNum(i),2==e?Math.floor(100*n)/100+o:Math.floor(10*n)/10+o},l.getPowNum=function(t){return Math.pow(10,t)},l.deepCopy=function(t){var e,n=Array.isArray(t)?[]:{};for(e in t)t.hasOwnProperty(e)&&("object"==i(t[e])?n[e]=l.deepCopy(t[e]):n[e]=t[e]);return n},l.setServerTime=function(t){l.timeOffset=t-(new Date).getTime(),cc.log("timeOffset:",l.timeOffset)},l.getServerTime=function(){return(new Date).getTime()+l.timeOffset},l.Shake=function(t,e,n){var i=cc.find("Canvas/Main Camera");i.x=0,i.y=0,i.stopAllActions(),i.runAction(s.Shake.create(t,e,n))},l.base64decode=function(t){var e,n,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",r=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<t.length;)e=s.indexOf(t.charAt(r++))<<2|(i=s.indexOf(t.charAt(r++)))>>4,n=(15&i)<<4|(o=s.indexOf(t.charAt(r++)))>>2,i=(3&o)<<6|(a=s.indexOf(t.charAt(r++))),c+=String.fromCharCode(e),64!=o&&(c+=String.fromCharCode(n)),64!=a&&(c+=String.fromCharCode(i));return this.utf8decode(c)},l.utf8decode=function(t){for(var e,n,i="",o=0,a=0;o<t.length;)(e=t.charCodeAt(o))<128?(i+=String.fromCharCode(e),o++):191<e&&e<224?(a=t.charCodeAt(o+1),i+=String.fromCharCode((31&e)<<6|63&a),o+=2):(a=t.charCodeAt(o+1),n=t.charCodeAt(o+2),i+=String.fromCharCode((15&e)<<12|(63&a)<<6|63&n),o+=3);return i},l.addClickEvent=function(t,e,n,i,o){var a=new cc.Component.EventHandler;a.target=e,a.component=n,a.handler=i,o&&(a.customEventData=o),0<(t=t.getComponent(cc.Button).clickEvents).length&&cc.error("\u540c\u4e00\u6309\u94ae\u7ed1\u5b9a\u591a\u4e2a\u56de\u8c03\uff0c\u8bf7\u68c0\u67e5"),t.push(a)},l.CompressStr=function(t){return c.lzw_compress(t)},l.DecompressStr=function(t){return c.lzw_decompress(t)},l.printBones=function(t){console.log(t.data.name);for(var e=0;e<t.children.length;++e)l.printBones(t.children[e])},l.wxShare=function(t){void 0===t&&(t=null);var e=["\u4e09\u56fd\u4e71\u4e16\uff0c\u7fa4\u96c4\u8d77\u4e49\u3002\u79e3\u5175\u5389\u9a6c\uff0c\u5f81\u6218\u5929\u4e0b"],n=["https://chkfm.oss-cn-shenzhen.aliyuncs.com/sgtd.png"];window.tt?h.shareAppMessage({templateId:"62karrco26p4ke1ddh",title:"\u4e09\u56fd\u4e71\u4e16\uff0c\u7fa4\u96c4\u8d77\u4e49\u3002\u79e3\u5175\u5389\u9a6c\uff0c\u5f81\u6218\u5929\u4e0b",desc:e[l.getRandomInt(0,e.length)],imageUrl:"https://chkfm.oss-cn-shenzhen.aliyuncs.com/sgtd.png",query:"",success:function(){t(!0),r.default.Instance().share_count++,r.default.Instance().share_count_total++},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25")}}):(cc.sys.platform==cc.sys.WECHAT_GAME&&(n=n[l.getRandomInt(0,n.length)],h.shareAppMessage({title:e[l.getRandomInt(0,e.length)],imageUrl:n})),r.default.Instance().share_count++,r.default.Instance().share_count_total++,t(!0))},l.cloneObj=function(t){return t=JSON.stringify(t),JSON.parse(t)},l.getTimeStrByS=function(t){(t=Math.floor(t))<0&&(t=0);var e=Math.floor(t/3600/24);t-=3600*e*24;var n=Math.floor(t/3600);t-=3600*n;var i=Math.floor(t/60),o=9<i?""+i:"0"+i;t=9<(t-=60*i)?""+t:"0"+t;return 0<e?e+"\u5929"+n+"\u5c0f\u65f6"+i+"\u5206\u949f":0<n?(9<n?""+n:"0"+n)+":"+o+":"+t:o+":"+t},l.getClockStrByS=function(t){(t=Math.floor(t))<0&&(t=0);var e=Math.floor(t/3600);t-=3600*e;var n=Math.floor(t/60);return t-=60*n,(9<e?""+e:"0"+e)+":"+(9<n?""+n:"0"+n)},l.checkObjEmpty=function(t){if(t){for(var e in t)return!1;return!0}return!0},l.checkOrderOver=function(t){var e=new Date(t);t=new Date(l.getServerTime());return e.getFullYear()!=t.getFullYear()||e.getMonth()!=t.getMonth()||e.getDate()!=t.getDate()},l.formatCoin=function(t){return 1e9<=(t=Math.floor(t))?((t/1e9).toFixed(2)+"\u4ebf").replace(".00",""):1e5<=t?((t/1e4).toFixed(2)+"\u4e07").replace(".00",""):""+t},l.iosPurchaseVIP=function(){jsb.reflection.callStaticMethod("JSVC","jsMethod")},l.getIOSID=function(){jsb.reflection.callStaticMethod("JSVC","getID")},l.uploadUserData=function(t){cc.sys.platform===cc.sys.WECHAT_GAME&&h.cloud.callFunction({name:"uploadUserData",data:{data:t},success:function(t){},fail:function(t){console.error("upload data failed",t)}})},l.getRankList=function(t){cc.sys.platform===cc.sys.WECHAT_GAME&&h.cloud.callFunction({name:"getRankList",success:function(t){console.log("getRankList:",t)},fail:function(t){console.error("upload data failed",t)}})},l.getPosDistance=function(t,e){var n=Math.abs(e.x-t.x);t=Math.abs(e.y-t.y);return Math.floor(Math.sqrt(Math.pow(n,2)+Math.pow(t,2)))},l.loadRes=function(t,e){return new Promise(function(n,i){cc.loader.loadRes(t,e,function(t,e){t?(console.error(t),i(null)):n(e)})})},l.shuffle=function(t){for(var e=t.length-1;0<=e;e--){var n=Math.floor(Math.random()*(e+1)),i=t[n];t[n]=t[e],t[e]=i}return t},l.getDate=function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1;return n+"-"+(i<10?"0"+i:i)+"-"+((t=e.getDate())<10?"0"+t:t)+" "+e.toTimeString().substr(0,8)},l.seed=5,l.timeOffset=0,o=l;function l(){}a.default=o,cc._RF.pop()},{}],WXTTUtils:[function(t,e,n){"use strict";cc._RF.push(e,"647bfvDsq9CtLpvK8111IAb","WXTTUtils");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});o=i("Singleton");var s,c=i("DataManager"),r=i("HTTP"),u=i("MsgHints"),h=i("Utils"),l=i("GameEvent"),d=i("MsgBox"),p=window.wx||window.tt;(i=cc._decorator).ccclass,i.property,(i=s=a.WXTT_ACTION||(a.WXTT_ACTION={}))[i.UPLOAD=0]="UPLOAD",i[i.DOWNLOAD=1]="DOWNLOAD";var f;f=o.default,__extends(_,f),_.prototype.LoginWxOrTT=function(){if(cc.sys.os==cc.sys.OS_WINDOWS)return c.default.Instance().openid=_.guid(),cc.log("window \u6388\u6743\u6210\u529f"),void l.default.Instance().dispatch("SDK_LOGIN_SUCC");p.login({success:function(t){c.default.Instance().js_code=t.code,p.getUserInfo({success:function(t){t=(e=t.userInfo).nickName;var e=e.avatarUrl;c.default.Instance().nickname=t,c.default.Instance().headimg=e,l.default.Instance().dispatch("SDK_LOGIN_SUCC")},fail:function(t){h.default.createUI("prefab/UI/AuthorizeLayer")}})},fail:function(){h.default.createUI("prefab/UI/AuthorizeLayer")}})},_.prototype.tryAuthorize=function(){var t=this;return new Promise(function(e,n){""==c.default.Instance().openid?(console.log("\u672a\u6388\u6743"),l.default.Instance().unregister(t,"SDK_LOGIN_SUCC"),l.default.Instance().register(t,"SDK_LOGIN_SUCC",function(){e()}),t.LoginWxOrTT()):e()})},_.prototype.dealData=function(t,e,n){var i=this;void 0===e&&(e=null),void 0===n&&(n=[]),console.log("\u4e0a\u4f20/\u4e0b\u8f7d\u6570\u636e"),""==c.default.Instance().openid?(console.log("\u672a\u6388\u6743"),l.default.Instance().unregister(this,"SDK_LOGIN_SUCC"),l.default.Instance().register(this,"SDK_LOGIN_SUCC",function(){console.log("\u6388\u6743\u6210\u529f\uff0c\u94fe\u63a5\u6e38\u620f\u670d\u52a1\u5668"),i.loginGameServer(t,e,n)}),this.LoginWxOrTT()):this.loginGameServer(t,e,n)},_.prototype.UploadData=function(t,e){var n=this;void 0===e&&(e=[]),this.nLastUpLoadTime=h.default.getServerTime();for(var i={account:c.default.Instance().openid,data:JSON.stringify(t)},o=0;o<e.length;++o)i[e[o]]=t[e[o]];i.account=c.default.Instance().openid,i.name=c.default.Instance().nickname,i.headimg=c.default.Instance().headimg,r.default.post("update_player_info",i,function(t){n.show_upload_tip&&u.default.show("\u4e0a\u4f20\u6570\u636e\u6210\u529f"),n.show_upload_tip=!1,cc.sys.localStorage.setItem("server_save_time",h.default.getServerTime())})},_.prototype.DownLoadData=function(){r.default.sendRequest("get_user_data",{account:c.default.Instance().openid},function(t){if(t.data)try{var e=JSON.parse(t.data);console.log("\u4e0b\u8f7d\u6570\u636e\u5b8c\u6210",e),c.default.Instance().setData(e),cc.sys.localStorage.setItem("server_save_time",t.updatetime),d.default.show("\u4e0b\u8f7d\u6570\u636e\u5b8c\u6210,\u6e38\u620f\u9700\u8981\u91cd\u542f",function(t){cc.director.loadScene("loading")},!1)}catch(t){console.log(t)}else d.default.show("\u670d\u52a1\u5668\u6ca1\u6709\u5b58\u6863")})},_.prototype.loginGameServer=function(t,e,n){var i=this;function o(){t==s.DOWNLOAD&&i.DownLoadData(),e&&t==s.UPLOAD&&i.UploadData(e,n)}void 0===e&&(e=null),void 0===n&&(n=[]),cc.sys.os==cc.sys.OS_WINDOWS?r.default.sendRequest("login",{account:c.default.Instance().openid},function(t){console.log("login:",t),0==t.errcode?(o(),h.default.setServerTime(t.time)):u.default.show(t.errmsg)},null,function(){u.default.show("\u94fe\u63a5\u670d\u52a1\u5668\u8d85\u65f6,\u8bf7\u7a0d\u540e\u518d\u8bd5!")}):""!=c.default.Instance().openid?o():r.default.sendRequest("login",{js_code:c.default.Instance().js_code,name:c.default.Instance().nickname,headimg:c.default.Instance().headimg},function(t){console.log("login:",t),0==t.errcode?(t.ret.account?(c.default.Instance().openid=t.ret.account,o()):console.log("js_code \u6362\u53d6 openid \u670d\u52a1\u5668\u9a8c\u8bc1\u5931\u8d25"),h.default.setServerTime(t.time)):u.default.show(t.errmsg)},null,function(){u.default.show("\u94fe\u63a5\u670d\u52a1\u5668\u8d85\u65f6,\u8bf7\u7a0d\u540e\u518d\u8bd5!")})},_.createAuthorizeBtn=function(t,e){var n=cc.size(t.width,t.height),i=cc.view.getFrameSize(),o=cc.director.getWinSize(),a=(.5*o.width+t.x-.5*n.width)/o.width*i.width,s=(.5*o.height-t.y-.5*n.height)/o.height*i.height;t=n.width/o.width*i.width,i=n.height/o.height*i.height;return(i=p.createUserInfoButton({type:"text",text:"",style:{left:a,top:s,width:t,height:i,lineHeight:20,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}})).onTap(function(){e()}),i},_.S4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},_.guid=function(){var t=cc.sys.localStorage.getItem("uid");return t||(t=this.S4()+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4(),cc.sys.localStorage.setItem("uid",t)),t},_.showMoreGame=function(){"ios"!==p.getSystemInfoSync().platform&&p.showMoreGamesModal({appLaunchOptions:[],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}})},o=_;function _(){var t=null!==f&&f.apply(this,arguments)||this;return t.nLastUpLoadTime=0,t.show_upload_tip=!1,t}a.default=o,cc._RF.pop()},{}],ZhuanpanLayer:[function(t,e,n){"use strict";cc._RF.push(e,"112f7/bVbBOk488WbFcDwaQ","ZhuanpanLayer");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=i("BaseUI"),r=i("DataManager"),u=i("AudioMgr"),h=i("Utils"),l=i("AdCenter"),d=i("GameManager");i=(o=cc._decorator).ccclass,o=o.property,s=c.default,__extends(p,s),p.prototype.start=function(){this.showBoxAward(!1),this.moreCount=0,this.dice=0,this.noClose=!1,this.GetGameObject("img_bfsp_more").active=0<this.moreCount},p.prototype.onBtnClicked=function(t,e){var n=this;switch(s.prototype.onBtnClicked.call(this,t,e),t=t.target.name,u.default.Instance().playSFX(r.GAME_CONFIG.music_click),t){case"btn_random":this.doShaizi();break;case"btn_more":this.moreCount<r.GAME_CONFIG.zhuanpan_free_counts?(this.showBoxAward(!1),this.doShaizi(),this.moreCount++,this.GetGameObject("img_bfsp_more").active=this.moreCount>=r.GAME_CONFIG.zhuanpan_free_counts):l.default.Instance().play(0,function(t){t&&cc.isValid(n.node)&&(n.showBoxAward(!1),n.doShaizi())});break;case"btn_ok":this.reward8("btn_ok");break;case"btn_fq":this.showBoxAward(!1),this.closeUI(),d.default.Instance().getGameMGRByShopID(this.shopID).Instance().showBtnLunpan(!1)}},p.prototype.reward8=function(t,e){var n=this;l.default.Instance().play(0,function(t){t&&(n.showBoxAward(!1),r.default.Instance().changeGameCoin(n.income),d.default.Instance().getGameMGRByShopID(n.shopID).Instance().showBtnLunpan(!1),h.default.createUI("prefab/GetAward"),n.closeUI())})},p.prototype.initBox=function(t){this.shopID=t,this.spineNode=this.GetSkeleton("spine"),this.initPosTable(),this.index=h.default.getRandomInt(0,this.pos_table.length),this.GetGameObject("spine").position=this.GetGameObject(""+this.index).position,this.changeSpineForward(),this.showGeziInfo(),this.spineNode.setAnimation(0,"daiji",!0),this.GetSkeleton("btn_random").setAnimation(0,"daiji",!0)},p.prototype.initPosTable=function(){for(var t=0;t<this.pos_table.length;++t)this.GetGameObject(""+t)&&(0==this.pos_table[t]?(this.GetSprite("img_gezi_"+t).spriteFrame=this.frame_gezi_red,this.GetGameObject("img_qianbi_"+t).active=!1,this.GetGameObject("wenhao_"+t).active=!0,this.GetGameObject("text_"+t).active=!1):(this.GetSprite("img_gezi_"+t).spriteFrame=this.frame_gezi_yellow,this.GetGameObject("img_qianbi_"+t).active=!0,this.GetSprite("img_qianbi_"+t).spriteFrame=this["frame_qian_"+this.pos_table[t]],this.GetGameObject("wenhao_"+t).active=!1,this.GetGameObject("text_"+t).active=!0,this.SetSprite("text_"+t,"texture2/UI/text_"+this.pos_table[t]+"fz")))},p.prototype.doShaizi=function(){var t=this;this.noClose||(this.noClose=!0,this.dice=h.default.getRandomInt(1,7),this.GetSkeleton("btn_random").setAnimation(0,""+this.dice,!1),this.GetSkeleton("btn_random").setCompleteListener(function(){t.GetSkeleton("btn_random").setCompleteListener(null),t.GetGameObject("spine").stopAllActions(),t.spineNode.setAnimation(0,"zoulu",!0),0==t.pos_table[t.index]?t.GetGameObject("wenhao_"+t.index).active=!0:(t.GetGameObject("img_qianbi_"+t.index).active=!0,t.GetGameObject("text_"+t.index).active=!0),t.doMove()}))},p.prototype.doMove=function(){var t=this,e=this.GetGameObject(""+(this.index+1>=this.pos_table.length?0:this.index+1)).position;this.GetGameObject("spine").runAction(cc.sequence(cc.moveTo(.5,e),cc.callFunc(function(){t.dice--,t.index++,t.index>=t.pos_table.length&&(t.index=0),t.dice<=0?(t.GetGameObject("spine").stopAllActions(),t.spineNode.setAnimation(0,"daiji",!0),t.showBoxAward(!0),t.showGeziInfo()):t.doMove(),t.changeSpineForward()})))},p.prototype.showGeziInfo=function(){this.GetGameObject("wenhao_"+this.index).active=!1,this.GetGameObject("img_qianbi_"+this.index).active=!1,this.GetGameObject("text_"+this.index).active=!1,0==this.index?(0==this.pos_table[this.pos_table.length-1]?this.GetGameObject("wenhao_"+(this.pos_table.length-1)).active=!0:this.GetGameObject("img_qianbi_"+(this.pos_table.length-1)).active=!0,this.GetGameObject("text_"+(this.pos_table.length-1)).active=!0):(0==this.pos_table[this.index-1]?this.GetGameObject("wenhao_"+(this.index-1)).active=!0:this.GetGameObject("img_qianbi_"+(this.index-1)).active=!0,this.GetGameObject("text_"+(this.index-1)).active=!0)},p.prototype.changeSpineForward=function(){4<=this.index&&this.index<=11?this.GetGameObject("spine").scaleX=.6:this.GetGameObject("spine").scaleX=-.6},p.prototype.showBoxAward=function(t){this.GetGameObject("bg_award").active=t,this.GetGameObject("mask1").active=t,this.GetSkeleton("huodeshouyi").clearTracks(),t?(30==(t=0==this.pos_table[this.index]?this.getRandomTime():this.pos_table[this.index])?(this.GetSkeleton("huodeshouyi").setAnimation(0,"shouyi_01",!1),this.GetSkeleton("huodeshouyi").addAnimation(0,"shouyi_01_daiji",!0)):45==t?(this.GetSkeleton("huodeshouyi").setAnimation(0,"shouyi_02",!1),this.GetSkeleton("huodeshouyi").addAnimation(0,"shouyi_02_daiji",!0)):60==t?(this.GetSkeleton("huodeshouyi").setAnimation(0,"shouyi_03",!1),this.GetSkeleton("huodeshouyi").addAnimation(0,"shouyi_03_daiji",!0)):(this.GetSkeleton("huodeshouyi").setAnimation(0,"shouyi_04",!1),this.GetSkeleton("huodeshouyi").addAnimation(0,"shouyi_04_daiji",!0)),this.income=r.default.Instance().getShopIncomeByM(this.shopID,t),120==t&&this.income<4e4?this.income=4e4:45==t&&this.income<15e3?this.income=15e3:60==t&&this.income<2e4?this.income=2e4:30==t&&this.income<1e4&&(this.income=1e4),this.SetText("lbl_coin",h.default.formatCoin(this.income))):this.noClose=!1},p.prototype.getRandomTime=function(){var t=[30,45,60,120];return t[h.default.getRandomInt(0,t.length)]},p.prototype.closeUI=function(){this.noClose||s.prototype.closeUI.call(this)},__decorate([o(cc.SpriteFrame)],p.prototype,"frame_gezi_yellow",void 0),__decorate([o(cc.SpriteFrame)],p.prototype,"frame_gezi_red",void 0),__decorate([o(cc.SpriteFrame)],p.prototype,"frame_qian_30",void 0),__decorate([o(cc.SpriteFrame)],p.prototype,"frame_qian_45",void 0),__decorate([o(cc.SpriteFrame)],p.prototype,"frame_qian_60",void 0),__decorate([o(cc.SpriteFrame)],p.prototype,"frame_qian_120",void 0),i=__decorate([i],p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.frame_gezi_yellow=null,t.frame_gezi_red=null,t.frame_qian_30=null,t.frame_qian_45=null,t.frame_qian_60=null,t.frame_qian_120=null,t.spineNode=null,t.shopID=0,t.pos_table=[30,45,30,0,45,120,30,60,30,45,30,0,45,120,30,60],t.index=0,t.noClose=!1,t.dice=0,t.income=0,t.moreCount=0,t}a.default=i,cc._RF.pop()},{}],_process:[function(t,e,n){"use strict";cc._RF.push(e,"53936fLZUdDcrZFQ8Qyj2KA","_process");var i,o,a=(a=e).exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function r(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}}();var u,h=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?h=u.concat(h):d=-1,h.length&&f())}function f(){if(!l){var t=r(p);l=!0;for(var e=h.length;e;){for(u=h,h=[];++d<e;)u&&u[d].run();d=-1,e=h.length}u=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new _(t,e)),1!==h.length||l||r(f)},_.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0},cc._RF.pop()},{}],async:[function(t,e,n){(function(i){"use strict";cc._RF.push(e,"ee6d80p2GFGVpRr0GCveod+","async");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=e,s=n;(function(t,e){var n="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},i=function(i){function o(t,e){e|=0;for(var n=Math.max(t.length-e,0),i=Array(n),o=0;o<n;o++)i[o]=t[e+o];return i}function s(t){var e=void 0===t?"undefined":n(t);return null!=t&&("object"==e||"function"==e)}function c(t){setTimeout(t,0)}function r(t){return function(e){var n=o(arguments,1);t(function(){e.apply(null,n)})}}function u(t){return Bt(function(e,n){var i;try{i=t.apply(this,e)}catch(e){return n(e)}s(i)&&"function"==typeof i.then?i.then(function(t){h(n,null,t)},function(t){h(n,t.message?t:new Error(t))}):n(null,i)})}function h(t,e,n){try{t(e,n)}catch(t){Lt(l,t)}}function l(t){throw t}function d(t){return Et&&"AsyncFunction"===t[Symbol.toStringTag]}function p(t){return d(t)?u(t):t}function f(t){return function(e){var n=o(arguments,1),i=Bt(function(n,i){var o=this;return t(e,function(t,e){p(t).apply(o,n.concat(e))},i)});return n.length?i.apply(this,n):i}}function _(t){return null==t?void 0===t?Jt:Wt:Xt&&Xt in Object(t)?function(t){var e=zt.call(t,Ht),n=t[Ht];try{var i=!(t[Ht]=void 0)}catch(t){}var o=Vt.call(t);return i&&(e?t[Ht]=n:delete t[Ht]),o}(t):qt.call(t)}function m(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=$t}function g(t){return null!=t&&m(t.length)&&(!s(t=t)||(t=_(t))!=Yt&&t!=Kt&&t!=Zt&&t!=Qt)}function y(){}function I(t){return function(){var e;null!==t&&(e=t,t=null,e.apply(this,arguments))}}function v(t){return null!=t&&"object"==(void 0===t?"undefined":n(t))}function b(t){return v(t)&&"[object Arguments]"==_(t)}function G(t,e){var n,i,o,a=ae(t),s=!a&&oe(t),c=!a&&!s&&ce(t),r=!a&&!s&&!c&&ye(t),u=a||s||c||r,h=u?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=h.length;for(n in t)!e&&!Ie.call(t,n)||u&&("length"==n||c&&("offset"==n||"parent"==n)||r&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||(i=n,(o=null==(o=l)?9007199254740991:o)&&("number"==typeof i||re.test(i))&&-1<i&&i%1==0&&i<o))||h.push(n);return h}function S(t){if(t!==("function"==typeof(e=t&&t.constructor)&&e.prototype||ve))return be(t);var e,n,i=[];for(n in Object(t))Ge.call(t,n)&&"constructor"!=n&&i.push(n);return i}function D(t){return(g(t)?G:S)(t)}function O(t){return g(t)?(n=-1,i=(e=t).length,function(){return++n<i?{value:e[n],key:n}:null}):(h=(h=t,ee&&h[ee]&&h[ee]()))?(r=h,u=-1,function(){var t=r.next();return t.done?null:(u++,{value:t.value,key:u})}):(a=D(o=t),s=-1,c=a.length,function(){var t=a[++s];return s<c?{value:o[t],key:t}:null});var e,n,i,o,a,s,c,r,u,h}function T(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function k(t){return function(e,n,i){function o(t,e){if(--r,t)c=!0,i(t);else{if(e===te||c&&r<=0)return c=!0,i(null);a()}}function a(){for(;r<t&&!c;){var e=s();if(null===e)return c=!0,r<=0&&i(null),0;r+=1,n(e.value,e.key,T(o))}}if(i=I(i||y),t<=0||!e)return i(null);var s=O(e),c=!1,r=0;a()}}function x(t,e,n,i){k(e)(t,p(n),i)}function w(t,e){return function(n,i,o){return t(n,e,i,o)}}function C(t){return function(e,n,i){return t(he,e,p(n),i)}}function j(t,e,n,i){i=i||y,e=e||[];var o=[],a=0,s=p(n);t(e,function(t,e,n){var i=a++;s(t,function(t,e){o[i]=e,n(t)})},function(t){i(t,o)})}function M(t){return function(e,n,i,o){return t(k(n),e,p(i),o)}}function A(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function B(t,e){return t&&we(t,e,D)}function F(t){return t!=t}function R(t,e,n){return e==e?function(t,e){for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}(t,e):function(t,e){for(var i=t.length,o=n+-1;++o<i;)if(e(t[o],o,t))return o;return-1}(t,F)}function L(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function E(t){if("string"==typeof t)return t;if(ae(t))return L(t,E)+"";if("symbol"==(void 0===(e=t)?"undefined":n(e))||v(e)&&"[object Symbol]"==_(e))return Ce?Ce.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function N(t){return je.test(t)?t.match(Re)||[]:t.split("")}function U(t,e,n){return(t=null==t?"":E(t))&&(n||void 0===e)?t.replace(Le,""):t&&(e=E(e))?(o=function(t,e){for(var n=-1,i=t.length;++n<i&&-1<R(e,t[n],0););return n}(i=t=N(t),e=N(e)),n=function(t,e){for(var n=t.length;n--&&-1<R(e,t[n],0););return n}(t,e)+1,e=i.length,n=void 0===n?e:n,(!o&&e<=n?i:function(t,e,n){var i=-1,o=t.length;(n=o<n?o:n)<0&&(n+=o),o=n<(e=e<0?o<-e?0:o+e:e)?0:n-e>>>0,e>>>=0;for(var a=Array(o);++i<o;)a[i]=t[i+e];return a}(i,o,n)).join("")):t;var i,o}function P(t,e){var n={};B(t,function(t,e){function i(e,n){var i=L(o,function(t){return e[t]});i.push(n),p(t).apply(null,i)}var o,a=d(t),s=!a&&1===t.length||a&&0===t.length;if(ae(t))o=t.slice(0,-1),t=t[t.length-1],n[e]=o.concat(0<o.length?i:t);else if(s)n[e]=t;else{if(o=(s=(s=(s=(s=t).toString().replace(Pe,"")).match(Ee)[2].replace(" ",""))?s.split(Ne):[]).map(function(t){return U(t.replace(Ue,""))}),0===t.length&&!a&&0===o.length)throw new Error("autoInject task functions require explicit parameters.");a||o.pop(),n[e]=o.concat(i)}}),le(n,e)}function z(){this.head=this.tail=null,this.length=0}function V(t,e){t.length=1,t.head=t.tail=e}function H(t,e,n){function i(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(u.started=!0,0===(t=ae(t)?t:[t]).length&&u.idle())return Lt(function(){u.drain()});for(var i=0,o=t.length;i<o;i++){var a={data:t[i],callback:n||y};e?u._tasks.unshift(a):u._tasks.push(a)}c||(c=!0,Lt(function(){c=!1,u.process()}))}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=p(t),a=0,s=[],c=!1,r=!1,u={_tasks:new z,concurrency:e,payload:n,saturated:y,unsaturated:y,buffer:e/4,empty:y,drain:y,error:y,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){u.drain=y,u._tasks.empty()},unshift:function(t,e){i(t,!0,e)},remove:function(t){u._tasks.remove(t)},process:function(){if(!r){for(r=!0;!u.paused&&a<u.concurrency&&u._tasks.length;){var t=[],e=[],n=u._tasks.length;u.payload&&(n=Math.min(n,u.payload));for(var i=0;i<n;i++){var c=u._tasks.shift();t.push(c),s.push(c),e.push(c.data)}a+=1,0===u._tasks.length&&u.empty(),a===u.concurrency&&u.saturated();var h=T(function(t){return function(e){--a;for(var n=0,i=t.length;n<i;n++){var o=t[n],c=R(s,o,0);0===c?s.shift():0<c&&s.splice(c,1),o.callback.apply(o,arguments),null!=e&&u.error(e,o.data)}a<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}(t));o(e,h)}r=!1}},length:function(){return u._tasks.length},running:function(){return a},workersList:function(){return s},idle:function(){return u._tasks.length+a===0},pause:function(){u.paused=!0},resume:function(){!1!==u.paused&&(u.paused=!1,Lt(u.process))}};return u}function q(t,e){return H(t,1,e)}function W(t,e,n,i){i=I(i||y);var o=p(n);We(t,function(t,n,i){o(e,t,function(t,n){e=n,i(t)})},function(t){i(t,e)})}function J(){var t=L(arguments,p);return function(){var e=o(arguments),n=this,i=e[e.length-1];"function"==typeof i?e.pop():i=y,W(t,e,function(t,e,i){e.apply(n,t.concat(function(t){var e=o(arguments,1);i(t,e)}))},function(t,e){i.apply(n,[t].concat(e))})}}function X(t){return t}function Z(t,e){return function(n,i,o,a){a=a||y;var s,c=!1;n(i,function(n,i,a){o(n,function(i,o){i?a(i):t(o)&&!s?(s=e(c=!0,n),a(null,te)):a()})},function(t){t?a(t):a(null,c?s:e(!1))})}}function Y(t,e){return e}function K(t){return function(e){var i=o(arguments,1);i.push(function(e){var i=o(arguments,1);"object"==("undefined"==typeof console?"undefined":n(console))&&(e?console.error&&console.error(e):console[t]&&A(i,function(e){console[t](e)}))}),p(e).apply(null,i)}}function Q(t,e,n){function i(t){if(t)return n(t);(t=o(arguments,1)).push(a),c.apply(this,t)}function a(t,e){return t?n(t):e?void s(i):n(null)}n=T(n||y);var s=p(t),c=p(e);a(null,!0)}function $(t,e,n){n=T(n||y);var i=p(t);i(function t(a){return a?n(a):(a=o(arguments,1),e.apply(this,a)?i(t):void n.apply(null,[null].concat(a)))})}function tt(t,e,n){$(t,function(){return!e.apply(this,arguments)},n)}function et(t,e,n){function i(t){return t?n(t):void s(o)}function o(t,e){return t?n(t):e?void a(i):n(null)}n=T(n||y);var a=p(e),s=p(t);s(o)}function nt(t){return function(e,n,i){return t(e,i)}}function it(t,e,n){he(t,nt(p(e)),n)}function ot(t,e,n,i){k(e)(t,nt(p(n)),i)}function at(t){return d(t)?t:Bt(function(e,n){var i=!0;e.push(function(){var t=arguments;i?Lt(function(){n.apply(null,t)}):n.apply(null,t)}),t.apply(this,e),i=!1})}function st(t){return!t}function ct(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e,n,i){var o=new Array(e.length);t(e,function(t,e,i){n(t,function(t,n){o[e]=!!n,i(t)})},function(t){if(t)return i(t);for(var n=[],a=0;a<e.length;a++)o[a]&&n.push(e[a]);i(null,n)})}function ut(t,e,n,i){var o=[];t(e,function(t,e,i){n(t,function(n,a){n?i(n):(a&&o.push({index:e,value:t}),i())})},function(t){t?i(t):i(null,L(o.sort(function(t,e){return t.index-e.index}),ct("value")))})}function ht(t,e,n,i){(g(e)?rt:ut)(t,e,p(n),i||y)}function lt(t,e){var n=T(e||y),i=p(at(t));!function t(e){return e?n(e):void i(t)}()}function dt(t,e,n,i){i=I(i||y);var o={},a=p(n);x(t,e,function(t,e,n){a(t,e,function(t,i){return t?n(t):(o[e]=i,void n())})},function(t){i(t,o)})}function pt(t,e){var n=Object.create(null),i=Object.create(null);e=e||X;var a=p(t),s=Bt(function(t,s){var c=e.apply(null,t);c in n?Lt(function(){s.apply(null,n[c])}):c in i?i[c].push(s):(i[c]=[s],a.apply(null,t.concat(function(){var t=o(arguments);n[c]=t;var e=i[c];delete i[c];for(var a=0,s=e.length;a<s;a++)e[a].apply(null,t)})))});return s.memo=n,s.unmemoized=t,s}function ft(t,e,n){n=n||y;var i=g(e)?[]:{};t(e,function(t,e,n){p(t)(function(t,a){2<arguments.length&&(a=o(arguments,1)),i[e]=a,n(t)})},function(t){n(t,i)})}function _t(t,e){ft(he,t,e)}function mt(t,e,n){ft(k(e),t,n)}function gt(t,e){if(e=I(e||y),!ae(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,i=t.length;n<i;n++)p(t[n])(e)}function yt(t,e,n,i){W(o(t).reverse(),e,n,i)}function It(t){var e=p(t);return Bt(function(t,n){return t.push(function(t,e){t?n(null,{error:t}):(e=arguments.length<=2?e:o(arguments,1),n(null,{value:e}))}),e.apply(this,t)})}function vt(t){var e;return ae(t)?e=L(t,It):(e={},B(t,function(t,n){e[n]=It.call(this,t)})),e}function bt(t,e,n,i){ht(t,e,function(t,e){n(t,function(t,n){e(t,!n)})},i)}function Gt(t){return function(){return t}}function St(t,e,i){var o={times:5,intervalFunc:Gt(0)};if(arguments.length<3&&"function"==typeof t?(i=e||y,e=t):(function(t,e){if("object"==(void 0===e?"undefined":n(e)))t.times=+e.times||5,t.intervalFunc="function"==typeof e.interval?e.interval:Gt(+e.interval||0),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||5}}(o,t),i=i||y),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var a=p(e),s=1;!function t(){a(function(e){e&&s++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(t,o.intervalFunc(s)):i.apply(null,arguments)})}()}function Dt(t,e){ft(We,t,e)}function Ot(t,e,n){function i(t,e){return(t=t.criteria)<(e=e.criteria)?-1:e<t?1:0}var o=p(e);De(t,function(t,e){o(t,function(n,i){return n?e(n):void e(null,{value:t,criteria:i})})},function(t,e){return t?n(t):void n(null,L(e.sort(i),ct("value")))})}function Tt(t,e,n){var i=p(t);return Bt(function(o,a){var s,c=!1;o.push(function(){c||(a.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var e=t.name||"anonymous";(e=new Error('Callback function "'+e+'" timed out.')).code="ETIMEDOUT",n&&(e.info=n),c=!0,a(e)},e),i.apply(null,o)})}function kt(t,e,n,i){n=p(n),Te(function(e){for(var n=-1,i=_n(fn(t-e),0),o=Array(i);i--;)o[++n]=e,e+=1;return o}(0),e,n,i)}function xt(t,e,n,i){arguments.length<=3&&(i=n,n=e,e=ae(t)?[]:{}),i=I(i||y);var o=p(n);he(t,function(t,n,i){o(e,t,n,i)},function(t){i(t,e)})}function wt(t,e){var n,i=null;e=e||y,$e(t,function(t,e){p(t)(function(t,a){n=2<arguments.length?o(arguments,1):a,e(!(i=t))})},function(){e(i,n)})}function Ct(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function jt(t,e,n){n=T(n||y);var i=p(e);if(!t())return n(null);i(function e(a){return a?n(a):t()?i(e):(a=o(arguments,1),void n.apply(null,[null].concat(a)))})}function Mt(t,e,n){jt(function(){return!t.apply(this,arguments)},e,n)}function At(t){var e=o(arguments,1);return function(){var n=o(arguments);return t.apply(null,e.concat(n))}}function Bt(t){return function(){var e=o(arguments),n=e.pop();t.call(this,e,n)}}var Ft="function"==typeof setImmediate&&setImmediate,Rt="object"==(void 0===t?"undefined":n(t))&&"function"==typeof t.nextTick,Lt=r(Ft?setImmediate:Rt?t.nextTick:c),Et="function"==typeof Symbol,Nt="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,Ut="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,Pt=(en=Nt||Ut||Function("return this")()).Symbol,zt=(Ke=Object.prototype).hasOwnProperty,Vt=Ke.toString,Ht=Pt?Pt.toStringTag:void 0,qt=Object.prototype.toString,Wt="[object Null]",Jt="[object Undefined]",Xt=Pt?Pt.toStringTag:void 0,Zt="[object AsyncFunction]",Yt="[object Function]",Kt="[object GeneratorFunction]",Qt="[object Proxy]",$t=9007199254740991,te={},ee="function"==typeof Symbol&&Symbol.iterator,ne=(Qe=Object.prototype).hasOwnProperty,ie=Qe.propertyIsEnumerable,oe=b(function(){return arguments}())?b:function(t){return v(t)&&ne.call(t,"callee")&&!ie.call(t,"callee")},ae=Array.isArray,se="object"==(void 0===i?"undefined":n(i))&&i&&!i.nodeType&&i,ce=((nn=(tn=se&&"object"==(void 0===a?"undefined":n(a))&&a&&!a.nodeType&&a)&&tn.exports===se?en.Buffer:void 0)?nn.isBuffer:void 0)||function(){return!1},re=/^(?:0|[1-9]\d*)$/,ue={};function he(t,e,n){(g(t)?function(t,e,n){function i(t,e){t?n(t):++a!==s&&e!==te||n(null)}n=I(n||y);var o=0,a=0,s=t.length;for(0===s&&n(null);o<s;o++)e(t[o],o,T(i))}:Se)(t,p(e),n)}function le(t,e,n){function i(t,e){l.push(function(){var i,s,l;i=t,u||(s=T(function(t,e){var s;r--,2<arguments.length&&(e=o(arguments,1)),t?(s={},B(c,function(t,e){s[e]=t}),s[i]=e,u=!0,h=Object.create(null),n(t,s)):(c[i]=e,A(h[i]||[],function(t){t()}),a())}),r++,l=p(e[e.length-1]),1<e.length?l(c,s):l(s))})}function a(){if(0===l.length&&0===r)return n(null,c);for(;l.length&&r<e;)l.shift()()}"function"==typeof e&&(n=e,e=null),n=I(n||y);var s=D(t).length;if(!s)return n(null);e=e||s;var c={},r=0,u=!1,h=Object.create(null),l=[],d=[],f={};B(t,function(e,n){if(!ae(e))return i(n,[e]),void d.push(n);var o=e.slice(0,e.length-1),a=o.length;return 0===a?(i(n,e),void d.push(n)):(f[n]=a,void A(o,function(s){if(!t[s])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+s+"` in "+o.join(", "));(h[s]||(h[s]=[])).push(function(){0==--a&&i(n,e)})}))}),function(){for(var e=0;d.length;)e++,A(function(e){var n=[];return B(t,function(t,i){ae(t)&&0<=R(t,e,0)&&n.push(i)}),n}(d.pop()),function(t){0==--f[t]&&d.push(t)});if(e!==s)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),a()}ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;var de,pe,fe,_e,me=(on="object"==(void 0===i?"undefined":n(i))&&i&&!i.nodeType&&i)&&"object"==(void 0===a?"undefined":n(a))&&a&&!a.nodeType&&a,ge=me&&me.exports===on&&Nt.process,ye=(sn=(an=function(){try{return ge&&ge.binding&&ge.binding("util")}catch(t){}}())&&an.isTypedArray)?(fe=sn,function(t){return fe(t)}):function(t){return v(t)&&m(t.length)&&!!ue[_(t)]},Ie=Object.prototype.hasOwnProperty,ve=Object.prototype,be=(de=Object.keys,pe=Object,function(t){return de(pe(t))}),Ge=Object.prototype.hasOwnProperty,Se=w(x,1/0),De=C(j),Oe=f(De),Te=M(j),ke=w(Te,1),xe=f(ke),we=function(t,e,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[++i];if(!1===e(o[c],c,o))break}return t},Ce=(cn=Pt?Pt.prototype:void 0)?cn.toString:void 0,je=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Me="[\\ud800-\\udfff]",Ae="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Be="[\\ufe0e\\ufe0f]?"+(hn="(?:"+Ae+"|\\ud83c[\\udffb-\\udfff])?")+"(?:\\u200d(?:"+[ln="[^\\ud800-\\udfff]",dn="(?:\\ud83c[\\udde6-\\uddff]){2}",pn="[\\ud800-\\udbff][\\udc00-\\udfff]"].join("|")+")[\\ufe0e\\ufe0f]?"+hn+")*",Fe="(?:"+[ln+Ae+"?",Ae,dn,pn,Me].join("|")+")",Re=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Fe+Be,"g"),Le=/^\s+|\s+$/g,Ee=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Ne=/,/,Ue=/(=.+)?(\s*)$/,Pe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ze(){return J.apply(null,o(arguments).reverse())}function Ve(t,e,n,i){i=i||y;var a=p(n);Te(t,e,function(t,e){a(t,function(t){return t?e(t):e(null,o(arguments,1))})},function(t,e){for(var n=[],o=0;o<e.length;o++)e[o]&&(n=Je.apply(n,e[o]));return i(t,n)})}function He(){var t=o(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}}function qe(t,e){var n=p(t);return H(function(t,e){n(t[0],e)},e,1)}z.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,--this.length,t},z.prototype.empty=function(){for(;this.head;)this.shift();return this},z.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},z.prototype.insertBefore=function(t,e){e.prev=t.prev,(e.next=t).prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},z.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):V(this,t)},z.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):V(this,t)},z.prototype.shift=function(){return this.head&&this.removeLink(this.head)},z.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},z.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},z.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var We=w(x,1),Je=Array.prototype.concat,Xe=w(Ve,1/0),Ze=w(Ve,1),Ye=C(Z(X,Y)),Ke=w(Ut=M(Z(X,Y)),1),Qe=K("dir"),$e=w(ot,1),tn=C(Z(st,st)),en=w(se=M(Z(st,st)),1),nn=C(ht),on=w(me=M(ht),1),an=w(Nt=function(t,e,n,i){i=i||y;var o=p(n);Te(t,e,function(t,e){o(t,function(n,i){return n?e(n):e(null,{key:i,val:t})})},function(t,e){for(var n,o,a={},s=Object.prototype.hasOwnProperty,c=0;c<e.length;c++)e[c]&&(n=e[c].key,o=e[c].val,s.call(a,n)?a[n].push(o):a[n]=[o]);return i(t,a)})},1/0),sn=w(Nt,1),cn=(Pt=K("log"),w(dt,1/0)),rn=w(dt,1),un=r(Rt?t.nextTick:Ft?setImmediate:c),hn=function(t,e){var n=qe(t,e);return n.push=function(t,e,i){if("function"!=typeof(i=null==i?y:i))throw new Error("task callback must be a function");if(n.started=!0,0===(t=ae(t)?t:[t]).length)return Lt(function(){n.drain()});e=e||0;for(var o=n._tasks.head;o&&e>=o.priority;)o=o.next;for(var a=0,s=t.length;a<s;a++){var c={data:t[a],priority:e,callback:i};o?n._tasks.insertBefore(o,c):n._tasks.push(c)}Lt(n.process)},delete n.unshift,n},ln=C(bt),dn=w(Ae=M(bt),1),pn=function(t,e){e||(e=t,t=null);var n=p(e);return Bt(function(e,i){function o(t){n.apply(null,e.concat(t))}t?St(t,o,i):St(o,i)})},fn=(Me=C(Z(Boolean,X)),Fe=w(_e=M(Z(Boolean,X)),1),Math.ceil),_n=Math.max;Be=w(kt,1/0),Rt=w(kt,1),Ft=function(t,e){function n(e){var n=p(t[a++]);e.push(T(i)),n.apply(null,e)}function i(i){return i||a===t.length?e.apply(null,arguments):void n(o(arguments,1))}if(e=I(e||y),!ae(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var a=0;n([])};i.default={apply:At,applyEach:Oe,applyEachSeries:xe,asyncify:u,auto:le,autoInject:P,cargo:q,compose:ze,concat:Xe,concatLimit:Ve,concatSeries:Ze,constant:He,detect:Ye,detectLimit:Ut,detectSeries:Ke,dir:Qe,doDuring:Q,doUntil:tt,doWhilst:$,during:et,each:it,eachLimit:ot,eachOf:he,eachOfLimit:x,eachOfSeries:We,eachSeries:$e,ensureAsync:at,every:tn,everyLimit:se,everySeries:en,filter:nn,filterLimit:me,filterSeries:on,forever:lt,groupBy:an,groupByLimit:Nt,groupBySeries:sn,log:Pt,map:De,mapLimit:Te,mapSeries:ke,mapValues:cn,mapValuesLimit:dt,mapValuesSeries:rn,memoize:pt,nextTick:un,parallel:_t,parallelLimit:mt,priorityQueue:hn,queue:qe,race:gt,reduce:W,reduceRight:yt,reflect:It,reflectAll:vt,reject:ln,rejectLimit:Ae,rejectSeries:dn,retry:St,retryable:pn,seq:J,series:Dt,setImmediate:Lt,some:Me,someLimit:_e,someSeries:Fe,sortBy:Ot,timeout:Tt,times:Be,timesLimit:kt,timesSeries:Rt,transform:xt,tryEach:wt,unmemoize:Ct,until:Mt,waterfall:Ft,whilst:jt,all:tn,allLimit:se,allSeries:en,any:Me,anyLimit:_e,anySeries:Fe,find:Ye,findLimit:Ut,findSeries:Ke,forEach:it,forEachSeries:$e,forEachLimit:ot,forEachOf:he,forEachOfSeries:We,forEachOfLimit:x,inject:W,foldl:W,foldr:yt,select:nn,selectLimit:me,selectSeries:on,wrapSync:u},i.apply=At,i.applyEach=Oe,i.applyEachSeries=xe,i.asyncify=u,i.auto=le,i.autoInject=P,i.cargo=q,i.compose=ze,i.concat=Xe,i.concatLimit=Ve,i.concatSeries=Ze,i.constant=He,i.detect=Ye,i.detectLimit=Ut,i.detectSeries=Ke,i.dir=Qe,i.doDuring=Q,i.doUntil=tt,i.doWhilst=$,i.during=et,i.each=it,i.eachLimit=ot,i.eachOf=he,i.eachOfLimit=x,i.eachOfSeries=We,i.eachSeries=$e,i.ensureAsync=at,i.every=tn,i.everyLimit=se,i.everySeries=en,i.filter=nn,i.filterLimit=me,i.filterSeries=on,i.forever=lt,i.groupBy=an,i.groupByLimit=Nt,i.groupBySeries=sn,i.log=Pt,i.map=De,i.mapLimit=Te,i.mapSeries=ke,i.mapValues=cn,i.mapValuesLimit=dt,i.mapValuesSeries=rn,i.memoize=pt,i.nextTick=un,i.parallel=_t,i.parallelLimit=mt,i.priorityQueue=hn,i.queue=qe,i.race=gt,i.reduce=W,i.reduceRight=yt,i.reflect=It,i.reflectAll=vt,i.reject=ln,i.rejectLimit=Ae,i.rejectSeries=dn,i.retry=St,i.retryable=pn,i.seq=J,i.series=Dt,i.setImmediate=Lt,i.some=Me,i.someLimit=_e,i.someSeries=Fe,i.sortBy=Ot,i.timeout=Tt,i.times=Be,i.timesLimit=kt,i.timesSeries=Rt,i.transform=xt,i.tryEach=wt,i.unmemoize=Ct,i.until=Mt,i.waterfall=Ft,i.whilst=jt,i.all=tn,i.allLimit=se,i.allSeries=en,i.any=Me,i.anyLimit=_e,i.anySeries=Fe,i.find=Ye,i.findLimit=Ut,i.findSeries=Ke,i.forEach=it,i.forEachSeries=$e,i.forEachLimit=ot,i.forEachOf=he,i.forEachOfSeries=We,i.forEachOfLimit=x,i.inject=W,i.foldl=W,i.foldr=yt,i.select=nn,i.selectLimit=me,i.selectSeries=on,i.wrapSync=u,Object.defineProperty(i,"__esModule",{value:!0})};"object"==(void 0===s?"undefined":n(s))&&void 0!==a?i(s):"function"==typeof define&&define.amd?define(["exports"],i):i((void 0).async=(void 0).async||{})}).call(void 0,t("_process"),void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],dengjitisheng:[function(t,e,n){"use strict";cc._RF.push(e,"26056IOXjpE+LnS+qF/aZL0","dengjitisheng");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager"),u=o("DataManager"),h=o("UIManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(l,s),l.prototype.setData=function(t,e){this.GetSkeleton("sp").setAnimation(0,"dengjitisheng"+e,!0),t=r.default.Instance().getShopDataByIDLV(t,0),this.SetSprite("icon","texture/UI/menu/"+t.shop_icon)},l.prototype.onDestroy=function(){s.prototype.onDestroy.call(this),5!=u.default.Instance().guideIndex&&4!=u.default.Instance().guideIndex||h.default.Instance().node.getComponent("LoadGuide").runTask(5)},o=__decorate([o],l);function l(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],fenbao2:[function(t,e,n){"use strict";var i;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cc._RF.push(e,"76279crrKlBUIbJ7O9VynIy","fenbao2"),cc.Class((o(i={extends:cc.Component,properties:{},start:function(){},onLoad:function(){this.onloadimg1()}},"start",function(){}),o(i,"onloadimg1",function(){var t=this;console.log("1"),cc.loader.downloader.loadSubpackage("fb1",function(e){if(e)return t.onloadimg1(),console.error(e);t.onloadimg2()})}),o(i,"onloadimg2",function(){var t=this;console.log("2"),cc.loader.downloader.loadSubpackage("fb2",function(e){if(e)return t.onloadimg2(),console.error(e);console.log("load subpackage successfully."),cc.director.loadScene("fwxy")})}),i)),cc._RF.pop()},{}],fenbao4:[function(t,e,n){"use strict";var i;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cc._RF.push(e,"21300N5SjtC+YJAb6JYiDcO","fenbao4"),cc.Class((o(i={extends:cc.Component,properties:{},start:function(){},onLoad:function(){this.onloadimg1()}},"start",function(){}),o(i,"onloadimg1",function(){var t=this;console.log("1"),cc.loader.downloader.loadSubpackage("AppSubResFrame",function(e){if(e)return t.onloadimg1(),console.error(e);t.onloadimg2()})}),o(i,"onloadimg2",function(){var t=this;console.log("2"),cc.loader.downloader.loadSubpackage("GuestSubRes",function(e){if(e)return t.onloadimg2(),console.error(e);t.onloadimg3()})}),o(i,"onloadimg3",function(){var t=this;console.log("4"),cc.loader.downloader.loadSubpackage("WorldRes",function(e){if(e)return t.onloadimg3(),console.error(e);cc.director.loadScene("StartApp")})}),o(i,"onloadimg4",function(){var t=this;console.log("4"),cc.loader.downloader.loadSubpackage("fb4",function(e){if(e)return t.onloadimg4(),console.error(e);console.log("load subpackage successfully."),cc.director.loadScene("menu")})}),i)),cc._RF.pop()},{}],getObjectId:[function(t,e,n){"use strict";cc._RF.push(e,"b582awUzXNFO6cspSB+rw76","getObjectId");var i,o,a=n;Object.defineProperty(a,"__esModule",{value:!0}),a.getObjectId=(i=0,o=new WeakMap,function(t){return o.has(t)?o.get(t):(o.set(t,i),i++)}),cc._RF.pop()},{}],hashBoolean:[function(t,e,n){"use strict";cc._RF.push(e,"3b9b3uJ5wNMTKCfxLr0JL/a","hashBoolean");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.hashBoolean=function(t){return Math.imul(+t+452614237,866975723)},cc._RF.pop()},{}],hashNumber:[function(t,e,n){"use strict";cc._RF.push(e,"8b13bW6DsdPrJN0V6PAs0Wx","hashNumber");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.hashNumber=function(t){return 843517583+(0|t)|0},cc._RF.pop()},{}],hashObject:[function(t,e,n){"use strict";cc._RF.push(e,"322940EpzpCHprfBmrF22FT","hashObject");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0});var a=i("hashString");o.hashObject=function(t,e,n){return null===t?3630146161:Object.entries(t).sort(function(t,e){return(t=t[0])<(e=e[0])?-1:e<t?1:0}).reduce(function(t,i){var o=i[0];i=i[1];return Math.imul(Math.imul(t,397)^a.hashString(o),397)^n(i,e)},2066111009)},cc._RF.pop()},{}],hashSequence:[function(t,e,n){"use strict";cc._RF.push(e,"81ddb3iUoRASrb93r01qWJL","hashSequence");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.hashSequence=function(t,e,n){return t.slice().reduce(function(t,i){return Math.imul(t,31)+n(i,e)},1)},cc._RF.pop()},{}],hashString:[function(t,e,n){"use strict";cc._RF.push(e,"15e74Ug7U9Awq71e++z596I","hashString");var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.hashString=function(t){return 0===t.length?737245463:t.split("").reduce(function(t,e){return(t<<5)-t+e.charCodeAt(0)|0},737245463)},cc._RF.pop()},{}],hash:[function(t,e,n){"use strict";cc._RF.push(e,"dc2daN9RC9OfZTmaeOGWpkB","hash");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s=o("hashString"),c=o("hashObject"),r=o("hashSequence"),u=o("hashNumber"),h=o("hashBoolean"),l=o("getObjectId");a.hash=function(t,e){var n=e||new Set;switch(e=void 0===t?"undefined":i(t)){case"string":return s.hashString(t);case"number":return u.hashNumber(t);case"boolean":return h.hashBoolean(t);case"undefined":return 683831609}if("object"!=e)throw Error("not supported");if(null===t)return 3630146161;if(e=l.getObjectId(t),n.has(e))throw Error("circular");return n.add(e),t[Symbol.iterator]?r.hashSequence(t,n,a.hash):c.hashObject(t,n,a.hash)},cc._RF.pop()},{}],huodexindianpu:[function(t,e,n){"use strict";cc._RF.push(e,"5a20c/R1vFIi7Ps1pPvEnQz","huodexindianpu");var i,o=t,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s,c=o("BaseUI"),r=o("ConfigManager");o=(i=cc._decorator).ccclass,i.property,s=c.default,__extends(u,s),u.prototype.setData=function(t){this.GetSkeleton("sp").setAnimation(0,"huodexindianpu",!0);var e=r.default.Instance().getShopDataByIDLV(t,0);this.SetSprite("icon","texture/UI/menu/"+e.shop_icon),this.GetGameObject("text_mianguan").active=t==r.ShopID.\u9762\u9986,this.GetGameObject("text_chaofanguan").active=t==r.ShopID.\u7092\u996d\u9986,this.GetGameObject("text_hanbaodian").active=t==r.ShopID.\u6c49\u5821\u5e97,this.GetGameObject("text_huoguodian").active=t==r.ShopID.\u706b\u9505\u5e97,this.GetGameObject("text_naichadian").active=t==r.ShopID.\u5976\u8336\u5e97,this.GetGameObject("text_niupaidian").active=t==r.ShopID.\u725b\u6392\u5e97,this.GetGameObject("text_xicanguan").active=t==r.ShopID.\u897f\u9910\u9986,this.GetGameObject("text_riliaoguan").active=t==r.ShopID.\u65e5\u6599\u9986,this.GetGameObject("text_zhongcanguan").active=t==r.ShopID.\u4e2d\u9910\u9986,this.GetGameObject("text_miqilin").active=t==r.ShopID.\u7c73\u5176\u6797},o=__decorate([o],u);function u(){return null!==s&&s.apply(this,arguments)||this}a.default=o,cc._RF.pop()},{}],hw_fuwu:[function(t,e,n){"use strict";cc._RF.push(e,"227e5rKutpHnpaX8RKY65Nz","hw_fuwu"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=Number(cc.sys.localStorage.getItem("fuwu"));console.log(t),1==t&&(this.node.active=!1),this.s=0,this.YinSi=cc.find("YinSi")},btnYes:function(){this.s=1,cc.sys.localStorage.setItem("fuwu",this.s),this.node.active=!1},btnNo:function(){qg.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){console.log("exitApplication complete")}})},btnClickYS:function(){this.YinSi&&(this.YinSi.active=!0)},btnClickGB:function(){this.YinSi&&(this.YinSi.active=!1)},btnNot:function(){0==this.s?(this.s=1,this.dui.active=!0):(this.s=0,this.dui.active=!1)}}),cc._RF.pop()},{}],initdata2:[function(t,e,n){"use strict";cc._RF.push(e,"359bfQwxjlPqakhFGCKshLz","initdata2");var i=t("Advertisement_API");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),i.initVal(),i.resNode=this,i.bannerAdverV()}}),cc._RF.pop()},{Advertisement_API:"Advertisement_API"}],jkzg:[function(t,e,n){"use strict";cc._RF.push(e,"02c48c8RR9EfIx7jR79mt3c","jkzg"),cc.Class({extends:cc.Component,properties:{},start:function(){this.scheduleOnce(function(){cc.director.loadScene("LoadingScene")},3)}}),cc._RF.pop()},{}],locator:[function(t,e,n){"use strict";cc._RF.push(e,"a392cmryilHj7Tuk+QEgAm/","locator");var i=e,o={timeout:5e3,parse:function(t){return cc.assert(t,"locator string is null"),t.split(/[.,//,>,#]/g).map(function(e){var n=t.indexOf(e);return{symbol:t[n-1]||">",name:e.trim()}})},seekNodeByName:function(t,e){if(!t)return null;if(t.getName()==e)return t;for(var n=t.getChildren(),i=n.length,o=0;o<i;o++){var a=n[o];if(null!=(a=this.seekNodeByName(a,e)))return a}return null},locateNode:function(t,e){this.locating||(this.startTime=Date.now(),this.locating=!0);var n=this.parse(t);cc.assert(n&&n.length);for(var i=void 0,a=cc.director.getScene(),s=0;s<n.length;s++){var c=n[s];switch(c.symbol){case"/":i=a.getChildByName(c.name);break;case".":i=a[c.name];break;case">":i=this.seekNodeByName(a,c.name);break;case"#":i=this.seekNodeByTag(a,c.name)}if(!i){a=null;break}a=i}return a&&a.active&&e?(this.locating=!1,e(null,a)):e&&(Date.now()-this.startTime>this.timeout?e({error:"timeout",locator:t}):setTimeout(function(){o.locateNode(t,e)},10)),a},getNodeFullPath:function(t){for(var e=[],n=t;e.unshift(n.name),n=n.parent;);return e.shift(),e.join("/")}};window.Locator=o,i.exports=o,cc._RF.pop()},{}],lzw:[function(t,e,n){"use strict";cc._RF.push(e,"fc5dbS5//dPBYNqnExJt8QQ","lzw");var i=n;function o(t,e,n,i){var a=t&&t.constructor==Array?t.slice():[],s=(e|=0,n|=0,r(i=Math.max(0|(i||8),1))),c=4294967295;function r(t){return(1<<t)-1}function u(t,e){return new Array(e+1).join("0").substring(t.length)+t}function h(t){return String.fromCharCode(t+19968)}function l(t,e){return t.charCodeAt(e)-19968}this.data=function(t,e){return isNaN(e)||(a[t]=0|e||0),isNaN(t)?a.slice():a[t]},this.read=function(){var t;return n<=e?0:(t=32-e%32<i?((a[e>>5]&r(32-e%32))<<(e+i)%32|a[1+(e>>5)]>>>32-(e+i)%32)&s:a[e>>5]>>>32-(e+i)%32&s,e+=i,t)},this.write=function(t){t&=s,32-n%32<i?(a[n>>5]|=t>>>i-(32-n%32),a[1+(n>>5)]|=t<<32-(n+i)%32&c):a[n>>5]|=t<<32-(n+i)%32&c,n+=i},this.eof=function(){return n<=e},this.reset=function(){e=0,s=r(i)},this.resetAll=function(){a=[],n=e=0,s=r(i=8),c=4294967295},this.setBitLength=function(t){i=Math.max(0|t,1),s=r(i)},this.toHexString=function(){for(var t=[],e=0;e<a.length;e++)a[e]<0?t.push(u((a[e]>>>16).toString(16),4)+u((65535&a[e]).toString(16),4)):t.push(u(a[e].toString(16),8));return t.join("")},this.toBinaryString=function(){for(var t=[],e=0;e<a.length;e++)a[e]<0?t.push(u((a[e]>>>1).toString(2),31)+(1&a[e])):t.push(u(a[e].toString(2),32));return t.join("").substring(0,n)},this.toCString=function(){var t=e,o=i,a=[];for(this.setBitLength(13),this.reset();e<n;)a.push(h(this.read()));return this.setBitLength(o),e=t,h(n>>>13)+h(8191&n)+a.join("")},this.fromCString=function(t){this.resetAll(),this.setBitLength(13);for(var e=2;e<t.length;e++)this.write(l(t,e));return n=l(t,0)<<13|8191&l(t,1),this},this.clone=function(){return new o(a,e,n,i)}}Object.defineProperty(i,"__esModule",{value:!0}),i.lzw_compress=function(t){var e,n=new o,i=-1,a=(t=t.replace(/[\u0100-\uFFFF]/g,function(t){return"&#u"+(t=t.charCodeAt(0).toString(16),new Array(5).join("0").substring(t.length)+t)+";"}),{}),s=[],c=8;n.setBitLength(c);for(var r=0;r<258;r++)a[r]=++i;for(s[0]=t.charCodeAt(0),r=1;r<t.length;r++)s[1]=t.charCodeAt(r),null==a[e=s[0]<<16|s[1]]?(a[e]=++i,s[0]>(1<<c)-1&&(n.write(128),n.setBitLength(++c)),n.write(s[0]),s[0]=s[1]):s[0]=a[e];return n.write(s[0]),n.toCString()},i.lzw_decompress=function(t){for(var e=new function(){var e=[],n=0,i=0,o=13,a=s(o);function s(t){return(1<<t)-1}this.r=function(){var t=32-n%32<o?((e[n>>5]&s(32-n%32))<<(n+o)%32|e[1+(n>>5)]>>>32-(n+o)%32)&a:e[n>>5]>>>32-(n+o)%32&a;return n+=o,t},this.w=function(t){t&=a,32-i%32<o?(e[i>>5]|=t>>>o-(32-i%32),e[1+(i>>5)]|=t<<32-(i+o)%32&4294967295):e[i>>5]|=t<<32-(i+o)%32&4294967295,i+=o},this.e=function(){return i<=n},this.l=function(t){o=Math.max(0|t,1),a=s(o)};for(var c=2;c<t.length;c++)this.w(t.charCodeAt(c)-19968);i=t.charCodeAt(0)-19968<<13|t.charCodeAt(1)-19968&8191,n=0},n=[],i=-1,o={},a=[],s=8,c=0;c<2+(1<<s);c++)o[c]=String.fromCharCode(++i);for(e.l(s),a[0]=e.r();!e.e();)a[1]=e.r(),128==a[1]&&(e.l(++s),a[1]=e.r()),null==o[a[1]]?o[++i]=o[a[0]]+o[a[0]].charAt(0):o[++i]=o[a[0]]+o[a[1]].charAt(0),n.push(o[a[0]]),a[0]=a[1];return n.push(o[a[0]]),n.join("").replace(/\&\#u[0-9a-fA-F]{4};/g,function(t){return String.fromCharCode(parseInt(t.substring(3,7),16))})},cc._RF.pop()},{}],nativedAD:[function(t,e,n){"use strict";cc._RF.push(e,"65df1G45chEea+Ax9w63Rgu","nativedAD");var i=t("Advertisement_API");cc.Class({extends:cc.Component,properties:{img:{default:null,type:cc.Node},close:{default:null,type:cc.Node},title:{default:null,type:cc.Node}},onLoad:function(){console.log("+++++++++++++++++++++++++++++++"),cc.game.addPersistRootNode(this.node),this.scheduleOnce(function(){this.node.x=cc.find("Canvas").width/2,this.node.y=cc.find("Canvas").height/2},.5),i.nativeAdn=this.node,i.nativeAdn.zIndex=99999,i.nativeAdimg=this.img,i.nativeAdl=this.title,this.close.on(cc.Node.EventType.TOUCH_END,this.onClose,this),this.node.active=!1;var t=this;cc.game.on(cc.game.EVENT_HIDE,function(){console.log("\u6e38\u620f\u8fdb\u5165\u540e\u53f0"),t.onClose()},this)},onClose:function(){i.nativeAdtouch=!1,this.node.active=!1}}),cc._RF.pop()},{Advertisement_API:"Advertisement_API"}],task1:[function(t,e,n){"use strict";cc._RF.push(e,"bacf9o/6uZLjobKXSbc33tR","task1");var i=t,o=e,a=n;Object.defineProperty(a,"__esModule",{value:!0});var s=i("UIManager"),c=i("DataManager");o.exports={name:"\u5f15\u5bfc\u4e00",debug:!1,autorun:!1,steps:[{command:{cmd:"text",args:"text_01"},pos:{x:400,y:500}},{command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){1==c.default.Instance().guideIndex&&(s.default.Instance().GetGameObject("bg_liang").active=!0,s.default.Instance().SetText("lbl_guild_dd","1/10")),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","2/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"3",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","3/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"4",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","4/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"5",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","5/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"6",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","6/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"7",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","7/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"8",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","8/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"9",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","9/10"),t()}},{command:{cmd:"text",args:"text_02"},pos:{x:400,y:500}},{desc:"10",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_jiedan"},delayTime:0,onEnd:function(t){s.default.Instance().SetText("lbl_guild_dd","10/10"),s.default.Instance().GetGameObject("bg_liang").active=!1,t()}},{command:{cmd:"text",args:"text_03"},pos:{x:400,y:500}},{command:{cmd:"finger",args:"Canvas/hotel_0/dingdan"},delayTime:.1},{command:{cmd:"text",args:"text_04"},pos:{x:200,y:300}},{command:{cmd:"finger",args:"Canvas/UI/UI/UIOrder/btn_close"},delayTime:.1,onEnd:function(t){t(),s.default.Instance().node.getComponent("LoadGuide").runTask(c.default.Instance().guideIndex)}}]},cc._RF.pop()},{}],task2:[function(t,e,n){"use strict";cc._RF.push(e,"44b7bSZCDhKWolpTySHzBCq","task2");e.exports={name:"\u62db\u52df\u5458\u5de5",debug:!1,autorun:!1,steps:[{command:{cmd:"text",args:"text_05"},pos:{x:400,y:500}},{desc:"\u70b9\u51fbCanvas/UI/bottom/btn_yuangong",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_yuangong"},delayTime:.1},{command:{cmd:"text",args:"text_06"},pos:{x:200,y:300},delayTime:.1},{desc:"\u70b9\u51fbCanvas/UI/UI/UIStaff/page_1/view/content_waimai/StaffCell1/btn_yellow",command:{cmd:"finger",args:"Canvas/UI/UI/UIStaff/page_1/view/content_waimai/StaffCell1/btn_yellow"},delayTime:.5},{command:{cmd:"text",args:"text_07"},pos:{x:200,y:300}},{desc:"\u70b9\u51fbCanvas/UI/UI/UIStaff/btn_page/btn_dianzhang",command:{cmd:"finger",args:"Canvas/UI/UI/UIStaff/btn_page/btn_dianzhang"},delayTime:.1},{command:{cmd:"text",args:"text_08"},pos:{x:200,y:300}},{desc:"\u70b9\u51fbCanvas/UI/UI/UIStaff/page_4/view/content_dianzhang/MgrCell0/btn_yellow",command:{cmd:"finger",args:"Canvas/UI/UI/UIStaff/page_4/view/content_dianzhang/MgrCell0/btn_yellow"},delayTime:.5}]},cc._RF.pop()},{}],task3:[function(t,e,n){"use strict";cc._RF.push(e,"bfeffRvYWBAuIpbJsI4vEZt","task3");e.exports={name:"\u8d2d\u4e70\u5bb6\u5177",debug:!1,autorun:!1,steps:[{command:{cmd:"text",args:"text_09"},pos:{x:400,y:500}},{desc:"\u70b9\u51fbCanvas/UI/bottom/btn_zhuangxiu",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_zhuangxiu"},delayTime:.1},{command:{cmd:"text",args:"text_10"},pos:{x:200,y:300}},{desc:"\u70b9\u51fbCanvas/UI/UI/UIDecor/ScrollView/view/content_node/DecorCell/top_node/btn_yellow",command:{cmd:"finger",args:"Canvas/UI/UI/UIDecor/ScrollView/view/content_node/DecorCell/top_node/btn_yellow"},delayTime:.5}]},cc._RF.pop()},{}],task4:[function(t,e,n){"use strict";cc._RF.push(e,"ff5dbqKo9NDDKjEHUpFhmRR","task4");e.exports={name:"\u5347\u7ea7\u5e97\u94fa",debug:!1,autorun:!1,steps:[{command:{cmd:"text",args:"text_11"},pos:{x:400,y:500}},{desc:"\u70b9\u51fbCanvas/UI/UI/UIDecor/bg_5/node_no_max/btn_green",command:{cmd:"finger",args:"Canvas/UI/UI/UIDecor/bg_5/node_no_max/btn_green"},delayTime:.1}]},cc._RF.pop()},{}],task5:[function(t,e,n){"use strict";cc._RF.push(e,"0964fArlAVJRZh/MdcV5tT5","task5");e.exports={name:"\u89e3\u9501\u83dc\u54c1",debug:!1,autorun:!1,steps:[{command:{cmd:"text",args:"text_12"},pos:{x:400,y:500}},{desc:"\u70b9\u51fbCanvas/UI/bottom/btn_caipin",command:{cmd:"finger",args:"Canvas/UI/bottom/btn_caipin"},delayTime:.1},{command:{cmd:"text",args:"text_12"},pos:{x:400,y:500}},{desc:"\u70b9\u51fbCanvas/UI/UI/UIMenu/ScrollView/view/content/MenuCell1/bottom/node_unlock",command:{cmd:"finger",args:"Canvas/UI/UI/UIMenu/ScrollView/view/content/MenuCell1/bottom/node_unlock"},delayTime:.5}]},cc._RF.pop()},{}],task6:[function(t,e,n){"use strict";cc._RF.push(e,"6025bHz7thPMpiISktIemOq","task6");e.exports={name:"\u89e3\u9501\u7b2c\u4e8c\u4e2a\u5e97",debug:!1,autorun:!1,steps:[{command:{cmd:"text",args:"text_13"},pos:{x:200,y:300}},{desc:"\u70b9\u51fbCanvas/UnlockLayer/btn_jiesuo_shop",command:{cmd:"finger",args:"Canvas/UnlockLayer/btn_jiesuo_shop"},delayTime:.1}]},cc._RF.pop()},{}],"ts-gethashcode":[function(t,e,n){"use strict";cc._RF.push(e,"54e23/VoR5AkJuiKwmxh0P8","ts-gethashcode");var i=t,o=n;Object.defineProperty(o,"__esModule",{value:!0}),i=i("hash"),o.getHashCode=i.hash,cc._RF.pop()},{}],util:[function(t,e,n){"use strict";cc._RF.push(e,"a4e00+/aXVDe6/Kgq1OBUEh","util"),cc._RF.pop()},{}]},{},["0","Utils","BaseUI","AStar","AdCenter","AudioMgr","AuthorizeLayer","BaseTianshi","Base_Chushi","Base_Dianzhang","Base_Qishou","Base_Shouyin","BounsLayer","ChangeTimeLayer","CloseBusyLayer","ConfigManager","CookCell","DZInspireLayer","DataManager","DecorCell","DingDanCell","EventType","GameEvent","GameManager","GameScene","GetAward","GodCommand","GodGuide","GodText","HTTP","HashFunc","List","ListItem","LoadGuide","Loading","LongTouchComponent","LuPinResult","Manager_Base","Manager_Chaofanguan","Manager_Hanbaodian","Manager_Huoguodian","Manager_Mianguan","Manager_Miqilin","Manager_Naichadian","Manager_Niupaidian","Manager_Riliaoguan","Manager_Xicanguan","Manager_Zhongcanguan","MenuCell","MgrCell","Model_Baozhuang","Model_Shop","MsgBox","MsgHints","NumberRoll","OrderCell","PackageCell","PeiSongCell","PoolMgr","Pos_Base","Setup","Shake","ShopLayer","Singleton","SlowDownLayer","StaffCell","TaskCell","TaskLayer","TitleLayer","UIDecor","UIJiJingLayer","UIManager","UIMenu","UIOrder","UIPeiSong","UIStaff","UITaskReward","UITuanTiOrder","WXTTUtils","ZhuanpanLayer","async","dengjitisheng","getObjectId","hash","hashBoolean","hashNumber","hashObject","hashSequence","hashString","huodexindianpu","locator","lzw","_process","task1","task2","task3","task4","task5","task6","ts-gethashcode","util","Advertisement_API","fenbao2","fenbao4","hw_fuwu","initdata2","jkzg","nativedAD"]);